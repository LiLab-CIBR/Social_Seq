{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u6b22\u8fce\u6765\u5230 Social-Seq \u9879\u76ee \u8fd9\u662f Social-Seq \u9879\u76ee\u7684\u4e00\u4e9b\u8bf4\u660e\u6587\u6863\u3002\u4f7f\u7528 Social-seq \u89e3\u6790\u52a8\u7269\u5bc6\u5207\u63a5\u89e6\u65f6\u7684\u4e09\u7ef4\u59ff\u6001\uff0c\u793e\u4ea4\u7c7b\u522b\uff0c\u4ee5\u53ca\u793e\u4ea4\u80cc\u540e\u7684\u60c5\u7eea\u72b6\u6001\u3002\u901a\u8fc7\u6784\u9020\u5b9e\u65f6\u884c\u4e3a\u5206\u7c7b\u7cfb\u7edf\uff0c\u6709\u671b\u6cbb\u7597\u5b64\u72ec\u75c7\uff08ASD\uff09\u793e\u4ea4\u969c\u788d\u3002 \u5305\u542b\u5185\u5bb9 \u786c\u8f6f\u4ef6\u7cfb\u7edf\u5b89\u88c5 - \u5b89\u88c5\u591a\u76f8\u673a\u7cfb\u7edf\uff0c\u8c03\u8bd5OBS\uff0c\u542f\u7528F2\u540c\u6b65\u52a9\u624b\u3002 \u5c0f\u7403\u77eb\u6b63 - \u6807\u5b9a\u591a\u76f8\u673a\u7cfb\u7edf\u7684\u7a7a\u95f4\u5750\u6807\u7cfb\u3002 \u5c0f\u9f20\u56fe\u50cf\u5206\u5272 - \u5728\u590d\u6742\u80cc\u666f\u4e2d\uff0c\u4f7f\u7528\u5206\u5272\u6a21\u578b\uff0c\u589e\u5f3a\u5c0f\u9f20\u4fe1\u566a\u6bd4\u3002\u5355\u9f20\u3002 Social \u4e09\u7ef4\u5173\u952e\u70b9\u91cd\u6784 - \u4e24\u53ea\u5927\u9f20\u5206\u5272\u3001\u5173\u952e\u70b9\u9884\u6d4b\u3001\u5e73\u6ed1. Seq \u884c\u4e3a\u6807\u7b7e - \u83b7\u53d6\u5927\u9f20\u793e\u4ea4\u4e00\u81f4\u6027\u768436\u7c7b\u884c\u4e3a\u6807\u7b7e\u3002 \u4ee3\u7801\u53d1\u5e03 \ud83d\udcc5 \u6700\u540e\u66f4\u65b0\u65f6\u95f4 2025-8-15\uff0c\u4f5c\u8005 ChenXinfeng\u3002\ud83d\udc68\u200d\ud83d\udcbb \u5f15\u7528 \ud83d\udcda Xinfeng Chen; Xianming Tao; Zhenchao Zhong; Yuanqing Zhang; Yixuan Li; Ye Ouyang; Zhaoyi Ding; Min An; Miao Wang; Ying Li* (2025). Decoding the Valence of Developmental Social Behavior: Dopamine Governs Social Motivation Deficits in Autism. In preparation. \u9648\u6615\u67ab. (2025). \u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u52a8\u7269\u81ea\u7531\u793e\u4ea4\u884c\u4e3a\u5206\u6790\u7814\u7a76. \u535a\u58eb\u8bba\u6587\uff0c\u5317\u4eac\u5927\u5b66. \u901a\u8baf\u4f5c\u8005 \ud83d\udcec \u674e\u83b9\uff1aliying","title":"\u9996\u9875"},{"location":"#social-seq","text":"\u8fd9\u662f Social-Seq \u9879\u76ee\u7684\u4e00\u4e9b\u8bf4\u660e\u6587\u6863\u3002\u4f7f\u7528 Social-seq \u89e3\u6790\u52a8\u7269\u5bc6\u5207\u63a5\u89e6\u65f6\u7684\u4e09\u7ef4\u59ff\u6001\uff0c\u793e\u4ea4\u7c7b\u522b\uff0c\u4ee5\u53ca\u793e\u4ea4\u80cc\u540e\u7684\u60c5\u7eea\u72b6\u6001\u3002\u901a\u8fc7\u6784\u9020\u5b9e\u65f6\u884c\u4e3a\u5206\u7c7b\u7cfb\u7edf\uff0c\u6709\u671b\u6cbb\u7597\u5b64\u72ec\u75c7\uff08ASD\uff09\u793e\u4ea4\u969c\u788d\u3002","title":"\u6b22\u8fce\u6765\u5230 Social-Seq \u9879\u76ee"},{"location":"#_1","text":"\u786c\u8f6f\u4ef6\u7cfb\u7edf\u5b89\u88c5 - \u5b89\u88c5\u591a\u76f8\u673a\u7cfb\u7edf\uff0c\u8c03\u8bd5OBS\uff0c\u542f\u7528F2\u540c\u6b65\u52a9\u624b\u3002 \u5c0f\u7403\u77eb\u6b63 - \u6807\u5b9a\u591a\u76f8\u673a\u7cfb\u7edf\u7684\u7a7a\u95f4\u5750\u6807\u7cfb\u3002 \u5c0f\u9f20\u56fe\u50cf\u5206\u5272 - \u5728\u590d\u6742\u80cc\u666f\u4e2d\uff0c\u4f7f\u7528\u5206\u5272\u6a21\u578b\uff0c\u589e\u5f3a\u5c0f\u9f20\u4fe1\u566a\u6bd4\u3002\u5355\u9f20\u3002 Social \u4e09\u7ef4\u5173\u952e\u70b9\u91cd\u6784 - \u4e24\u53ea\u5927\u9f20\u5206\u5272\u3001\u5173\u952e\u70b9\u9884\u6d4b\u3001\u5e73\u6ed1. Seq \u884c\u4e3a\u6807\u7b7e - \u83b7\u53d6\u5927\u9f20\u793e\u4ea4\u4e00\u81f4\u6027\u768436\u7c7b\u884c\u4e3a\u6807\u7b7e\u3002","title":"\u5305\u542b\u5185\u5bb9"},{"location":"#_2","text":"\u6700\u540e\u66f4\u65b0\u65f6\u95f4 2025-8-15\uff0c\u4f5c\u8005 ChenXinfeng\u3002\ud83d\udc68\u200d\ud83d\udcbb","title":"\u4ee3\u7801\u53d1\u5e03 \ud83d\udcc5"},{"location":"#_3","text":"Xinfeng Chen; Xianming Tao; Zhenchao Zhong; Yuanqing Zhang; Yixuan Li; Ye Ouyang; Zhaoyi Ding; Min An; Miao Wang; Ying Li* (2025). Decoding the Valence of Developmental Social Behavior: Dopamine Governs Social Motivation Deficits in Autism. In preparation. \u9648\u6615\u67ab. (2025). \u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u52a8\u7269\u81ea\u7531\u793e\u4ea4\u884c\u4e3a\u5206\u6790\u7814\u7a76. \u535a\u58eb\u8bba\u6587\uff0c\u5317\u4eac\u5927\u5b66.","title":"\u5f15\u7528 \ud83d\udcda"},{"location":"#_4","text":"\u674e\u83b9\uff1aliying","title":"\u901a\u8baf\u4f5c\u8005 \ud83d\udcec"},{"location":"figure_reproduce/","text":"\u8bba\u6587\u4ee3\u7801\u590d\u73b0 \"(2025) Decoding the Valence of Developmental Social Behavior: Dopamine Governs Social Motivation Deficits in Autism. In preparation\" \u4f5c\u8005 : \u9648\u6615\u67ab, 2025-08-09 \u4fee\u6539 : \u9676\u73b0\u660e\uff0c2025-08-15 \u4ee3\u7801\u4e0b\u8f7d \u4ee3\u7801\u5df2\u4e0a\u4f20\u81f3 Github\uff0c\u94fe\u63a5\u4e3a\uff1axxx\u3002\u8bf7\u5230\u6b64\u94fe\u63a5\u4e0b\u8f7d\u4ee3\u7801\u3002 Figures \u56fe\u5e93 \u8fd0\u884c\u6b64\u4ed3\u5e93\u4e2d\u7684\u4ee3\u7801\u4ee5\u590d\u73b0\u8bba\u6587\u4e2d\u7684\u56fe\u8868\u3002","title":"\u6587\u7ae0\u56fe\u8868\u590d\u73b0"},{"location":"figure_reproduce/#_1","text":"\"(2025) Decoding the Valence of Developmental Social Behavior: Dopamine Governs Social Motivation Deficits in Autism. In preparation\" \u4f5c\u8005 : \u9648\u6615\u67ab, 2025-08-09 \u4fee\u6539 : \u9676\u73b0\u660e\uff0c2025-08-15","title":"\u8bba\u6587\u4ee3\u7801\u590d\u73b0"},{"location":"figure_reproduce/#_2","text":"\u4ee3\u7801\u5df2\u4e0a\u4f20\u81f3 Github\uff0c\u94fe\u63a5\u4e3a\uff1axxx\u3002\u8bf7\u5230\u6b64\u94fe\u63a5\u4e0b\u8f7d\u4ee3\u7801\u3002","title":"\u4ee3\u7801\u4e0b\u8f7d"},{"location":"figure_reproduce/#figures","text":"\u8fd0\u884c\u6b64\u4ed3\u5e93\u4e2d\u7684\u4ee3\u7801\u4ee5\u590d\u73b0\u8bba\u6587\u4e2d\u7684\u56fe\u8868\u3002","title":"Figures \u56fe\u5e93"},{"location":"%E5%8D%95%E9%BC%A0%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/application/","text":"","title":"\u5e94\u7528\u573a\u666f"},{"location":"%E5%8D%95%E9%BC%A0%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/dataset/","text":"","title":"\u6570\u636e\u96c6\u5236\u4f5c&\u6a21\u578b\u66f4\u65b0"},{"location":"%E5%8D%95%E9%BC%A0%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/process/","text":"\u5355\u53ea\u5927\u9f20\u4e09\u7ef4\u59ff\u6001\u91cd\u6784 \u5f00\u53d1\u8005\uff1a\u9648\u6615\u67ab\uff0c 2025-8-15 \u9700\u8981\uff1a * *.calib - \u5c0f\u7403\u77eb\u6b63\u6587\u4ef6\u3002 * vdir/*.mp4 - \u5927\u9f209\u89c6\u89d2\u89c6\u9891\u3002 * volsize - \u52a8\u7269\u5360\u636e\u7684\u7acb\u4f53\u7a7a\u95f4\uff0c\u4ee5\u80cc\u4e3a\u4e2d\u5fc3\u70b9\u3002 \u5b8c\u6574\u4ee3\u7801 ## 1 \u5fc5\u9009\u9879\u53c2\u6570 vdir = '/mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/zyq_to_dzy/20221116/solo' # \u8981\u5206\u6790\u7684\u89c6\u9891\u6587\u4ef6/\u6587\u4ef6\u5939 vdir = '/mnt/liying.cibr.ac_cn_Data_Temp/multiview_9/zyq_to_dzy/20221123/solo' vcalib = ` ls /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/dzy_oyy_ball/checked/0328-0330/solo/*.calibpkl ` # \u5c0f\u7403\u77eb\u6b63\u7684\u6587\u4ef6 volsize = 210 #vdir=/mnt/liying.cibr.ac_cn_Data_Temp/multiview_9/oyy/test_singlerat2022-11-24_17-08-23_baseline_rat1.mp4 ## volsize for rats # | | Male | Female | # | ------- | ---- | ------ | # | DAY35 | 160 | 160 | # | DAY50 | 190 | 180 | # | DAY75 | 220 | 200 | # | DAY\u6210\u5e74 | 220 | 210 | ## 2. \u63a8\u8350\uff08\u9ed8\u8ba4\uff09\u7684\u6a21\u578b\u6587\u4ef6 config = '/home/liying_lab/chenxinfeng/DATA/mmpose/res50_coco_com2d_512x320_oyy.py' # com2d \u7684\u6a21\u578b\u914d\u7f6e\u6587\u4ef6 dannce_project = '/home/liying_lab/chenxinfeng/DATA/dannce/demo_single/rat14_1280x800x9_mono' # dannce \u7684\u6a21\u578b\u8def\u5f84 ## 3. \u6587\u4ef6\u540d\u89e3\u6790 vfiles_nake = ` ls $vdir /*.mp4 | egrep -v \"com3d|sktdraw|mask\" | sed 's/.mp4//' ` vfiles = ` echo \" $vfiles_nake \" | xargs -I {} echo {} .segpkl ` volsize_vfiles = ` echo \" $vfiles \" | xargs -I {} echo $volsize {} ` ## 4. predict com3d python -m lilab.multiview_scripts_dev.s1_ballvideo2matpkl_full_faster $vdir --pannels 9 --config $config echo \" $vfiles_nake \" | xargs -n 1 -P 0 -I {} python -m lilab.multiview_scripts_dev.s4_matpkl2matcalibpkl {} .matpkl $vcalib echo \" $vfiles_nake \" | xargs -n 1 -P 0 -I {} python -m lilab.dannce_single.s1_matcalibpkl_com3d_to_segpkl {} .matcalibpkl # ls $vdir/*.segpkl | sed 's/.segpkl/.mp4/' | xargs -n 1 -P 0 python -m lilab.mmdet_dev.s4_segpkl_com3d_to_video --vox_size $volsize --maxlen 9000 ## 5. dannce predict cd $dannce_project echo \" $volsize_vfiles \" | sed 's/.segpkl/.mp4/' | cat -n | xargs -P 4 -l bash -c '/home/liying_lab/chenxinfeng/.conda/envs/mmdet/bin/dannce-predict-video-trt ../../configs/dannce_rat14_1280x800x9_max_config.yaml --vol-size $1 --video-file $2 --gpu-id $(($0%4))' echo \" $vfiles \" | sed 's/.segpkl/_dannce_predict.pkl/' | xargs -P 0 -l -r python -m lilab.dannce.s4_videopredictpkl2matcalibpkl # Smooth foot_w16, body_w64, one hit echo \" $vfiles \" | sed 's/.segpkl/.matcalibpkl/' | xargs -l -P 6 -r python -m lilab.smoothnet.s1_matcalibpkl2smooth_foot ## 6. \u7ed8\u5236 video # plot video # echo \"$vfiles\" | sed 's/.segpkl/.matcalibpkl/' | # xargs -P 6 -l -r bash -c 'python -m lilab.mmpose.s3_matcalibpkl_2_video2d $0 --iview 1 --maxlen 9000' echo \" $vfiles \" | sed 's/.segpkl/.smoothed_foot.matcalibpkl/' | xargs -P 6 -l -r bash -c 'python -m lilab.mmpose.s3_matcalibpkl_2_video2d $0 --iview 1 --postfix smoothed_foot --maxlen 9000' ## 7. Clean echo \" $vfiles_nake \" | xargs -n 1 -I {} rm {} .matpkl {} _dannce_predict*","title":"\u4ee3\u7801\u6d41\u7a0b"},{"location":"%E5%8D%95%E9%BC%A0%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/process/#_1","text":"\u5f00\u53d1\u8005\uff1a\u9648\u6615\u67ab\uff0c 2025-8-15 \u9700\u8981\uff1a * *.calib - \u5c0f\u7403\u77eb\u6b63\u6587\u4ef6\u3002 * vdir/*.mp4 - \u5927\u9f209\u89c6\u89d2\u89c6\u9891\u3002 * volsize - \u52a8\u7269\u5360\u636e\u7684\u7acb\u4f53\u7a7a\u95f4\uff0c\u4ee5\u80cc\u4e3a\u4e2d\u5fc3\u70b9\u3002","title":"\u5355\u53ea\u5927\u9f20\u4e09\u7ef4\u59ff\u6001\u91cd\u6784"},{"location":"%E5%8D%95%E9%BC%A0%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/process/#_2","text":"## 1 \u5fc5\u9009\u9879\u53c2\u6570 vdir = '/mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/zyq_to_dzy/20221116/solo' # \u8981\u5206\u6790\u7684\u89c6\u9891\u6587\u4ef6/\u6587\u4ef6\u5939 vdir = '/mnt/liying.cibr.ac_cn_Data_Temp/multiview_9/zyq_to_dzy/20221123/solo' vcalib = ` ls /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/dzy_oyy_ball/checked/0328-0330/solo/*.calibpkl ` # \u5c0f\u7403\u77eb\u6b63\u7684\u6587\u4ef6 volsize = 210 #vdir=/mnt/liying.cibr.ac_cn_Data_Temp/multiview_9/oyy/test_singlerat2022-11-24_17-08-23_baseline_rat1.mp4 ## volsize for rats # | | Male | Female | # | ------- | ---- | ------ | # | DAY35 | 160 | 160 | # | DAY50 | 190 | 180 | # | DAY75 | 220 | 200 | # | DAY\u6210\u5e74 | 220 | 210 | ## 2. \u63a8\u8350\uff08\u9ed8\u8ba4\uff09\u7684\u6a21\u578b\u6587\u4ef6 config = '/home/liying_lab/chenxinfeng/DATA/mmpose/res50_coco_com2d_512x320_oyy.py' # com2d \u7684\u6a21\u578b\u914d\u7f6e\u6587\u4ef6 dannce_project = '/home/liying_lab/chenxinfeng/DATA/dannce/demo_single/rat14_1280x800x9_mono' # dannce \u7684\u6a21\u578b\u8def\u5f84 ## 3. \u6587\u4ef6\u540d\u89e3\u6790 vfiles_nake = ` ls $vdir /*.mp4 | egrep -v \"com3d|sktdraw|mask\" | sed 's/.mp4//' ` vfiles = ` echo \" $vfiles_nake \" | xargs -I {} echo {} .segpkl ` volsize_vfiles = ` echo \" $vfiles \" | xargs -I {} echo $volsize {} ` ## 4. predict com3d python -m lilab.multiview_scripts_dev.s1_ballvideo2matpkl_full_faster $vdir --pannels 9 --config $config echo \" $vfiles_nake \" | xargs -n 1 -P 0 -I {} python -m lilab.multiview_scripts_dev.s4_matpkl2matcalibpkl {} .matpkl $vcalib echo \" $vfiles_nake \" | xargs -n 1 -P 0 -I {} python -m lilab.dannce_single.s1_matcalibpkl_com3d_to_segpkl {} .matcalibpkl # ls $vdir/*.segpkl | sed 's/.segpkl/.mp4/' | xargs -n 1 -P 0 python -m lilab.mmdet_dev.s4_segpkl_com3d_to_video --vox_size $volsize --maxlen 9000 ## 5. dannce predict cd $dannce_project echo \" $volsize_vfiles \" | sed 's/.segpkl/.mp4/' | cat -n | xargs -P 4 -l bash -c '/home/liying_lab/chenxinfeng/.conda/envs/mmdet/bin/dannce-predict-video-trt ../../configs/dannce_rat14_1280x800x9_max_config.yaml --vol-size $1 --video-file $2 --gpu-id $(($0%4))' echo \" $vfiles \" | sed 's/.segpkl/_dannce_predict.pkl/' | xargs -P 0 -l -r python -m lilab.dannce.s4_videopredictpkl2matcalibpkl # Smooth foot_w16, body_w64, one hit echo \" $vfiles \" | sed 's/.segpkl/.matcalibpkl/' | xargs -l -P 6 -r python -m lilab.smoothnet.s1_matcalibpkl2smooth_foot ## 6. \u7ed8\u5236 video # plot video # echo \"$vfiles\" | sed 's/.segpkl/.matcalibpkl/' | # xargs -P 6 -l -r bash -c 'python -m lilab.mmpose.s3_matcalibpkl_2_video2d $0 --iview 1 --maxlen 9000' echo \" $vfiles \" | sed 's/.segpkl/.smoothed_foot.matcalibpkl/' | xargs -P 6 -l -r bash -c 'python -m lilab.mmpose.s3_matcalibpkl_2_video2d $0 --iview 1 --postfix smoothed_foot --maxlen 9000' ## 7. Clean echo \" $vfiles_nake \" | xargs -n 1 -I {} rm {} .matpkl {} _dannce_predict*","title":"\u5b8c\u6574\u4ee3\u7801"},{"location":"%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8%E5%9F%B9%E8%AE%AD/basic_command/","text":"\u4e00\u4e9b\u57fa\u7840\u6280\u80fd \u4f7f\u7528 htop \u67e5\u770b CPU \u548c\u5185\u5b58\u4f7f\u7528\u60c5\u51b5 \u4f7f\u7528 nv \u547d\u4ee4\u67e5\u770b GPU \u4f7f\u7528\u60c5\u51b5\u3002 \u5c06\u4e0b\u9762\u547d\u4ee4\u6dfb\u52a0\u5230 ~/.bashrc ,\u7136\u540e\u91cd\u542f\u7ec8\u7aef\u3002 # \u4f7f\u7528`nv` \u547d\u4ee4\u67e5\u770b GPU \u4f7f\u7528\u60c5\u51b5 alias nv = 'watch -n 1 nvidia-smi' # \u4f7f\u7528\u67d0\u51e0\u4e2aGPU (0,1,2,3), \u5176\u5b83GPU\u4e0d\u7528 # $choosecuda 0,1,2,3 $choosecuda 3 function choosecuda { if [ -z \" $1 \" ] ; then num = 0 ; else num = \" $1 \" ; fi CUDA_VISIBLE_DEVICES = $num export CUDA_VISIBLE_DEVICES } # \u4f7f\u7528 killcuda \u5f3a\u884c\u91ca\u653e\u672c\u8d26\u6237\u7684 GPU \u5185\u5b58\u5360\u7528 # $killcuda alias killcuda = \"ps -o pid= -u $( whoami ) | \\ grep -wFf <( nvidia-smi -q -x | grep pid | sed -e 's/<pid>//g' -e 's/<\\/pid>//g' -e 's/^[[:space:]]*//' | sort | uniq ) | \\ xargs kill -9 \" # \u4f7f\u7528 killcuda2 \u5f3a\u884c\u91ca\u653e\u6240\u6709\u8d26\u6237\u7684 GPU \u5185\u5b58\u5360\u7528 # $sudo killcuda2 alias killcuda2 = \"fuser -v /dev/nvidia-uvm 2> /dev/null | xargs kill -9 \" # \u67e5\u627e\u5f53\u524d\u6587\u4ef6\u5939\u5185 python \u6587\u4ef6\u4e2d\u5305\u542b\u67d0\u5b57\u6bb5\u7684\u6587\u4ef6 # $findgrep WORDS alias findgrep = 'find . -name \"*.py\" -type f -exec echo \\\"{}\\\" \\; | xargs grep -n ' choosecuda \u7528\u4e8e\u9009\u62e9 GPU \u7684ID\u3002 killcuda \u548c killcuda2 \u7528\u6237\u91ca\u653e GPU \u7684\u5360\u7528\u3002 \u8b66\u544a \u4f7f\u7528 GPU \u4e4b\u524d\uff0c\u5148\u7528 nv \u547d\u4ee4\u770b\u4e00\u4e0bGPU\u7684\u5360\u7528\u60c5\u51b5\uff0c\u6267\u884c choosecuda \u9009\u62e9\u7a7a\u95f2\u7684GPU\u4f7f\u7528\u3002\u5982\u679c\u6709\u4e00\u4e2aGPU\u5185\u5b58\u5360\u7528\u9ad8\u4f46\u662f\u8fd0\u7b97\u5360\u7528\u7387\u4f4e\uff0c\u5219\u4f7f\u7528 killcuda \u91ca\u653e\u3002 choosecuda \u53ea\u5bf9\u5f53\u524d\u7684\u7ec8\u7aef\u4e34\u65f6\u6709\u6548\uff0c\u5728\u7ec8\u7aef\u91cd\u542f\u6216\u8de8\u7ec8\u7aef\u5219\u65e0\u6548\u3002 findgrep \u7528\u4e8e\u67e5\u627epython\u4ee3\u7801 \u6302\u8f7d\u7fa4\u8f89\u7684\u4e91\u76d8\u8def\u5f84\u5230\u670d\u52a1\u5668\u4e0a\u3002\u66ff\u6362\u5176\u4e2d\u7684 username \u4e3a\u7fa4\u8f89\u7684\u7528\u6237\u540d\uff0c uid \u4e3a\u670d\u52a1\u5668\u8d26\u53f7\u7684\u7528\u6237\u540d\u3002\u4f1a\u8981\u6c42\u8f93\u5165\u7fa4\u8f89\u7528\u6237\u7684\u5bc6\u7801\u3002 sudo mkdir /mnt/liying.cibr.ac.cn_usb3 #\u521b\u5efa\u6587\u4ef6\u5939 # \u6302\u8f7d\u7fa4\u8f89\u7684\u8def\u5f84\u5230\u670d\u52a1\u5668 sudo mount -t cifs -o \\ vers = 2 .0,username = chenxinfeng \\ //liying.cibr.ac.cn/usbshare3-2 \\ /mnt/liying.cibr.ac.cn_usb3/ -o \\ uid = chenxinfeng,file_mode = 0766 ,dir_mode = 0777 \u8b66\u544a file_mode=0766,dir_mode=0777 \u6743\u9650\u653e\u5f97\u592a\u5bbd\uff0c\u8ba9\u6240\u6709\u7528\u6237\u90fd\u5177\u7fa4\u8f89\u6587\u4ef6\u7684\u4fee\u6539\u6743\u9650\u3002\u6709\u53ef\u80fd\u4f1a\u5bf9\u7fa4\u8f89\u7684\u6587\u4ef6\u7684\u5b8c\u5168\u9020\u6210\u5371\u9669\u3002\u6743\u9650\u63a7\u5236\u592a\u7d27\uff0c\u53ef\u80fd\u6ca1\u6cd5\u987a\u5229\u52a0\u8f7d\u3002\u8bf7\u81ea\u884c\u63a7\u5236 file_mode \u548c dir_mod \u6743\u9650\u3002","title":"\u4e00\u4e9b\u57fa\u7840\u6280\u80fd"},{"location":"%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8%E5%9F%B9%E8%AE%AD/basic_command/#_1","text":"\u4f7f\u7528 htop \u67e5\u770b CPU \u548c\u5185\u5b58\u4f7f\u7528\u60c5\u51b5 \u4f7f\u7528 nv \u547d\u4ee4\u67e5\u770b GPU \u4f7f\u7528\u60c5\u51b5\u3002 \u5c06\u4e0b\u9762\u547d\u4ee4\u6dfb\u52a0\u5230 ~/.bashrc ,\u7136\u540e\u91cd\u542f\u7ec8\u7aef\u3002 # \u4f7f\u7528`nv` \u547d\u4ee4\u67e5\u770b GPU \u4f7f\u7528\u60c5\u51b5 alias nv = 'watch -n 1 nvidia-smi' # \u4f7f\u7528\u67d0\u51e0\u4e2aGPU (0,1,2,3), \u5176\u5b83GPU\u4e0d\u7528 # $choosecuda 0,1,2,3 $choosecuda 3 function choosecuda { if [ -z \" $1 \" ] ; then num = 0 ; else num = \" $1 \" ; fi CUDA_VISIBLE_DEVICES = $num export CUDA_VISIBLE_DEVICES } # \u4f7f\u7528 killcuda \u5f3a\u884c\u91ca\u653e\u672c\u8d26\u6237\u7684 GPU \u5185\u5b58\u5360\u7528 # $killcuda alias killcuda = \"ps -o pid= -u $( whoami ) | \\ grep -wFf <( nvidia-smi -q -x | grep pid | sed -e 's/<pid>//g' -e 's/<\\/pid>//g' -e 's/^[[:space:]]*//' | sort | uniq ) | \\ xargs kill -9 \" # \u4f7f\u7528 killcuda2 \u5f3a\u884c\u91ca\u653e\u6240\u6709\u8d26\u6237\u7684 GPU \u5185\u5b58\u5360\u7528 # $sudo killcuda2 alias killcuda2 = \"fuser -v /dev/nvidia-uvm 2> /dev/null | xargs kill -9 \" # \u67e5\u627e\u5f53\u524d\u6587\u4ef6\u5939\u5185 python \u6587\u4ef6\u4e2d\u5305\u542b\u67d0\u5b57\u6bb5\u7684\u6587\u4ef6 # $findgrep WORDS alias findgrep = 'find . -name \"*.py\" -type f -exec echo \\\"{}\\\" \\; | xargs grep -n ' choosecuda \u7528\u4e8e\u9009\u62e9 GPU \u7684ID\u3002 killcuda \u548c killcuda2 \u7528\u6237\u91ca\u653e GPU \u7684\u5360\u7528\u3002 \u8b66\u544a \u4f7f\u7528 GPU \u4e4b\u524d\uff0c\u5148\u7528 nv \u547d\u4ee4\u770b\u4e00\u4e0bGPU\u7684\u5360\u7528\u60c5\u51b5\uff0c\u6267\u884c choosecuda \u9009\u62e9\u7a7a\u95f2\u7684GPU\u4f7f\u7528\u3002\u5982\u679c\u6709\u4e00\u4e2aGPU\u5185\u5b58\u5360\u7528\u9ad8\u4f46\u662f\u8fd0\u7b97\u5360\u7528\u7387\u4f4e\uff0c\u5219\u4f7f\u7528 killcuda \u91ca\u653e\u3002 choosecuda \u53ea\u5bf9\u5f53\u524d\u7684\u7ec8\u7aef\u4e34\u65f6\u6709\u6548\uff0c\u5728\u7ec8\u7aef\u91cd\u542f\u6216\u8de8\u7ec8\u7aef\u5219\u65e0\u6548\u3002 findgrep \u7528\u4e8e\u67e5\u627epython\u4ee3\u7801 \u6302\u8f7d\u7fa4\u8f89\u7684\u4e91\u76d8\u8def\u5f84\u5230\u670d\u52a1\u5668\u4e0a\u3002\u66ff\u6362\u5176\u4e2d\u7684 username \u4e3a\u7fa4\u8f89\u7684\u7528\u6237\u540d\uff0c uid \u4e3a\u670d\u52a1\u5668\u8d26\u53f7\u7684\u7528\u6237\u540d\u3002\u4f1a\u8981\u6c42\u8f93\u5165\u7fa4\u8f89\u7528\u6237\u7684\u5bc6\u7801\u3002 sudo mkdir /mnt/liying.cibr.ac.cn_usb3 #\u521b\u5efa\u6587\u4ef6\u5939 # \u6302\u8f7d\u7fa4\u8f89\u7684\u8def\u5f84\u5230\u670d\u52a1\u5668 sudo mount -t cifs -o \\ vers = 2 .0,username = chenxinfeng \\ //liying.cibr.ac.cn/usbshare3-2 \\ /mnt/liying.cibr.ac.cn_usb3/ -o \\ uid = chenxinfeng,file_mode = 0766 ,dir_mode = 0777 \u8b66\u544a file_mode=0766,dir_mode=0777 \u6743\u9650\u653e\u5f97\u592a\u5bbd\uff0c\u8ba9\u6240\u6709\u7528\u6237\u90fd\u5177\u7fa4\u8f89\u6587\u4ef6\u7684\u4fee\u6539\u6743\u9650\u3002\u6709\u53ef\u80fd\u4f1a\u5bf9\u7fa4\u8f89\u7684\u6587\u4ef6\u7684\u5b8c\u5168\u9020\u6210\u5371\u9669\u3002\u6743\u9650\u63a7\u5236\u592a\u7d27\uff0c\u53ef\u80fd\u6ca1\u6cd5\u987a\u5229\u52a0\u8f7d\u3002\u8bf7\u81ea\u884c\u63a7\u5236 file_mode \u548c dir_mod \u6743\u9650\u3002","title":"\u4e00\u4e9b\u57fa\u7840\u6280\u80fd"},{"location":"%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8%E5%9F%B9%E8%AE%AD/installed_models/","text":"\u5df2\u7ecf\u5b89\u88c5\u7684\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b \u6a21\u578b (conda) \u7528\u9014 \u9879\u76ee\u8def\u5f84 Mask-RCNN (mmpose) \u5927\u9f20\u5206\u5272\uff0c\u5c0f\u9f20\u5206\u5272 /home/liying_lab/chenxinfeng/DATA/CBNetV2 mmpose (mmpose) 2D \u5173\u952e\u70b9\u68c0\u6d4b xxx/DATA/mmpose YOLO-v8 (open-mmlab) \u52a8\u7269\u5feb\u901f\u68c0\u6d4b&\u5206\u5272 xxx/DATA/ultralytic DANNCE (mmdet) \u52a8\u72693D\u5173\u952e\u70b9\u68c0\u6d4b xxx/DATA/dannce SmoothNet (mmdet) \u5173\u952e\u70b9\u65f6\u5e8f\u5e73\u6ed1 xxx/DATA/SmoothNet","title":"\u5df2\u5b89\u88c5\u7684\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b"},{"location":"%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8%E5%9F%B9%E8%AE%AD/installed_models/#_1","text":"\u6a21\u578b (conda) \u7528\u9014 \u9879\u76ee\u8def\u5f84 Mask-RCNN (mmpose) \u5927\u9f20\u5206\u5272\uff0c\u5c0f\u9f20\u5206\u5272 /home/liying_lab/chenxinfeng/DATA/CBNetV2 mmpose (mmpose) 2D \u5173\u952e\u70b9\u68c0\u6d4b xxx/DATA/mmpose YOLO-v8 (open-mmlab) \u52a8\u7269\u5feb\u901f\u68c0\u6d4b&\u5206\u5272 xxx/DATA/ultralytic DANNCE (mmdet) \u52a8\u72693D\u5173\u952e\u70b9\u68c0\u6d4b xxx/DATA/dannce SmoothNet (mmdet) \u5173\u952e\u70b9\u65f6\u5e8f\u5e73\u6ed1 xxx/DATA/SmoothNet","title":"\u5df2\u7ecf\u5b89\u88c5\u7684\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b"},{"location":"%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8%E5%9F%B9%E8%AE%AD/login_server/","text":"\u8fde\u63a5\u5230\u670d\u52a1\u5668 \u670d\u52a1\u5668\u7684\u8be6\u7ec6\u53c2\u6570 \u5b9e\u9a8c\u5ba4\u6709\u4e00\u5957\u670d\u52a1\u5668\u548c\u4e00\u53f0\u6d4b\u8bd5\u673a\u3002\u670d\u52a1\u5668\u7528\u6765\u4e13\u95e8\u505a\u6570\u636e\u5206\u6790\uff0c\u4e0d\u8981\u79c1\u81ea\u5b89\u88c5\u8f6f\u4ef6\u5305\uff0c\u4ee5\u514d\u7834\u5316\u5b83\u7684\u73af\u5883\u3002 \u60f3\u8981\u5b66\u4e60linux\u7684\u57fa\u672c\u547d\u4ee4\uff0c\u53ef\u4ee5\u5728\u6d4b\u8bd5\u673a\u4e0a\u505a\u3002 \u670d\u52a1\u5668\uff08\u9ad8\u6027\u80fd\uff0c\u6d6a\u6f6e\uff09 \u6d4b\u8bd5\u673a\uff08\u4e34\u65f6\u4f7f\u7528\uff09 \u7528\u9014 \u8dd1\u6a21\u578b\uff0c\u8dd1\u6d41\u7a0b\uff0c\u5206\u6790\u6570\u636e \u6d4b\u8bd5\u4ee3\u7801\uff0c\u7f51\u9875\u670d\u52a1 \u5730\u70b9 \u4fe1\u606f\u5316\u4e2d\u5fc3B\u533a\u8d1f\u4e8c\u697c\u673a\u623f \u5b9e\u9a8c\u5ba4 \u5730\u5740 ssh chenxinfeng@ 10.50.60.6 - \u7cfb\u7edf Ubuntu 18.04 - \u57fa\u7840\u547d\u4ee4 sudo apt install PACKAGE - \u5185\u5b58 256 GB - \u786c\u76d8 1 TB\u56fa\u6001 + 8 TB\u673a\u68b0 - CPU Intel Silver 4314\uff0c32\u6838\u5fc3 64\u7ebf\u7a0b - GPU 4\u5757 NVIDIA RTX3090 \uff0824 GB\u663e\u5b58\uff09 - docker \u652f\u6301 - \u767b\u5f55\u5230\u670d\u52a1\u5668\uff08/\u6d4b\u8bd5\u673a\uff09 \u670d\u52a1\u5668\u652f\u6301 \u8fdc\u7a0b\u684c\u9762 , ssh \u548c vscode \u7684\u767b\u5f55\u65b9\u5f0f\u3002\u63a8\u8350\u4f7f\u7528 vscode \u3002 1. \u4f7f\u7528 vscode [\u6700\u63a8\u8350] \u53bb\u5b98\u7f51 \u4e0b\u8f7d VSCODE \uff0c\u5b89\u88c5\u3002\u4e4b\u540e\u518d\u5b89\u88c5 Remote - SSH \u63d2\u4ef6\u3002\u901a\u8fc7\u63d2\u4ef6\u8fdb\u5165\u8fdc\u7a0b\u7684\u670d\u52a1\u5668\u3002\u5728\u670d\u52a1\u5668\u4e2d\u8fdb\u5165\u9879\u76ee\u76ee\u5f55\uff0c\u518d\u5b89\u88c5 Python \u548c Jupyter \u63d2\u4ef6\u3002 \u8b66\u544a \u9996\u6b21\u7528 VSCODE \u767b\u5f55\u8fdc\u7a0bSSH\uff0c\u4f1a\u5728\u670d\u52a1\u5668\u4e2d\u81ea\u52a8\u4e0b\u8f7d\u8f6f\u4ef6\u5e76\u914d\u7f6e\u73af\u5883\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\u3002VSCODE \u7ecf\u5e38\u66f4\u65b0\uff0c\u4f1a\u5bfc\u81f4 Python \u548c Jupyter \u73af\u5883\u65f6\u6548\u3002\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\uff0c\u8bf7\u66f4\u65b0 VSCODE \u5e76\u91cd\u542f\u8f6f\u4ef6\u3002\u53ef\u4ee5\u5728\u8bbe\u7f6e\u91cc\u9762\u53d6\u6d88 VSCODE \u81ea\u52a8\u66f4\u65b0\u3002 \u9519\u8bef \u65e9\u671f\u7684 WINDOWS \u7535\u8111\u7684\u7cfb\u7edf\u6709\u95ee\u9898\uff0cVSCODE\u4e2d\u4f7f\u7528 SSH \u8fde\u63a5\u65f6\u4e00\u76f4\u8f6c\u5708\u5708\u6216\u5931\u8d25\u3002\u8bf7\u4ece OPEN-SSH \u5b98\u7f51\u5b89\u88c5\u6700\u65b0\u8f6f\u4ef6\u5e76\u6dfb\u52a0\u5230\u641c\u7d22\u76ee\u5f55\u4e2d\uff0c\u66ff\u6362\u6389\u539f\u6765\u7684 SSH\u3002 2. \u4f7f\u7528 ssh \u5728 windows \u5ba2\u6237\u7535\u8111\u4e2d\uff0c\u6309\u4f4f Win R \u5feb\u6377\u952e\uff0c\u5728\u5f39\u51fa\u7684 \u8fd0\u884c \u7a97\u53e3\u4e2d\uff0c\u8f93\u5165 cmd \u6307\u4ee4\u3002\u5728\u5f39\u51fa\u7684\u7ec8\u7aef\u547d\u4ee4\u7a97\u4e2d\uff0c\u8f93\u5165\u4e0b\u9762\u547d\u4ee4\uff0c\u5e76\u8f93\u5165\u5bc6\u7801\u3002 ssh chenxinfeng@10.50.60.6 \u63d0\u793a \u5982\u679c\u60f3\u8981\u514d\u5bc6\u767b\u5f55\uff0c\u53ef\u4ee5\u53bb\u4e92\u8054\u7f51\u641c\u7d22\u201cssh \u514d\u5bc6\u767b\u5f55\u201d\u3002 3. \u4f7f\u7528\u8fdc\u7a0b\u684c\u9762\u767b\u5f55 [\u907f\u514d] \u5728 windows \u5ba2\u6237\u7535\u8111\u4e2d\uff0c\u6309\u4f4f Win R \u5feb\u6377\u952e\uff0c\u5728\u5f39\u51fa\u7684 \u8fd0\u884c \u7a97\u53e3\u4e2d\uff0c\u8f93\u5165 mstc \u6307\u4ee4\u3002\u5f39\u51fa\u8fdc\u7a0b\u684c\u9762\u767b\u5f55\u7a97\u53e3\u3002 \u8f93\u5165\u670d\u52a1\u5668\u7684IP\u5730\u5740\uff0c \u8fde\u63a5 \u3002\u63a5\u7740\u8f93\u5165\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002 \u5728\u4e00\u822c\u573a\u666f\u4e0b\uff0c\u90fd\u63a8\u8350\u4f7f\u7528 VSCODE \u4f5c\u4e3a\u670d\u52a1\u5668\u8fde\u63a5\u5de5\u5177\u3002\u5e76\u4e14\u5efa\u8bae\u5728 VSCODE \u4e2d\u5b89\u88c5 CodeGeeX \u8fd9\u79cdAI\u7f16\u7a0b\u52a9\u624b\uff08\u9700\u8981\u6ce8\u518c\uff09\u3002 \u9002\u7528\u573a\u666f \u7f3a\u70b9 VSCODE \u6587\u672c\u548c\u4ee3\u7801\u7f16\u8f91\u3001jupyter\u5206\u6790\u4f5c\u56fe \u7ecf\u5e38\u66f4\u65b0\uff0c\u73af\u5883\u914d\u7f6e\u9ebb\u70e6\uff0c\u6d88\u8017\u670d\u52a1\u5668\u6027\u80fd SSH \u4e34\u65f6\u8dd1\u4e2a\u811a\u672c\u6216\u4fee\u6539\u73af\u5883 \u53ef\u89c6\u5316\u5dee \u8fdc\u7a0b\u684c\u9762 \u56fe\u5f62\u754c\u9762\u7a0b\u5e8f \u5361\uff0c\u53d7\u9650\u4e8e\u7f51\u7edc\u8d28\u91cf","title":"\u8fde\u63a5\u8fdb\u5165\u670d\u52a1\u5668"},{"location":"%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8%E5%9F%B9%E8%AE%AD/login_server/#_1","text":"","title":"\u8fde\u63a5\u5230\u670d\u52a1\u5668"},{"location":"%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8%E5%9F%B9%E8%AE%AD/login_server/#_2","text":"\u5b9e\u9a8c\u5ba4\u6709\u4e00\u5957\u670d\u52a1\u5668\u548c\u4e00\u53f0\u6d4b\u8bd5\u673a\u3002\u670d\u52a1\u5668\u7528\u6765\u4e13\u95e8\u505a\u6570\u636e\u5206\u6790\uff0c\u4e0d\u8981\u79c1\u81ea\u5b89\u88c5\u8f6f\u4ef6\u5305\uff0c\u4ee5\u514d\u7834\u5316\u5b83\u7684\u73af\u5883\u3002 \u60f3\u8981\u5b66\u4e60linux\u7684\u57fa\u672c\u547d\u4ee4\uff0c\u53ef\u4ee5\u5728\u6d4b\u8bd5\u673a\u4e0a\u505a\u3002 \u670d\u52a1\u5668\uff08\u9ad8\u6027\u80fd\uff0c\u6d6a\u6f6e\uff09 \u6d4b\u8bd5\u673a\uff08\u4e34\u65f6\u4f7f\u7528\uff09 \u7528\u9014 \u8dd1\u6a21\u578b\uff0c\u8dd1\u6d41\u7a0b\uff0c\u5206\u6790\u6570\u636e \u6d4b\u8bd5\u4ee3\u7801\uff0c\u7f51\u9875\u670d\u52a1 \u5730\u70b9 \u4fe1\u606f\u5316\u4e2d\u5fc3B\u533a\u8d1f\u4e8c\u697c\u673a\u623f \u5b9e\u9a8c\u5ba4 \u5730\u5740 ssh chenxinfeng@ 10.50.60.6 - \u7cfb\u7edf Ubuntu 18.04 - \u57fa\u7840\u547d\u4ee4 sudo apt install PACKAGE - \u5185\u5b58 256 GB - \u786c\u76d8 1 TB\u56fa\u6001 + 8 TB\u673a\u68b0 - CPU Intel Silver 4314\uff0c32\u6838\u5fc3 64\u7ebf\u7a0b - GPU 4\u5757 NVIDIA RTX3090 \uff0824 GB\u663e\u5b58\uff09 - docker \u652f\u6301 -","title":"\u670d\u52a1\u5668\u7684\u8be6\u7ec6\u53c2\u6570"},{"location":"%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8%E5%9F%B9%E8%AE%AD/login_server/#_3","text":"\u670d\u52a1\u5668\u652f\u6301 \u8fdc\u7a0b\u684c\u9762 , ssh \u548c vscode \u7684\u767b\u5f55\u65b9\u5f0f\u3002\u63a8\u8350\u4f7f\u7528 vscode \u3002","title":"\u767b\u5f55\u5230\u670d\u52a1\u5668\uff08/\u6d4b\u8bd5\u673a\uff09"},{"location":"%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8%E5%9F%B9%E8%AE%AD/login_server/#1-vscode","text":"\u53bb\u5b98\u7f51 \u4e0b\u8f7d VSCODE \uff0c\u5b89\u88c5\u3002\u4e4b\u540e\u518d\u5b89\u88c5 Remote - SSH \u63d2\u4ef6\u3002\u901a\u8fc7\u63d2\u4ef6\u8fdb\u5165\u8fdc\u7a0b\u7684\u670d\u52a1\u5668\u3002\u5728\u670d\u52a1\u5668\u4e2d\u8fdb\u5165\u9879\u76ee\u76ee\u5f55\uff0c\u518d\u5b89\u88c5 Python \u548c Jupyter \u63d2\u4ef6\u3002 \u8b66\u544a \u9996\u6b21\u7528 VSCODE \u767b\u5f55\u8fdc\u7a0bSSH\uff0c\u4f1a\u5728\u670d\u52a1\u5668\u4e2d\u81ea\u52a8\u4e0b\u8f7d\u8f6f\u4ef6\u5e76\u914d\u7f6e\u73af\u5883\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\u3002VSCODE \u7ecf\u5e38\u66f4\u65b0\uff0c\u4f1a\u5bfc\u81f4 Python \u548c Jupyter \u73af\u5883\u65f6\u6548\u3002\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\uff0c\u8bf7\u66f4\u65b0 VSCODE \u5e76\u91cd\u542f\u8f6f\u4ef6\u3002\u53ef\u4ee5\u5728\u8bbe\u7f6e\u91cc\u9762\u53d6\u6d88 VSCODE \u81ea\u52a8\u66f4\u65b0\u3002 \u9519\u8bef \u65e9\u671f\u7684 WINDOWS \u7535\u8111\u7684\u7cfb\u7edf\u6709\u95ee\u9898\uff0cVSCODE\u4e2d\u4f7f\u7528 SSH \u8fde\u63a5\u65f6\u4e00\u76f4\u8f6c\u5708\u5708\u6216\u5931\u8d25\u3002\u8bf7\u4ece OPEN-SSH \u5b98\u7f51\u5b89\u88c5\u6700\u65b0\u8f6f\u4ef6\u5e76\u6dfb\u52a0\u5230\u641c\u7d22\u76ee\u5f55\u4e2d\uff0c\u66ff\u6362\u6389\u539f\u6765\u7684 SSH\u3002","title":"1. \u4f7f\u7528 vscode [\u6700\u63a8\u8350]"},{"location":"%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8%E5%9F%B9%E8%AE%AD/login_server/#2-ssh","text":"\u5728 windows \u5ba2\u6237\u7535\u8111\u4e2d\uff0c\u6309\u4f4f Win R \u5feb\u6377\u952e\uff0c\u5728\u5f39\u51fa\u7684 \u8fd0\u884c \u7a97\u53e3\u4e2d\uff0c\u8f93\u5165 cmd \u6307\u4ee4\u3002\u5728\u5f39\u51fa\u7684\u7ec8\u7aef\u547d\u4ee4\u7a97\u4e2d\uff0c\u8f93\u5165\u4e0b\u9762\u547d\u4ee4\uff0c\u5e76\u8f93\u5165\u5bc6\u7801\u3002 ssh chenxinfeng@10.50.60.6 \u63d0\u793a \u5982\u679c\u60f3\u8981\u514d\u5bc6\u767b\u5f55\uff0c\u53ef\u4ee5\u53bb\u4e92\u8054\u7f51\u641c\u7d22\u201cssh \u514d\u5bc6\u767b\u5f55\u201d\u3002","title":"2. \u4f7f\u7528 ssh"},{"location":"%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8%E5%9F%B9%E8%AE%AD/login_server/#3","text":"\u5728 windows \u5ba2\u6237\u7535\u8111\u4e2d\uff0c\u6309\u4f4f Win R \u5feb\u6377\u952e\uff0c\u5728\u5f39\u51fa\u7684 \u8fd0\u884c \u7a97\u53e3\u4e2d\uff0c\u8f93\u5165 mstc \u6307\u4ee4\u3002\u5f39\u51fa\u8fdc\u7a0b\u684c\u9762\u767b\u5f55\u7a97\u53e3\u3002 \u8f93\u5165\u670d\u52a1\u5668\u7684IP\u5730\u5740\uff0c \u8fde\u63a5 \u3002\u63a5\u7740\u8f93\u5165\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002 \u5728\u4e00\u822c\u573a\u666f\u4e0b\uff0c\u90fd\u63a8\u8350\u4f7f\u7528 VSCODE \u4f5c\u4e3a\u670d\u52a1\u5668\u8fde\u63a5\u5de5\u5177\u3002\u5e76\u4e14\u5efa\u8bae\u5728 VSCODE \u4e2d\u5b89\u88c5 CodeGeeX \u8fd9\u79cdAI\u7f16\u7a0b\u52a9\u624b\uff08\u9700\u8981\u6ce8\u518c\uff09\u3002 \u9002\u7528\u573a\u666f \u7f3a\u70b9 VSCODE \u6587\u672c\u548c\u4ee3\u7801\u7f16\u8f91\u3001jupyter\u5206\u6790\u4f5c\u56fe \u7ecf\u5e38\u66f4\u65b0\uff0c\u73af\u5883\u914d\u7f6e\u9ebb\u70e6\uff0c\u6d88\u8017\u670d\u52a1\u5668\u6027\u80fd SSH \u4e34\u65f6\u8dd1\u4e2a\u811a\u672c\u6216\u4fee\u6539\u73af\u5883 \u53ef\u89c6\u5316\u5dee \u8fdc\u7a0b\u684c\u9762 \u56fe\u5f62\u754c\u9762\u7a0b\u5e8f \u5361\uff0c\u53d7\u9650\u4e8e\u7f51\u7edc\u8d28\u91cf","title":"3. \u4f7f\u7528\u8fdc\u7a0b\u684c\u9762\u767b\u5f55 [\u907f\u514d]"},{"location":"%E5%B0%8F%E7%90%83%E7%9F%AB%E6%AD%A3/application/","text":"\u5c0f\u7403\u77eb\u6b63\u7684\u6982\u8ff0 \u4f7f\u7528\u5c0f\u7403\u5f00\u53d1\u5c0f\u7403\u6807\u5b9a\u6d41\u7a0b\uff0c\u5b9e\u73b0\u4e86\u5feb\u901f\u7cbe\u51c6\u7684\u591a\u76f8\u673a\u6807\u5b9a\u3002\u8be6\u7ec6\u4e5f\u53ef\u4ee5\u53c2\u8003 multiview_ball_calib \u3002\u8fd9\u91cc\u53ea\u653e\u5927\u81f4\u7684\u6d41\u7a0b\u3002 \u4e3a\u4ec0\u4e48\u9700\u8981\u7528\u5c0f\u7403\u6765\u6807\u5b9a \u591a\u76f8\u673a\u5916\u53c2\u7684\u8ba1\u7b97\uff08\u4f4d\u7f6e\u548c\u65cb\u8f6c\u89d2\u5ea6\uff09\u8fd9\u5bf9\u4e8e\u5efa\u7acb\u51c6\u786e\u7684\u4e09\u7ef4\u5750\u6807\u6a21\u578b\u662f\u5fc5\u987b\u7684\u3002\u4f20\u7edf\u7684\u68cb\u76d8\u5916\u53c2\u6807\u5b9a\u65b9\u6cd5\u8981\u6c42\u591a\u4e2a\u76f8\u673a\u80fd\u591f\u540c\u65f6\u62cd\u6444\u5230\u68cb\u76d8\u7684\u6b63\u9762\u56fe\u6848\uff0c\u4f46\u5728\u73af\u7ed5\u5f0f\u591a\u76f8\u673a\u914d\u7f6e\u4e2d\uff0c\u5b58\u5728\u89c6\u89d2\u9650\u5236\u3002\u68cb\u76d8\u7684\u5e94\u7528\u6548\u7387\u4f4e\uff0c\u800c\u4f7f\u7528\u5c0f\u7403\u7684\u6548\u7387\u9ad8\u3002 \u5b9e\u9a8c\u64cd\u4f5c\u6b65\u9aa4 \u5236\u4f5c\u76f4\u5f84\u4e3a1.5 cm\u7684\u91d1\u5c5e\u9776\u7403\uff0c\u901a\u8fc7\u4e00\u6839\u77ed\u6746\u60ac\u540a\u3002\u5b9e\u9a8c\u5f00\u59cb\u524d\uff0c\u5148\u5728\u5730\u9762\u4e0a\u653e\u7f6e\u4e00\u4e2a\u68cb\u76d8\u4f4d\u4e8e\u8bb0\u5f55\u73af\u5883\u7684\u4e2d\u5fc3\uff0c\u7528\u4e8e\u5bf9\u9f50\u5750\u6807\u7cfb\u3002\u521d\u59cb\u65f6\uff0c\u5c06\u9776\u7403\u653e\u7f6e\u539f\u7406\u68cb\u76d8\uff0c\u907f\u514d\u906e\u6321\u3002\u7136\u540e\uff0c\u5f00\u542f\u8bb0\u5f55\uff0c\u5c06\u5c0f\u7403\u7ed5\u5927\u9f20\u6d3b\u52a8\u7a7a\u95f4\u5185\u904d\u53862\u5206\u949f\u3002\u4f7f\u7528OBS Studio\u8f6f\u4ef6\u91c7\u96c6\u591a\u89c6\u89d2\u89c6\u9891\uff0c\u5c0f\u7403\u8fd0\u52a8\u8f68\u8ff9\u8986\u76d6\u9700\u8981\u77eb\u6b63\u7684\u7a7a\u95f4\u4f4d\u7f6e\u3002 \u91cd\u8981\u8b66\u544a \u7403\u7684\u76f4\u5f84\u4f1a\u5f71\u54cd\u6807\u5b9a\u7cbe\u5ea6\uff0c\u5efa\u8bae\u4f7f\u7528\u76f4\u5f84\u4e3a1.5 cm\u7684\u91d1\u5c5e\u9776\u7403\u3002\u7403\u7684\u8fd0\u52a8\u901f\u5ea6\u4e0d\u8981\u592a\u5feb\uff0c\u5426\u5219\u4ea7\u751f\u8fd0\u52a8\u6a21\u7cca\uff0c\u5f71\u54cd\u6807\u5b9a\u7cbe\u5ea6\u3002 \u7528\u4ee3\u7801\u89e3\u6790\u89c6\u9891 #!/bin/bash conda activate mmdet vfile = '/PATH_to_ball/BALL____2024-01-22_14-34-01.mp4' LILAB_DIR = /home/liying_lab/chenxf/ml-project/LILAB-py/lilab bash $LILAB_DIR /multiview_scripts_dev/p_calibration.sh $vfile carl \u5176\u4e2d vfile \u662f OBS Studio \u8f6f\u4ef6\u5f55\u5236\u7684\u89c6\u9891\u6587\u4ef6\u8def\u5f84\uff0c carl \u662f\u76f8\u673a\u6807\u5b9a\u53c2\u6570\u3002\u811a\u672c\u4f1a\u81ea\u52a8\u89e3\u6790\u89c6\u9891\uff0c\u5e76\u751f\u6210\u6807\u5b9a\u7ed3\u679c\u3002 \u5e38\u7528\u7684 \u76f8\u673a\u6807\u5b9a\u53c2\u6570\u5305\u62ec\uff1a - ana : \u5927\u9f20\u884c\u4e3a\u95f41 - bob : \u5927\u9f20\u884c\u4e3a\u95f42 / \u5c0f\u6876 - carl : \u5927\u9f20\u884c\u4e3a\u95f43 / \u4e2d&\u5927\u6876\u3002 \u91cd\u8981\u8b66\u544a \u8bf7\u68c0\u67e5\u6b63\u786e\u7684\u76f8\u673a\u6807\u5b9a\u53c2\u6570\uff0c\u8fd9\u4e9b\u6807\u5b9a\u53c2\u6570\u5b58\u50a8\u4e86\u9884\u5148\u201c\u6807\u5b9a\u7684\u5185\u5b58\u201d\u3002\u6bcf\u5957\u591a\u76f8\u673a\u7cfb\u7edf\u7684\u5185\u5b58\u6709\u8f83\u5927\u533a\u522b\uff0c\u8bf7\u52ff\u6df7\u6dc6\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u6807\u5b9a\u7ed3\u679c\u4e0d\u51c6\u786e\u3002 \u6807\u5b9a\u7ed3\u679c\u5c55\u793a \u5728\u751f\u6210\u7684 *ball_keypoint.mp4 \u4e2d\u67e5\u770b\u7eff\u8272\u9884\u6d4b\u70b9\u4e0e\u5c0f\u7403\u7684\u543b\u5408\u7a0b\u5ea6\u3002\u751f\u6210\u7684 *.calibpkl \u662f\u591a\u76f8\u673a\u6a21\u578b\u6587\u4ef6\uff0c\u7528\u4e8e\u540e\u7eed\u76843D\u91cd\u5efa\u3002 \u6807\u5b9a\u7684\u7cbe\u5ea6\u8bc4\u4ef7 \u67e5\u770b\u4ee3\u7801\u8fd0\u884c\u7684\u8f93\u51fa\u3002\u5176\u4e2d Reprojection errors \u662f\u91cd\u6295\u5f71\u8bef\u5dee\uff0c\u8868\u793a\u9884\u6d4b\u70b9\u4e0e\u5b9e\u9645\u70b9\u4e4b\u95f4\u7684\u8ddd\u79bb\u3002\u8bef\u5dee\u8d8a\u5c0f\uff0c\u6807\u5b9a\u7cbe\u5ea6\u8d8a\u9ad8\u3002\u901a\u5e38\u5141\u8bb8\u5728 4.0+-2.0 \u50cf\u7d20\u5185\u3002 \u9519\u8bef \u8fd0\u884cp_calibration.sh\u65f6\u8f93\u51faerror pixel\u8fc7\u5927/keypoint\u89c6\u9891\u4e2d\u7eff\u70b9\u65e0\u6cd5\u6b63\u786e\u7684\u8ddf\u968f\u5c0f\u7403\uff0c\u8bf4\u660e\u6821\u6b63\u4e0d\u6b63\u786e\u3002\u65e2\u6709\u53ef\u80fd\u662f2D\u8bc6\u522b\u5c0f\u7403\u6709\u5f88\u5927\u504f\u5dee\u3002\u9700\u8981\u91cd\u65b0\u6253\u6807\uff0c\u89c1\u300aball\u7684\u6269\u589e\u8bad\u7ec3\u300b","title":"\u5e94\u7528\u573a\u666f"},{"location":"%E5%B0%8F%E7%90%83%E7%9F%AB%E6%AD%A3/application/#_1","text":"\u4f7f\u7528\u5c0f\u7403\u5f00\u53d1\u5c0f\u7403\u6807\u5b9a\u6d41\u7a0b\uff0c\u5b9e\u73b0\u4e86\u5feb\u901f\u7cbe\u51c6\u7684\u591a\u76f8\u673a\u6807\u5b9a\u3002\u8be6\u7ec6\u4e5f\u53ef\u4ee5\u53c2\u8003 multiview_ball_calib \u3002\u8fd9\u91cc\u53ea\u653e\u5927\u81f4\u7684\u6d41\u7a0b\u3002","title":"\u5c0f\u7403\u77eb\u6b63\u7684\u6982\u8ff0"},{"location":"%E5%B0%8F%E7%90%83%E7%9F%AB%E6%AD%A3/application/#_2","text":"\u591a\u76f8\u673a\u5916\u53c2\u7684\u8ba1\u7b97\uff08\u4f4d\u7f6e\u548c\u65cb\u8f6c\u89d2\u5ea6\uff09\u8fd9\u5bf9\u4e8e\u5efa\u7acb\u51c6\u786e\u7684\u4e09\u7ef4\u5750\u6807\u6a21\u578b\u662f\u5fc5\u987b\u7684\u3002\u4f20\u7edf\u7684\u68cb\u76d8\u5916\u53c2\u6807\u5b9a\u65b9\u6cd5\u8981\u6c42\u591a\u4e2a\u76f8\u673a\u80fd\u591f\u540c\u65f6\u62cd\u6444\u5230\u68cb\u76d8\u7684\u6b63\u9762\u56fe\u6848\uff0c\u4f46\u5728\u73af\u7ed5\u5f0f\u591a\u76f8\u673a\u914d\u7f6e\u4e2d\uff0c\u5b58\u5728\u89c6\u89d2\u9650\u5236\u3002\u68cb\u76d8\u7684\u5e94\u7528\u6548\u7387\u4f4e\uff0c\u800c\u4f7f\u7528\u5c0f\u7403\u7684\u6548\u7387\u9ad8\u3002","title":"\u4e3a\u4ec0\u4e48\u9700\u8981\u7528\u5c0f\u7403\u6765\u6807\u5b9a"},{"location":"%E5%B0%8F%E7%90%83%E7%9F%AB%E6%AD%A3/application/#_3","text":"\u5236\u4f5c\u76f4\u5f84\u4e3a1.5 cm\u7684\u91d1\u5c5e\u9776\u7403\uff0c\u901a\u8fc7\u4e00\u6839\u77ed\u6746\u60ac\u540a\u3002\u5b9e\u9a8c\u5f00\u59cb\u524d\uff0c\u5148\u5728\u5730\u9762\u4e0a\u653e\u7f6e\u4e00\u4e2a\u68cb\u76d8\u4f4d\u4e8e\u8bb0\u5f55\u73af\u5883\u7684\u4e2d\u5fc3\uff0c\u7528\u4e8e\u5bf9\u9f50\u5750\u6807\u7cfb\u3002\u521d\u59cb\u65f6\uff0c\u5c06\u9776\u7403\u653e\u7f6e\u539f\u7406\u68cb\u76d8\uff0c\u907f\u514d\u906e\u6321\u3002\u7136\u540e\uff0c\u5f00\u542f\u8bb0\u5f55\uff0c\u5c06\u5c0f\u7403\u7ed5\u5927\u9f20\u6d3b\u52a8\u7a7a\u95f4\u5185\u904d\u53862\u5206\u949f\u3002\u4f7f\u7528OBS Studio\u8f6f\u4ef6\u91c7\u96c6\u591a\u89c6\u89d2\u89c6\u9891\uff0c\u5c0f\u7403\u8fd0\u52a8\u8f68\u8ff9\u8986\u76d6\u9700\u8981\u77eb\u6b63\u7684\u7a7a\u95f4\u4f4d\u7f6e\u3002 \u91cd\u8981\u8b66\u544a \u7403\u7684\u76f4\u5f84\u4f1a\u5f71\u54cd\u6807\u5b9a\u7cbe\u5ea6\uff0c\u5efa\u8bae\u4f7f\u7528\u76f4\u5f84\u4e3a1.5 cm\u7684\u91d1\u5c5e\u9776\u7403\u3002\u7403\u7684\u8fd0\u52a8\u901f\u5ea6\u4e0d\u8981\u592a\u5feb\uff0c\u5426\u5219\u4ea7\u751f\u8fd0\u52a8\u6a21\u7cca\uff0c\u5f71\u54cd\u6807\u5b9a\u7cbe\u5ea6\u3002","title":"\u5b9e\u9a8c\u64cd\u4f5c\u6b65\u9aa4"},{"location":"%E5%B0%8F%E7%90%83%E7%9F%AB%E6%AD%A3/application/#_4","text":"#!/bin/bash conda activate mmdet vfile = '/PATH_to_ball/BALL____2024-01-22_14-34-01.mp4' LILAB_DIR = /home/liying_lab/chenxf/ml-project/LILAB-py/lilab bash $LILAB_DIR /multiview_scripts_dev/p_calibration.sh $vfile carl \u5176\u4e2d vfile \u662f OBS Studio \u8f6f\u4ef6\u5f55\u5236\u7684\u89c6\u9891\u6587\u4ef6\u8def\u5f84\uff0c carl \u662f\u76f8\u673a\u6807\u5b9a\u53c2\u6570\u3002\u811a\u672c\u4f1a\u81ea\u52a8\u89e3\u6790\u89c6\u9891\uff0c\u5e76\u751f\u6210\u6807\u5b9a\u7ed3\u679c\u3002 \u5e38\u7528\u7684 \u76f8\u673a\u6807\u5b9a\u53c2\u6570\u5305\u62ec\uff1a - ana : \u5927\u9f20\u884c\u4e3a\u95f41 - bob : \u5927\u9f20\u884c\u4e3a\u95f42 / \u5c0f\u6876 - carl : \u5927\u9f20\u884c\u4e3a\u95f43 / \u4e2d&\u5927\u6876\u3002 \u91cd\u8981\u8b66\u544a \u8bf7\u68c0\u67e5\u6b63\u786e\u7684\u76f8\u673a\u6807\u5b9a\u53c2\u6570\uff0c\u8fd9\u4e9b\u6807\u5b9a\u53c2\u6570\u5b58\u50a8\u4e86\u9884\u5148\u201c\u6807\u5b9a\u7684\u5185\u5b58\u201d\u3002\u6bcf\u5957\u591a\u76f8\u673a\u7cfb\u7edf\u7684\u5185\u5b58\u6709\u8f83\u5927\u533a\u522b\uff0c\u8bf7\u52ff\u6df7\u6dc6\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u6807\u5b9a\u7ed3\u679c\u4e0d\u51c6\u786e\u3002","title":"\u7528\u4ee3\u7801\u89e3\u6790\u89c6\u9891"},{"location":"%E5%B0%8F%E7%90%83%E7%9F%AB%E6%AD%A3/application/#_5","text":"\u5728\u751f\u6210\u7684 *ball_keypoint.mp4 \u4e2d\u67e5\u770b\u7eff\u8272\u9884\u6d4b\u70b9\u4e0e\u5c0f\u7403\u7684\u543b\u5408\u7a0b\u5ea6\u3002\u751f\u6210\u7684 *.calibpkl \u662f\u591a\u76f8\u673a\u6a21\u578b\u6587\u4ef6\uff0c\u7528\u4e8e\u540e\u7eed\u76843D\u91cd\u5efa\u3002","title":"\u6807\u5b9a\u7ed3\u679c\u5c55\u793a"},{"location":"%E5%B0%8F%E7%90%83%E7%9F%AB%E6%AD%A3/application/#_6","text":"\u67e5\u770b\u4ee3\u7801\u8fd0\u884c\u7684\u8f93\u51fa\u3002\u5176\u4e2d Reprojection errors \u662f\u91cd\u6295\u5f71\u8bef\u5dee\uff0c\u8868\u793a\u9884\u6d4b\u70b9\u4e0e\u5b9e\u9645\u70b9\u4e4b\u95f4\u7684\u8ddd\u79bb\u3002\u8bef\u5dee\u8d8a\u5c0f\uff0c\u6807\u5b9a\u7cbe\u5ea6\u8d8a\u9ad8\u3002\u901a\u5e38\u5141\u8bb8\u5728 4.0+-2.0 \u50cf\u7d20\u5185\u3002 \u9519\u8bef \u8fd0\u884cp_calibration.sh\u65f6\u8f93\u51faerror pixel\u8fc7\u5927/keypoint\u89c6\u9891\u4e2d\u7eff\u70b9\u65e0\u6cd5\u6b63\u786e\u7684\u8ddf\u968f\u5c0f\u7403\uff0c\u8bf4\u660e\u6821\u6b63\u4e0d\u6b63\u786e\u3002\u65e2\u6709\u53ef\u80fd\u662f2D\u8bc6\u522b\u5c0f\u7403\u6709\u5f88\u5927\u504f\u5dee\u3002\u9700\u8981\u91cd\u65b0\u6253\u6807\uff0c\u89c1\u300aball\u7684\u6269\u589e\u8bad\u7ec3\u300b","title":"\u6807\u5b9a\u7684\u7cbe\u5ea6\u8bc4\u4ef7"},{"location":"%E5%B0%8F%E7%90%83%E7%9F%AB%E6%AD%A3/dataset/","text":"ball\u89c6\u9891\u7684\u6269\u589e\u8bad\u7ec3 \u622a\u56fe \u5728pot player\u4e2d\u8fdb\u884c\u622a\u53d6\uff0c\u5b58\u653e\u81f3\u7edf\u4e00\u4f4d\u7f6e \u627e\u56de\u6e90\u89c6\u9891\u622a\u56fe /home/liying_lab/chenxinfeng/ml-project/LILAB-py/lilab/outlier_refine/process_ball_dzy.sh \u6253\u6807 \u4f7f\u7528labelme\u8fdb\u884c\u6253\u6807\u3002\u8fd9\u662f\u4e2a labelme \u6807\u6ce8\u540e\u7684 json \u6587\u4ef6\u793a\u4f8b\u3002 { \"version\": \"4.2.5\", \"flags\": {}, \"shapes\": [ { \"label\": \"ball\", \"points\": [ [ 226.4642857142857, 410.74999999999994 ] ], \"group_id\": null, \"shape_type\": \"point\", \"flags\": {} } ], \"imagePath\": \"2024-02-27_21-59-28ball_bob_room2_pannel8_002675.jpg\", \"imageData\": null, \"imageHeight\": 800, \"imageWidth\": 1280 } \u91cd\u8981\u8b66\u544a \u8bf7\u4f7f\u7528labelme\u7684 point \u7c7b\u578b\uff0c\u800c\u4e0d\u662f rectangle \u7c7b\u578b\uff0c\u56e0\u4e3apoint\u7c7b\u578b\u53ef\u4ee5\u66f4\u7cbe\u786e\u5730\u6807\u6ce8\u5c0f\u7403\u7684\u4f4d\u7f6e\u3002\u6807\u7b7e\u547d\u540d\u4e3a ball \uff0c\u8bf7\u786e\u4fdd\u5728\u6253\u6807\u65f6\u4f7f\u7528\u6b63\u786e\u7684\u6807\u7b7e\u540d\u79f0\u3002 \u628a\u6570\u636e\u6587\u4ef6\u5939\u6539\u540d\u540e\u653e\u5165\u6307\u5b9a\u4f4d\u7f6e /home/liying_lab/chenxinfeng/DATA/mmpose/data/ball labelme\u683c\u5f0f\u8f6c\u6362 python -m lilab.cvutils.labelme_to_cocokeypoints_ball $LABEL_IMG_DIR \u8bad\u7ec3 /home/liying_lab/chenxinfeng/DATA/mmpose/res50_coco_ball_512x320_cam9.py \u4fee\u6539\u4ee3\u7801\uff0c\u5c06\u65b0\u589e\u7684\u6570\u636e\u6587\u4ef6\u5939\u548cjson\u6587\u4ef6\u5730\u5740\u6dfb\u52a0\u8fdb\u65b0\u7684dict cd /home/liying_lab/chenxinfeng/DATA/mmpose python tools/train.py res50_coco_ball_512x320_cam9.py \u6a21\u578b\u52a0\u901f /home/liying_lab/chenxinfeng/ml-project/LILAB-py/lilab/mmpose_dev/convert_model.sh \u4fee\u6539\u5bf9\u5e94\u7684\u6a21\u578b\u6587\u4ef6\u540d\u5230\u53d8\u91cf\u4e2d \u786e\u8ba4 /home/liying_lab/chenxinfeng/DATA/mmpose/work_dirs \u4e2d\u662f\u5426\u5b58\u5728\u65b0\u7684json\u7b49\uff0c\u4ee5\u53calatest.*\u7684\u66f4\u65b0\u65f6\u95f4 \u91cd\u65b0\u4ece\u5934\u8fd0\u884c\u5c0f\u7403\u5b9a\u4f4d\u4ee3\u7801 /home/liying_lab/chenxinfeng/ml-project/LILAB-py/lilab/multiview_scripts_dev/calibration.sh","title":"\u6570\u636e\u96c6\u5236\u4f5c&\u6a21\u578b\u66f4\u65b0"},{"location":"%E5%B0%8F%E7%90%83%E7%9F%AB%E6%AD%A3/dataset/#ball","text":"","title":"ball\u89c6\u9891\u7684\u6269\u589e\u8bad\u7ec3"},{"location":"%E5%B0%8F%E7%90%83%E7%9F%AB%E6%AD%A3/dataset/#_1","text":"\u5728pot player\u4e2d\u8fdb\u884c\u622a\u53d6\uff0c\u5b58\u653e\u81f3\u7edf\u4e00\u4f4d\u7f6e","title":"\u622a\u56fe"},{"location":"%E5%B0%8F%E7%90%83%E7%9F%AB%E6%AD%A3/dataset/#_2","text":"/home/liying_lab/chenxinfeng/ml-project/LILAB-py/lilab/outlier_refine/process_ball_dzy.sh","title":"\u627e\u56de\u6e90\u89c6\u9891\u622a\u56fe"},{"location":"%E5%B0%8F%E7%90%83%E7%9F%AB%E6%AD%A3/dataset/#_3","text":"\u4f7f\u7528labelme\u8fdb\u884c\u6253\u6807\u3002\u8fd9\u662f\u4e2a labelme \u6807\u6ce8\u540e\u7684 json \u6587\u4ef6\u793a\u4f8b\u3002 { \"version\": \"4.2.5\", \"flags\": {}, \"shapes\": [ { \"label\": \"ball\", \"points\": [ [ 226.4642857142857, 410.74999999999994 ] ], \"group_id\": null, \"shape_type\": \"point\", \"flags\": {} } ], \"imagePath\": \"2024-02-27_21-59-28ball_bob_room2_pannel8_002675.jpg\", \"imageData\": null, \"imageHeight\": 800, \"imageWidth\": 1280 } \u91cd\u8981\u8b66\u544a \u8bf7\u4f7f\u7528labelme\u7684 point \u7c7b\u578b\uff0c\u800c\u4e0d\u662f rectangle \u7c7b\u578b\uff0c\u56e0\u4e3apoint\u7c7b\u578b\u53ef\u4ee5\u66f4\u7cbe\u786e\u5730\u6807\u6ce8\u5c0f\u7403\u7684\u4f4d\u7f6e\u3002\u6807\u7b7e\u547d\u540d\u4e3a ball \uff0c\u8bf7\u786e\u4fdd\u5728\u6253\u6807\u65f6\u4f7f\u7528\u6b63\u786e\u7684\u6807\u7b7e\u540d\u79f0\u3002","title":"\u6253\u6807"},{"location":"%E5%B0%8F%E7%90%83%E7%9F%AB%E6%AD%A3/dataset/#_4","text":"/home/liying_lab/chenxinfeng/DATA/mmpose/data/ball","title":"\u628a\u6570\u636e\u6587\u4ef6\u5939\u6539\u540d\u540e\u653e\u5165\u6307\u5b9a\u4f4d\u7f6e"},{"location":"%E5%B0%8F%E7%90%83%E7%9F%AB%E6%AD%A3/dataset/#labelme","text":"python -m lilab.cvutils.labelme_to_cocokeypoints_ball $LABEL_IMG_DIR","title":"labelme\u683c\u5f0f\u8f6c\u6362"},{"location":"%E5%B0%8F%E7%90%83%E7%9F%AB%E6%AD%A3/dataset/#_5","text":"/home/liying_lab/chenxinfeng/DATA/mmpose/res50_coco_ball_512x320_cam9.py \u4fee\u6539\u4ee3\u7801\uff0c\u5c06\u65b0\u589e\u7684\u6570\u636e\u6587\u4ef6\u5939\u548cjson\u6587\u4ef6\u5730\u5740\u6dfb\u52a0\u8fdb\u65b0\u7684dict cd /home/liying_lab/chenxinfeng/DATA/mmpose python tools/train.py res50_coco_ball_512x320_cam9.py","title":"\u8bad\u7ec3"},{"location":"%E5%B0%8F%E7%90%83%E7%9F%AB%E6%AD%A3/dataset/#_6","text":"/home/liying_lab/chenxinfeng/ml-project/LILAB-py/lilab/mmpose_dev/convert_model.sh \u4fee\u6539\u5bf9\u5e94\u7684\u6a21\u578b\u6587\u4ef6\u540d\u5230\u53d8\u91cf\u4e2d","title":"\u6a21\u578b\u52a0\u901f"},{"location":"%E5%B0%8F%E7%90%83%E7%9F%AB%E6%AD%A3/dataset/#_7","text":"/home/liying_lab/chenxinfeng/DATA/mmpose/work_dirs \u4e2d\u662f\u5426\u5b58\u5728\u65b0\u7684json\u7b49\uff0c\u4ee5\u53calatest.*\u7684\u66f4\u65b0\u65f6\u95f4","title":"\u786e\u8ba4"},{"location":"%E5%B0%8F%E7%90%83%E7%9F%AB%E6%AD%A3/dataset/#_8","text":"/home/liying_lab/chenxinfeng/ml-project/LILAB-py/lilab/multiview_scripts_dev/calibration.sh","title":"\u91cd\u65b0\u4ece\u5934\u8fd0\u884c\u5c0f\u7403\u5b9a\u4f4d\u4ee3\u7801"},{"location":"%E5%B0%8F%E7%90%83%E7%9F%AB%E6%AD%A3/process/","text":"\u4ee3\u7801\u6d41\u7a0b \u5f00\u53d1\u8005\uff1axxx \u7ef4\u62a4\uff1axxx \u591a\u76f8\u673a\u6a21\u578b\u7684\u6807\u5b9a\u3002\u8f93\u5165\u662f\u89c6\u9891\u6587\u4ef6\uff0c\u8f93\u51fa\u662f\u6807\u5b9a\u7ed3\u679c\u3002 #!/bin/bash conda activate mmdet vfile = '/PATH_to_ball/BALL____2024-01-22_14-34-01.mp4' LILAB_DIR = /home/liying_lab/chenxf/ml-project/LILAB-py/lilab bash $LILAB_DIR /multiview_scripts_dev/p_calibration.sh $vfile carl \u5176\u4e2d vfile \u662f OBS Studio \u8f6f\u4ef6\u5f55\u5236\u7684\u89c6\u9891\u6587\u4ef6\u8def\u5f84\uff0c carl \u662f\u76f8\u673a\u6807\u5b9a\u53c2\u6570\u3002\u811a\u672c\u4f1a\u81ea\u52a8\u89e3\u6790\u89c6\u9891\uff0c\u5e76\u751f\u6210\u6807\u5b9a\u7ed3\u679c\u3002 \u5e38\u7528\u7684 \u76f8\u673a\u6807\u5b9a\u53c2\u6570\u5305\u62ec\uff1a ana : \u5927\u9f20\u884c\u4e3a\u95f41 bob : \u5927\u9f20\u884c\u4e3a\u95f42 / \u5c0f\u6876 carl : \u5927\u9f20\u884c\u4e3a\u95f42 / \u4e2d&\u5927\u6876\u3002","title":"\u4ee3\u7801\u6d41\u7a0b"},{"location":"%E5%B0%8F%E7%90%83%E7%9F%AB%E6%AD%A3/process/#_1","text":"\u5f00\u53d1\u8005\uff1axxx \u7ef4\u62a4\uff1axxx \u591a\u76f8\u673a\u6a21\u578b\u7684\u6807\u5b9a\u3002\u8f93\u5165\u662f\u89c6\u9891\u6587\u4ef6\uff0c\u8f93\u51fa\u662f\u6807\u5b9a\u7ed3\u679c\u3002 #!/bin/bash conda activate mmdet vfile = '/PATH_to_ball/BALL____2024-01-22_14-34-01.mp4' LILAB_DIR = /home/liying_lab/chenxf/ml-project/LILAB-py/lilab bash $LILAB_DIR /multiview_scripts_dev/p_calibration.sh $vfile carl \u5176\u4e2d vfile \u662f OBS Studio \u8f6f\u4ef6\u5f55\u5236\u7684\u89c6\u9891\u6587\u4ef6\u8def\u5f84\uff0c carl \u662f\u76f8\u673a\u6807\u5b9a\u53c2\u6570\u3002\u811a\u672c\u4f1a\u81ea\u52a8\u89e3\u6790\u89c6\u9891\uff0c\u5e76\u751f\u6210\u6807\u5b9a\u7ed3\u679c\u3002 \u5e38\u7528\u7684 \u76f8\u673a\u6807\u5b9a\u53c2\u6570\u5305\u62ec\uff1a ana : \u5927\u9f20\u884c\u4e3a\u95f41 bob : \u5927\u9f20\u884c\u4e3a\u95f42 / \u5c0f\u6876 carl : \u5927\u9f20\u884c\u4e3a\u95f42 / \u4e2d&\u5927\u6876\u3002","title":"\u4ee3\u7801\u6d41\u7a0b"},{"location":"%E7%A4%BE%E4%BA%A4%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/application/","text":"\u793e\u4ea4\u4e09\u7ef4\u59ff\u6001\u91cd\u6784 \u539f\u59cb\u7684\u591a\u89c6\u89d2\u89c6\u9891\uff0c\u7ecf\u8fc7 \u5206\u5272 , \u5173\u952e\u70b9\u91cd\u6784 \u548c \u5e73\u6ed1 \u4e4b\u540e\uff0c\u83b7\u53d6\u7a33\u5b9a\u76843D\u59ff\u6001\u5750\u6807\u3002 \u539f\u59cb\u89c6\u9891 \u89c6\u9891\u6765\u81ea OBS Studio \u5f55\u5236\u76849\u89c6\u89d2\u76f8\u673a\u89c6\u9891\u3002\u591a\u76f8\u673a\u753b\u9762\u7ecf\u8fc7\u4e86\u65f6\u95f4\u540c\u6b65\uff0c\u8bef\u5dee\u57281\u5e27\u53ca\u4ee5\u5185\uff0c\u53ef\u4ee5\u5ffd\u7565\u3002 \u5206\u5272 \u4f7f\u7528Mask-RCNN\u6a21\u578b\uff0c\u8bc6\u522b\u9ed1\u3001\u767d\u9f20\u7684\u8eab\u4efd\uff0c\u5e76\u5206\u5272\u50cf\u7d20\u533a\u57df\u3002 \u5173\u952e\u70b9\u91cd\u6784 \u6267\u884c DANNCE \u5173\u952e\u70b9\u9884\u6d4b + \u795e\u7ecf\u7f51\u7edc\u5e73\u6ed1\uff0c\u83b7\u53d63D\u59ff\u6001\u3002","title":"\u5e94\u7528\u573a\u666f"},{"location":"%E7%A4%BE%E4%BA%A4%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/application/#_1","text":"\u539f\u59cb\u7684\u591a\u89c6\u89d2\u89c6\u9891\uff0c\u7ecf\u8fc7 \u5206\u5272 , \u5173\u952e\u70b9\u91cd\u6784 \u548c \u5e73\u6ed1 \u4e4b\u540e\uff0c\u83b7\u53d6\u7a33\u5b9a\u76843D\u59ff\u6001\u5750\u6807\u3002","title":"\u793e\u4ea4\u4e09\u7ef4\u59ff\u6001\u91cd\u6784"},{"location":"%E7%A4%BE%E4%BA%A4%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/application/#_2","text":"\u89c6\u9891\u6765\u81ea OBS Studio \u5f55\u5236\u76849\u89c6\u89d2\u76f8\u673a\u89c6\u9891\u3002\u591a\u76f8\u673a\u753b\u9762\u7ecf\u8fc7\u4e86\u65f6\u95f4\u540c\u6b65\uff0c\u8bef\u5dee\u57281\u5e27\u53ca\u4ee5\u5185\uff0c\u53ef\u4ee5\u5ffd\u7565\u3002","title":"\u539f\u59cb\u89c6\u9891"},{"location":"%E7%A4%BE%E4%BA%A4%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/application/#_3","text":"\u4f7f\u7528Mask-RCNN\u6a21\u578b\uff0c\u8bc6\u522b\u9ed1\u3001\u767d\u9f20\u7684\u8eab\u4efd\uff0c\u5e76\u5206\u5272\u50cf\u7d20\u533a\u57df\u3002","title":"\u5206\u5272"},{"location":"%E7%A4%BE%E4%BA%A4%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/application/#_4","text":"\u6267\u884c DANNCE \u5173\u952e\u70b9\u9884\u6d4b + \u795e\u7ecf\u7f51\u7edc\u5e73\u6ed1\uff0c\u83b7\u53d63D\u59ff\u6001\u3002","title":"\u5173\u952e\u70b9\u91cd\u6784"},{"location":"%E7%A4%BE%E4%BA%A4%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/dataset/","text":"\u6570\u636e\u96c6\u5236\u4f5c&\u6a21\u578b\u66f4\u65b0 \u6807\u6ce8\u5927\u9f20\u5206\u5272 \u9996\u5148\uff0c\u4f7f\u7528 Labelme \u8f6f\u4ef6\u8fdb\u884c\u6570\u636e\u6807\u6ce8\u3002\u7528 Polygon \u5de5\u5177\uff0c\u521b\u5efa\u9ed1\u9f20 rat_black \u548c\u767d\u9f20 rat_white \u7684\u6807\u7b7e\u3002 \u66f4\u65b0\u5206\u5272\u6a21\u578b \u9010\u884c\u8fd0\u884c\u4e0b\u9762\u7684\u4ee3\u7801\uff0c\u5176\u4e2d mask_rcnn_r101_fpn_2x_coco_bwrat_816x512_cam9.py \u662f\u6a21\u578b\u7684\u914d\u7f6e\u6587\u4ef6\uff08\u9ed8\u8ba4\uff0c\u63a8\u8350\uff09\u3002\u6709\u9700\u6c42\u53ef\u4ee5\u6539\u6210\u5176\u5b83\u7684\u6a21\u578b\u914d\u7f6e\u3002 # 1. \u6570\u636e\u5236\u5907\uff1a labelme to coco # su chenxinfeng conda activate DEEPLABCUT # \u5c06labelme\u6570\u636e\u6807\u6ce8\u7684\u6587\u4ef6\u5939\u9879\u76ee\u91cd\u547d\u540d\u3002 ## \u6ce8\u610f\u4e8b\u98791\uff1a\u6587\u4ef6\u5939\u4e0d\u8981\u6709\u4e2d\u6587\uff0c\u6253\u6807\u7684\u56fe\u7247\u4e0d\u8981\u6709\u4e2d\u6587 ## \u6ce8\u610f\u4e8b\u98792\uff1a\u6253\u6807\u7684\u56fe\u7247\u6570\u91cf n>20 \u4e3a\u4e86\u4fdd\u8bc1\u8bad\u7ec3\u6548\u679c LABEL_ME_POJECT = /mnt/liying.cibr.ac.cn_xxx/labelimages NEW_NAME = /mnt/liying.cibr.ac.cn_xxx/bw_rat_1280x800_20230524 mv $LABEL_ME_POJECT $NEW_NAME # \u5c06labelme\u6570\u636e\u6807\u6ce8\u7684\u6587\u4ef6\u5939\u9879\u76ee\u8f6c\u6362\u4e3acoco\u6570\u636e\u96c6\u683c\u5f0f\u3002 # \u6ce8\u610f\u4e8b\u9879\uff1a\u7c7b\u522b\u7684\u540d\u5b57\u8981\u53bb MMDET_DATA_TARGET \u91cc\u9762\u770b\uff0c\u4e0d\u8981\u81ea\u5df1\u4e71\u5199\u3002 python -m lilab.cvutils.labelme_to_coco $NEW_NAME # \u5c06coco\u6570\u636e\u96c6\u62c6\u5206\u8bad\u7ec3\u96c6\u548c\u9a8c\u8bc1\u96c6\u3002 -s \u53c2\u6570\u8868\u793a\u8bad\u7ec3\u96c6\u7684\u6bd4\u4f8b\uff0c0.8 \u6216 0.9\u4e3a\u5e38\u7528\u3002 python -m lilab.cvutils.coco_split -s 0 .9 ${ NEW_NAME } _trainval.json # \u62f7\u8d1d\u6253\u6807\u6570\u636e\u96c6\u5230 mmdet \u7684\u6570\u636e\u96c6\u76ee\u5f55\u4e0b MMDET_DATA_TARGET = /home/liying_lab/chenxinfeng/DATA/CBNetV2/data/rats cp -r ${ NEW_NAME } _trainval.json ${ NEW_NAME } _train.json ${ NEW_NAME } _val.json \\ ${ NEW_NAME } $MMDET_DATA_TARGET / # 2. \u6a21\u578b\u8bad\u7ec3 conda activate mmpose cd /home/liying_lab/chenxinfeng/DATA/CBNetV2/ # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u4f7f\u7528vscode\u6253\u5f00\u3002 # \u4fee\u6539\u5176\u4e2d\u7684 `data` \u5b57\u6bb5\uff0c\u6307\u5411\u521a\u521a\u62f7\u8d1d\u7684coco\u6570\u636e\u96c6\u76ee\u5f55\u3002 CONFIG = $PWD /mask_rcnn_r101_fpn_2x_coco_bwrat_816x512_cam9.py echo $CONFIG # \u4f7f\u7528\u591a GPU \u6216\u5355 GPU \u8bad\u7ec3\u6a21\u578b # tools/dist_train.sh $CONFIG 4 python tools/train.py $CONFIG # 3. \u6a21\u578b\u52a0\u901f python -m lilab.mmdet_dev.convert_mmdet2trt $CONFIG # 4. \u67e5\u770b\u6a21\u578b\u662f\u5426\u66f4\u65b0\u6210\u529f ls -lh work_dirs/mask_rcnn_r101_fpn_2x_coco_bwrat_816x512_cam9/latest.* \u6700\u540e\u5f97\u5230\u66f4\u65b0\u7684 latest.trt \u6a21\u578b\u6743\u91cd\u6587\u4ef6\u3002 \u6807\u6ce8\u5927\u9f203D\u5173\u952e\u70b9 \u9996\u5148\uff0c\u4f7f\u7528 Label3D_Manager \u8fdb\u884c\u6570\u636e\u6807\u6ce8\u3002Label3D_manager \u662f\u5728\u5b98\u65b9\u7248\u672c\u4e0a\u505a\u66f4\u6539\uff0c\u4ee5\u9002\u5e94OBS \u5f55\u5236\u7684\u89c6\u9891\uff0c\u5df2\u7ecf\u4f7f\u7528\u5927\u9f20\u768414\u4e2a\u5173\u952e\u70b9\u3002 \u5e94\u8be5\u5f97\u5230 anno.mat \u6587\u4ef6\uff0c\u5176\u4e2d\u5305\u542b\u6807\u6ce8\u76843D\u5173\u952e\u70b9\u4fe1\u606f\u3002 \u5236\u5907\u6570\u636e\u96c6 conda activate mmdet source='/mnt/liying.cibr.ac.cn_usb3/wsy/ysj/segpkl/outframes' datadir='/home/liying_lab/chenxinfeng/DATA/dannce/data/bw_rat_1280x800x9_2024-11-27_photometry_voxel' cp -r $source $datadir python -m lilab.dannce.s1_anno2dataset $datadir/anno.mat # \u627e\u5230\u751f\u6210\u7684*_voxel_anno_dannce.pkl\uff0c\u4f7f\u7528\u4ee3\u7801\u4fee\u6b63\u5176\u8eab\u4f53\u4e2d\u5fc3\u70b9\uff08\u4ee52D mask \u4e2d\u5fc3\u70b9\uff0c\u4e09\u89d2\u5316\u5f97\u52303D\u4e2d\u5fc3\u70b9\uff09\u3002 python -m lilab.dannce.p2_dataset_com3d_refine_byseg ${datadir}_anno_dannce.pkl \u8bad\u7ec3DANNCE\u6a21\u578b \u9010\u884c\u8fd0\u884c\u4e0b\u9762\u7684\u4ee3\u7801\uff0c\u7528\u4e8e\u8bad\u7ec3\u6a21\u578b\u3002\u5176\u4e2d rat14_1280x800x9_mono_young \u662f\u4e00\u4e2a\u5df2\u7ecf\u88ab\u521b\u5efa\u8fc7\u7684\u9879\u76ee\u73af\u5883\uff08\u63a8\u8350\uff09\u3002\u6839\u636e\u9700\u6c42\uff0c\u4e5f\u53ef\u4ee5\u9009\u62e9\u5176\u5b83\u9879\u76ee\u3002 # cd \u8fdb\u5165\u9879\u76ee\u8def\u5f84 cd /home/liying_lab/chenxinfeng/DATA/dannce/demo/rat14_1280x800x9_mono_young # \u6539\u53d8\u9879\u76ee\u914d\u7f6e\u6587\u4ef6\uff0c\u6dfb\u52a0 \u6570\u636e\u96c6\u8def\u5f84\u3002 echo io_max.yaml # \u4fee\u6539 io_max.yaml, \u6dfb\u52a0\u6570\u636e\u5230 exp/label3d_file python -m dannce.cli_train ../../configs/dannce_rat14_1280x800x9_max_config.yaml \u8f6c\u5316\u6a21\u578b\u4e3a tensorrt \u52a0\u901f\u7684\u6a21\u578b\u3002 # Offline \u573a\u666f\u3002 cd /home/liying_lab/chenxinfeng/DATA/dannce/demo/rat14_1280x800x9_mono_young/DANNCE/train_results/MAX python -m lilab.dannce.t1_keras2onnx latest.hdf5 choosecuda 3 ,0,1,2 polygraphy run /home/liying_lab/chenxinfeng/ml-project/LILAB-py/lilab/tensorrt/constrained_network.py \\ --precision-constraints obey \\ --trt-min-shapes input_1: [ 1 ,64,64,64,9 ] \\ --trt-max-shapes input_1: [ 4 ,64,64,64,9 ] \\ --trt-opt-shapes input_1: [ 2 ,64,64,64,9 ] \\ --trt --fp16 --save-engine latest_dynamic.engine & choosecuda 0 ,1,2,3 polygraphy run /home/liying_lab/chenxinfeng/ml-project/LILAB-py/lilab/tensorrt/constrained_network.py \\ --precision-constraints obey \\ --input-shapes input_1: [ 2 ,64,64,64,9 ] \\ --trt --fp16 --save-engine latest.engine & # Realtime \u573a\u666f python -m lilab.dannce.t1_keras2onnx_rt latest.hdf5 choosecuda 1 ,2,3,0 polygraphy run /home/liying_lab/chenxinfeng/ml-project/LILAB-py/lilab/tensorrt/constrained_network_rt.py \\ --precision-constraints obey \\ --trt-min-shapes input_1: [ 1 ,64,64,64,9 ] \\ --trt-max-shapes input_1: [ 2 ,64,64,64,9 ] \\ --trt-opt-shapes input_1: [ 1 ,64,64,64,9 ] \\ --trt --fp16 --save-engine latest.idx.engine wait \u6700\u540e\u5f97\u5230 latest_dynamic.engine \u548c latest.idx.engine \u3002","title":"\u6570\u636e\u96c6\u5236\u4f5c&\u6a21\u578b\u66f4\u65b0"},{"location":"%E7%A4%BE%E4%BA%A4%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/dataset/#_1","text":"","title":"\u6570\u636e\u96c6\u5236\u4f5c&amp;\u6a21\u578b\u66f4\u65b0"},{"location":"%E7%A4%BE%E4%BA%A4%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/dataset/#_2","text":"\u9996\u5148\uff0c\u4f7f\u7528 Labelme \u8f6f\u4ef6\u8fdb\u884c\u6570\u636e\u6807\u6ce8\u3002\u7528 Polygon \u5de5\u5177\uff0c\u521b\u5efa\u9ed1\u9f20 rat_black \u548c\u767d\u9f20 rat_white \u7684\u6807\u7b7e\u3002","title":"\u6807\u6ce8\u5927\u9f20\u5206\u5272"},{"location":"%E7%A4%BE%E4%BA%A4%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/dataset/#_3","text":"\u9010\u884c\u8fd0\u884c\u4e0b\u9762\u7684\u4ee3\u7801\uff0c\u5176\u4e2d mask_rcnn_r101_fpn_2x_coco_bwrat_816x512_cam9.py \u662f\u6a21\u578b\u7684\u914d\u7f6e\u6587\u4ef6\uff08\u9ed8\u8ba4\uff0c\u63a8\u8350\uff09\u3002\u6709\u9700\u6c42\u53ef\u4ee5\u6539\u6210\u5176\u5b83\u7684\u6a21\u578b\u914d\u7f6e\u3002 # 1. \u6570\u636e\u5236\u5907\uff1a labelme to coco # su chenxinfeng conda activate DEEPLABCUT # \u5c06labelme\u6570\u636e\u6807\u6ce8\u7684\u6587\u4ef6\u5939\u9879\u76ee\u91cd\u547d\u540d\u3002 ## \u6ce8\u610f\u4e8b\u98791\uff1a\u6587\u4ef6\u5939\u4e0d\u8981\u6709\u4e2d\u6587\uff0c\u6253\u6807\u7684\u56fe\u7247\u4e0d\u8981\u6709\u4e2d\u6587 ## \u6ce8\u610f\u4e8b\u98792\uff1a\u6253\u6807\u7684\u56fe\u7247\u6570\u91cf n>20 \u4e3a\u4e86\u4fdd\u8bc1\u8bad\u7ec3\u6548\u679c LABEL_ME_POJECT = /mnt/liying.cibr.ac.cn_xxx/labelimages NEW_NAME = /mnt/liying.cibr.ac.cn_xxx/bw_rat_1280x800_20230524 mv $LABEL_ME_POJECT $NEW_NAME # \u5c06labelme\u6570\u636e\u6807\u6ce8\u7684\u6587\u4ef6\u5939\u9879\u76ee\u8f6c\u6362\u4e3acoco\u6570\u636e\u96c6\u683c\u5f0f\u3002 # \u6ce8\u610f\u4e8b\u9879\uff1a\u7c7b\u522b\u7684\u540d\u5b57\u8981\u53bb MMDET_DATA_TARGET \u91cc\u9762\u770b\uff0c\u4e0d\u8981\u81ea\u5df1\u4e71\u5199\u3002 python -m lilab.cvutils.labelme_to_coco $NEW_NAME # \u5c06coco\u6570\u636e\u96c6\u62c6\u5206\u8bad\u7ec3\u96c6\u548c\u9a8c\u8bc1\u96c6\u3002 -s \u53c2\u6570\u8868\u793a\u8bad\u7ec3\u96c6\u7684\u6bd4\u4f8b\uff0c0.8 \u6216 0.9\u4e3a\u5e38\u7528\u3002 python -m lilab.cvutils.coco_split -s 0 .9 ${ NEW_NAME } _trainval.json # \u62f7\u8d1d\u6253\u6807\u6570\u636e\u96c6\u5230 mmdet \u7684\u6570\u636e\u96c6\u76ee\u5f55\u4e0b MMDET_DATA_TARGET = /home/liying_lab/chenxinfeng/DATA/CBNetV2/data/rats cp -r ${ NEW_NAME } _trainval.json ${ NEW_NAME } _train.json ${ NEW_NAME } _val.json \\ ${ NEW_NAME } $MMDET_DATA_TARGET / # 2. \u6a21\u578b\u8bad\u7ec3 conda activate mmpose cd /home/liying_lab/chenxinfeng/DATA/CBNetV2/ # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u4f7f\u7528vscode\u6253\u5f00\u3002 # \u4fee\u6539\u5176\u4e2d\u7684 `data` \u5b57\u6bb5\uff0c\u6307\u5411\u521a\u521a\u62f7\u8d1d\u7684coco\u6570\u636e\u96c6\u76ee\u5f55\u3002 CONFIG = $PWD /mask_rcnn_r101_fpn_2x_coco_bwrat_816x512_cam9.py echo $CONFIG # \u4f7f\u7528\u591a GPU \u6216\u5355 GPU \u8bad\u7ec3\u6a21\u578b # tools/dist_train.sh $CONFIG 4 python tools/train.py $CONFIG # 3. \u6a21\u578b\u52a0\u901f python -m lilab.mmdet_dev.convert_mmdet2trt $CONFIG # 4. \u67e5\u770b\u6a21\u578b\u662f\u5426\u66f4\u65b0\u6210\u529f ls -lh work_dirs/mask_rcnn_r101_fpn_2x_coco_bwrat_816x512_cam9/latest.* \u6700\u540e\u5f97\u5230\u66f4\u65b0\u7684 latest.trt \u6a21\u578b\u6743\u91cd\u6587\u4ef6\u3002","title":"\u66f4\u65b0\u5206\u5272\u6a21\u578b"},{"location":"%E7%A4%BE%E4%BA%A4%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/dataset/#3d","text":"\u9996\u5148\uff0c\u4f7f\u7528 Label3D_Manager \u8fdb\u884c\u6570\u636e\u6807\u6ce8\u3002Label3D_manager \u662f\u5728\u5b98\u65b9\u7248\u672c\u4e0a\u505a\u66f4\u6539\uff0c\u4ee5\u9002\u5e94OBS \u5f55\u5236\u7684\u89c6\u9891\uff0c\u5df2\u7ecf\u4f7f\u7528\u5927\u9f20\u768414\u4e2a\u5173\u952e\u70b9\u3002 \u5e94\u8be5\u5f97\u5230 anno.mat \u6587\u4ef6\uff0c\u5176\u4e2d\u5305\u542b\u6807\u6ce8\u76843D\u5173\u952e\u70b9\u4fe1\u606f\u3002","title":"\u6807\u6ce8\u5927\u9f203D\u5173\u952e\u70b9"},{"location":"%E7%A4%BE%E4%BA%A4%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/dataset/#_4","text":"conda activate mmdet source='/mnt/liying.cibr.ac.cn_usb3/wsy/ysj/segpkl/outframes' datadir='/home/liying_lab/chenxinfeng/DATA/dannce/data/bw_rat_1280x800x9_2024-11-27_photometry_voxel' cp -r $source $datadir python -m lilab.dannce.s1_anno2dataset $datadir/anno.mat # \u627e\u5230\u751f\u6210\u7684*_voxel_anno_dannce.pkl\uff0c\u4f7f\u7528\u4ee3\u7801\u4fee\u6b63\u5176\u8eab\u4f53\u4e2d\u5fc3\u70b9\uff08\u4ee52D mask \u4e2d\u5fc3\u70b9\uff0c\u4e09\u89d2\u5316\u5f97\u52303D\u4e2d\u5fc3\u70b9\uff09\u3002 python -m lilab.dannce.p2_dataset_com3d_refine_byseg ${datadir}_anno_dannce.pkl","title":"\u5236\u5907\u6570\u636e\u96c6"},{"location":"%E7%A4%BE%E4%BA%A4%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/dataset/#dannce","text":"\u9010\u884c\u8fd0\u884c\u4e0b\u9762\u7684\u4ee3\u7801\uff0c\u7528\u4e8e\u8bad\u7ec3\u6a21\u578b\u3002\u5176\u4e2d rat14_1280x800x9_mono_young \u662f\u4e00\u4e2a\u5df2\u7ecf\u88ab\u521b\u5efa\u8fc7\u7684\u9879\u76ee\u73af\u5883\uff08\u63a8\u8350\uff09\u3002\u6839\u636e\u9700\u6c42\uff0c\u4e5f\u53ef\u4ee5\u9009\u62e9\u5176\u5b83\u9879\u76ee\u3002 # cd \u8fdb\u5165\u9879\u76ee\u8def\u5f84 cd /home/liying_lab/chenxinfeng/DATA/dannce/demo/rat14_1280x800x9_mono_young # \u6539\u53d8\u9879\u76ee\u914d\u7f6e\u6587\u4ef6\uff0c\u6dfb\u52a0 \u6570\u636e\u96c6\u8def\u5f84\u3002 echo io_max.yaml # \u4fee\u6539 io_max.yaml, \u6dfb\u52a0\u6570\u636e\u5230 exp/label3d_file python -m dannce.cli_train ../../configs/dannce_rat14_1280x800x9_max_config.yaml \u8f6c\u5316\u6a21\u578b\u4e3a tensorrt \u52a0\u901f\u7684\u6a21\u578b\u3002 # Offline \u573a\u666f\u3002 cd /home/liying_lab/chenxinfeng/DATA/dannce/demo/rat14_1280x800x9_mono_young/DANNCE/train_results/MAX python -m lilab.dannce.t1_keras2onnx latest.hdf5 choosecuda 3 ,0,1,2 polygraphy run /home/liying_lab/chenxinfeng/ml-project/LILAB-py/lilab/tensorrt/constrained_network.py \\ --precision-constraints obey \\ --trt-min-shapes input_1: [ 1 ,64,64,64,9 ] \\ --trt-max-shapes input_1: [ 4 ,64,64,64,9 ] \\ --trt-opt-shapes input_1: [ 2 ,64,64,64,9 ] \\ --trt --fp16 --save-engine latest_dynamic.engine & choosecuda 0 ,1,2,3 polygraphy run /home/liying_lab/chenxinfeng/ml-project/LILAB-py/lilab/tensorrt/constrained_network.py \\ --precision-constraints obey \\ --input-shapes input_1: [ 2 ,64,64,64,9 ] \\ --trt --fp16 --save-engine latest.engine & # Realtime \u573a\u666f python -m lilab.dannce.t1_keras2onnx_rt latest.hdf5 choosecuda 1 ,2,3,0 polygraphy run /home/liying_lab/chenxinfeng/ml-project/LILAB-py/lilab/tensorrt/constrained_network_rt.py \\ --precision-constraints obey \\ --trt-min-shapes input_1: [ 1 ,64,64,64,9 ] \\ --trt-max-shapes input_1: [ 2 ,64,64,64,9 ] \\ --trt-opt-shapes input_1: [ 1 ,64,64,64,9 ] \\ --trt --fp16 --save-engine latest.idx.engine wait \u6700\u540e\u5f97\u5230 latest_dynamic.engine \u548c latest.idx.engine \u3002","title":"\u8bad\u7ec3DANNCE\u6a21\u578b"},{"location":"%E7%A4%BE%E4%BA%A4%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/dataset_pick/","text":"\u6570\u636e\u96c6\u5236\u4f5c\u65f6 1. \u5206\u5272\u56fe\u7247\u9009\u53d6 \u65b9\u6cd51\uff0c\u53ea\u6311\u9009\u9519\u8bef\u5e27\u6253\u6807\uff0c\u8fd9\u6837\u6548\u7387\u6bd4\u8f83\u9ad8\u3002\u4f7f\u7528Potplayer \u64ad\u653e *_mask.mp4 \uff0c\u622a\u56fe\u9519\u8bef\u5e27\uff0c\u8fdb\u884c\u622a\u53d6\uff0c\u5b58\u653e\u81f3\u7edf\u4e00\u4f4d\u7f6e\u3002\u5206\u9519\u8bef\u89c6\u89d2\u5e76\u6839\u636e\u5de6\u4e0a\u89d2\u5e27\u6570\u627e\u56de\u6e90\u89c6\u9891\u3002 \u65b9\u6cd52\uff0c\u968f\u673a\u62bd\u53d6\u6307\u5b9a\u6570\u76ee\u7684\u5e27\u5e76\u968f\u673a\u622a\u53d6\u4e00\u4e2a\u89c6\u89d2\uff0c\u6548\u7387\u6bd4\u8f83\u4f4e\u3002 \u53ef\u4ee5\u53c2\u8003\uff1a /home/liying_lab/chenxinfeng/ml-project/LILAB-py/lilab/outlier_refine/process_mmdet_dzy.sh 1. \u56fe\u7247\u6253\u6807 \u6dd8\u5b9d","title":"\u6570\u636e\u96c6\u5236\u4f5c\u65f6"},{"location":"%E7%A4%BE%E4%BA%A4%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/dataset_pick/#_1","text":"","title":"\u6570\u636e\u96c6\u5236\u4f5c\u65f6"},{"location":"%E7%A4%BE%E4%BA%A4%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/dataset_pick/#1","text":"\u65b9\u6cd51\uff0c\u53ea\u6311\u9009\u9519\u8bef\u5e27\u6253\u6807\uff0c\u8fd9\u6837\u6548\u7387\u6bd4\u8f83\u9ad8\u3002\u4f7f\u7528Potplayer \u64ad\u653e *_mask.mp4 \uff0c\u622a\u56fe\u9519\u8bef\u5e27\uff0c\u8fdb\u884c\u622a\u53d6\uff0c\u5b58\u653e\u81f3\u7edf\u4e00\u4f4d\u7f6e\u3002\u5206\u9519\u8bef\u89c6\u89d2\u5e76\u6839\u636e\u5de6\u4e0a\u89d2\u5e27\u6570\u627e\u56de\u6e90\u89c6\u9891\u3002 \u65b9\u6cd52\uff0c\u968f\u673a\u62bd\u53d6\u6307\u5b9a\u6570\u76ee\u7684\u5e27\u5e76\u968f\u673a\u622a\u53d6\u4e00\u4e2a\u89c6\u89d2\uff0c\u6548\u7387\u6bd4\u8f83\u4f4e\u3002 \u53ef\u4ee5\u53c2\u8003\uff1a /home/liying_lab/chenxinfeng/ml-project/LILAB-py/lilab/outlier_refine/process_mmdet_dzy.sh","title":"1. \u5206\u5272\u56fe\u7247\u9009\u53d6"},{"location":"%E7%A4%BE%E4%BA%A4%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/dataset_pick/#1_1","text":"\u6dd8\u5b9d","title":"1. \u56fe\u7247\u6253\u6807"},{"location":"%E7%A4%BE%E4%BA%A4%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/process/","text":"\u4ee3\u7801\u6d41\u7a0b \u5f00\u53d1\u8005\uff1axxx \u7ef4\u62a4\uff1axxx \u5206\u5272\u591a\u52a8\u7269 # %% batch # step0 # conda activate mmdet source activate mmdet vdir = ` w2l '\\\\liying.cibr.ac.cn\\Data_Temp\\Chenxinfeng\\multiview_9\\chenxf\\00_BehaviorAnalysis-seq2seq\\SexMating' ` # \u9009\u62e9\u5f53\u5929\u7684\u5c0f\u7403\u77eb\u6b63\u6587\u4ef6\uff08\u591a\u76f8\u673a\u6a21\u578b\u6587\u4ef6\uff09\uff0c\u4f7f\u6570\u636e\u5177\u67093D\u4fe1\u606f\u3002 ball = ` w2l \"\\\\liying.cibr.ac.cn\\Data_Temp\\Chenxinfeng\\multiview_9\\chenxf\\carl\\2023-10-14-\\ball_2023-10-23_13-18-10.calibpkl\" ` config = /home/liying_lab/chenxinfeng/DATA/CBNetV2/mask_rcnn_r101_fpn_2x_coco_bwrat_816x512_cam9.py python -m lilab.mmdet_dev_multi.s1_mmdet_videos2segpkl_dilate_toCUDA $vdir --pannels carl --config $config #--maxlen 9000 python -m lilab.mmdet_dev.s3_segpkl_dilate2videoseg_canvas_mask $vdir --maxlen 9000 # check video # step2 com3d and create voxbox ls $vdir /*.segpkl | xargs -n 1 -I {} -P 4 python -m lilab.mmdet_dev.s4_segpkl_put_com3d_pro {} --calibpkl \" $ball \" # \u7ed8\u5236\u4f53\u7d20\u7a7a\u95f4\u7684\u89c6\u9891\uff08\u53ef\u9009\uff0c\u4e0d\u63a8\u8350\uff09 ls $vdir /*.segpkl | sed 's/.segpkl/.mp4/' | xargs -n 1 -P 8 -I {} python -m lilab.mmdet_dev.s4_segpkl_com3d_to_video {} --vox_size 230 # check video \u5176\u4e2d volsize \u8868\u793a\u5927\u9f20\u4f53\u7d20\u7a7a\u95f4\u7684\u8fb9\u957f\uff0c\u4f8b\u5982 xx_vol230.0.mp4 \u8868\u793a\u8fb9\u957f\u4e3a230mm\u3002\u8fb9\u957f\u6839\u636e\u5927\u9f20\u5e74\u9f84\u548c\u6027\u522b\u800c\u5b9a\uff0c\u63a8\u8350\u503c\u5982\u4e0b\uff1a Male Female DAY35 190 190 DAY50 230 220 DAY75 250 240 DAY\u6210\u5e74 260 240 \u6700\u540e\u5f97\u5230\u4e00\u7cfb\u5217\u89c6\u9891\u548c\u6587\u4ef6\uff0c\u5305\u62ec\uff1a xx_mask.mp4 - \u5206\u5272\u56fe\u50cf xx_vol230.0.mp4 - voxel \u4f53\u7d20\u7a7a\u95f4 xx.segpkl - \u5206\u5272\u7684Mask \u4e8c\u8fdb\u5236\u6570\u636e \u9a8c\u8bc1\uff1a\u6253\u5f00 xx_mask.mp4 \u89c6\u9891\uff0c\u67e5\u770b\u5206\u5272\u662f\u5426\u6b63\u786e\u3002\u6253\u5f00 xx_vol230.0.mp4 \u89c6\u9891\uff0c\u67e5\u770b voxel \u4f53\u7d20\u5c3a\u5bf8\u662f\u5426\u5339\u914d\u3002 \u63d0\u793a \u4e00\u6b21\u6027\u4e0d\u8981\u8dd1\u592a\u591a\u89c6\u9891\u3002\u5148\u8dd1\u51e0\u4e2a\u89c6\u9891\u8bd5\u8bd5\u770b\u3002\u6548\u679c\u4f73\uff0c\u5219\u53ef\u4ee5\u63a5\u7740\u8fd0\u884c\u5269\u4e0b\u7684\u89c6\u9891\u3002\u5982\u679c\u6548\u679c\u4e0d\u4f73\uff0c\u5219\u8981\u66f4\u65b0\u6a21\u578b\u540e\uff0c\u518d\u91cd\u65b0\u8dd1\u89c6\u9891\u3002 \u9519\u8bef \u5982\u679c\u5f00 xx_mask.mp4 \u89c6\u9891\u5206\u5272\u6548\u679c\u5dee\uff0c\u5219\u9700\u8981\u91cd\u4fee\u5206\u5272\u6807\u6ce8\uff0c\u66f4\u65b0\u6a21\u578b\u3002\u89c1\u6570\u636e\u4e0e\u6a21\u578b\u66f4\u65b0\u7ae0\u8282\u3002\u5982\u679c xx_vol230.0.mp4 \u4f53\u7d20\u65b9\u683c\u504f\u5dee\u8f83\u5927\uff0c\u8bf4\u660e\u5c0f\u7403\u77eb\u6b63\u7684\u6587\u4ef6\u6709\u9519\u8bef\uff0c\u9700\u8981\u4ece\u65b0\u77eb\u6b63\u3002 \u9884\u6d4b\u5173\u952e\u70b9 #!/bin/bash conda activate mmdet cd /home/liying_lab/chenxinfeng/DATA/dannce/demo/rat14_1280x800x9_mono_young # 1. \u51c6\u5907\u6570\u636e volsize_vfiles = \" 280 280 /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/zhongzhenchao/CNTNAP2_KO/cntnap2pnd75room2/a/2023-12-21_15-42-11D1bC1w.segpkl 280 280 /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/zhongzhenchao/CNTNAP2_KO/cntnap2pnd75room2/a/2023-12-21_15-16-15C1bD1w.segpkl 280 280 /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/zhongzhenchao/CNTNAP2_KO/cntnap2pnd75room2/a/2023-12-21_14-32-25A1bB1w.segpkl 280 280 /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/zhongzhenchao/CNTNAP2_KO/cntnap2pnd75room2/a/2023-12-21_14-54-14B1bA1w.segpkl 280 280 /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/zhongzhenchao/CNTNAP2_KO/cntnap2pnd75room2/a/2023-12-20_16-45-22D1bB2w.segpkl \" volsize_vfiles = $( echo \" $volsize_vfiles \" | grep -v '^[[:space:]]*$' ) #echo \"$volsize_vfiles\" vfiles = $( echo \" $volsize_vfiles \" | awk '{print $3}' ) #echo \"$vfiles\" # 2. \u7528DANNCE \u9884\u6d4b\u5f97\u52303D\u59ff\u6001, nGPU=4 echo \" $volsize_vfiles \" | sed 's/.segpkl/.mp4/' | cat -n | xargs -P 4 -l bash -c 'python -m dannce.cli_trt ../../configs/dannce_rat14_1280x800x9_max_config.yaml --vol-size-list $1 $2 --video-file $3 --gpu-id $(($0%4))' # xargs -P 2 \u8868\u793a\u4f7f\u75282\u4e2aGPU\uff0c\u914d\u5408 choosecuda 0,1,2,3 \u786e\u8ba4\u4f7f\u7528gpu\u6570\u91cf # 3. \u7ed8\u5236\u201c\u672a\u5e73\u6ed1\u201d\u7684\u59ff\u6001\u8f68\u8ff9 \uff08\u53ef\u9009\uff09 # echo \"$vfiles\" | sed 's/.segpkl/.matcalibpkl/' | xargs -P 6 -l -r bash -c 'python -m lilab.mmpose.s3_matcalibpkl_2_video2d $0 --iview 3' # 4. \u7ed8\u5236\u5e73\u6ed1\u540e\u7684\u59ff\u6001\u8f68\u8ff9 echo \" $vfiles \" | sed 's/.segpkl/.matcalibpkl/' | xargs -l -P 6 -r python -m lilab.smoothnet.s1_matcalibpkl2smooth_foot_dzy echo \" $vfiles \" | sed 's/.segpkl/.smoothed_foot.matcalibpkl/' | xargs -P 6 -l -r bash -c 'python -m lilab.mmpose.s3_matcalibpkl_2_video2d $0 --iview 3 --postfix smoothed_foot ' # 4B \u5c06\u4e24\u4e2a\u89c6\u89d2\u4e32\u8fde\u7ed8\u5236 \uff08\u53ef\u9009\uff09 # echo \"$vfiles\" | sed 's/.segpkl/.smoothed_foot.matcalibpkl/' | xargs -P 8 -l -r bash -c 'python -m lilab.mmpose.s3_matcalibpkl_2_video2d_2view $0 --postfix smoothed_foot' # 5 \u521b\u5efa400p \u7f29\u7565\u89c6\u9891\u6587\u4ef6\uff08\u53ef\u9009\uff09 # bash /home/liying_lab/chenxinfeng/ml-project/LILAB-py/lilab/openlabcluster_postprocess/create_400p.sh \\ # /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/zhongzhenchao/CNTNAP2_KO/cntnap2pnd75room2/a \u5176\u4e2d volsize_vfiles \u8868\u793a\u4e00\u4e2a\u89c6\u9891\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u5206\u522b\u662f\u9ed1\u9f20\u7684voxelsize(280), \u767d\u9f20\u7684voxelsize(280) \u548c\u89c6\u9891\u540c\u540d\u7684\u5206\u5272\u6587\u4ef6 *.segpkl \u3002\u7528\u4e24\u4e2a\u4e0d\u540c\u7684voxel\uff0c\u53ef\u4ee5\u533a\u5206\u4e0d\u540c\u4f53\u578b\u7684\u9f20\uff0c\u4f8b\u5982\u96cc\u6027\u4e0e\u96c4\u6027\u3002 \u8b66\u544a \u592a\u5c0f\u7684voxelsize \u53ef\u80fd\u91c7\u96c6\u7684\u5927\u9f20\u56fe\u50cf\u4e0d\u5b8c\u6574\uff0c\u8ba9\u5173\u952e\u70b9\u8d8a\u754c\u3002\u592a\u5927\u7684voxelsize\u53ef\u80fd\u91c7\u96c6\u7684\u5927\u9f20\u56fe\u50cf\u592a\u6a21\u7cca\uff0c\u964d\u4f4e\u7cbe\u5ea6\u3002 \u5f97\u5230\u7ed3\u679c\uff1a xx.smoothed_foot.matcalibpkl - \u4e24\u53ea\u9f20\u76843D\u5173\u952e\u70b9\u5e8f\u5217\u3002 xx_3_sktdraw_smoothed_foot.mp4 - \u4e24\u53ea\u9f20\u76843D\u5173\u952e\u70b9\u89c6\u9891\u3002 xx_400p.mp4 - smoothed_foot.mp4 \u6587\u4ef6\u7684 400x400 \u5206\u8fa8\u7387\u538b\u7f29\uff0c\u51cf\u5c11\u6587\u4ef6\u5927\u5c0f\u548c\u54cd\u5e94\u901f\u5ea6\u3002 \u9a8c\u8bc1\uff1a\u6253\u5f00 xx_3_sktdraw_smoothed_foot.mp4 \u89c6\u9891\uff0c\u67e5\u770b\u5173\u952e\u70b9\u4f4d\u7f6e\u662f\u5426\u6b63\u786e\u3002\u4fdd\u5b58\u597d xx.smoothed_foot.matcalibpkl \uff0c\u8fd9\u662f\u5305\u542b\u793e\u4ea4\u4e09\u7ef4\u59ff\u6001\u5750\u6807\u7684\u91cd\u8981\u6587\u4ef6\u3002 \u9519\u8bef \u5982\u679c\u5f00 xx_3_sktdraw_smoothed_foot.mp4 \u89c6\u9891\u5206\u5272\u6548\u679c\u5dee\uff0c\u53ef\u4ee5\u68c0\u67e5\u504f\u5dee\u5bf9\u5e94\u65f6\u523b\u7684\u5206\u5272\u89c6\u9891\uff0c\u610f\u89c1\u68c0\u67e5\u5c0f\u7403\u77eb\u6b63\u6587\u4ef6\u3002DANNCE\u6a21\u578b\u4e00\u822c\u6765\u8bf4\u975e\u5e38\u7a33\u5b9a\uff0cMASK-RCNN \u5206\u5272\u6a21\u578b\u5bb9\u6613\u6536\u5230\u73af\u5883\u5149\u548c\u80cc\u666f\u5f71\u54cd\uff0c\u9700\u8981\u7ecf\u5e38\u52a0\u8bad\u3002\u89c1\u6570\u636e\u4e0e\u6a21\u578b\u66f4\u65b0\u7ae0\u8282\u3002","title":"\u4ee3\u7801\u6d41\u7a0b"},{"location":"%E7%A4%BE%E4%BA%A4%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/process/#_1","text":"\u5f00\u53d1\u8005\uff1axxx \u7ef4\u62a4\uff1axxx","title":"\u4ee3\u7801\u6d41\u7a0b"},{"location":"%E7%A4%BE%E4%BA%A4%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/process/#_2","text":"# %% batch # step0 # conda activate mmdet source activate mmdet vdir = ` w2l '\\\\liying.cibr.ac.cn\\Data_Temp\\Chenxinfeng\\multiview_9\\chenxf\\00_BehaviorAnalysis-seq2seq\\SexMating' ` # \u9009\u62e9\u5f53\u5929\u7684\u5c0f\u7403\u77eb\u6b63\u6587\u4ef6\uff08\u591a\u76f8\u673a\u6a21\u578b\u6587\u4ef6\uff09\uff0c\u4f7f\u6570\u636e\u5177\u67093D\u4fe1\u606f\u3002 ball = ` w2l \"\\\\liying.cibr.ac.cn\\Data_Temp\\Chenxinfeng\\multiview_9\\chenxf\\carl\\2023-10-14-\\ball_2023-10-23_13-18-10.calibpkl\" ` config = /home/liying_lab/chenxinfeng/DATA/CBNetV2/mask_rcnn_r101_fpn_2x_coco_bwrat_816x512_cam9.py python -m lilab.mmdet_dev_multi.s1_mmdet_videos2segpkl_dilate_toCUDA $vdir --pannels carl --config $config #--maxlen 9000 python -m lilab.mmdet_dev.s3_segpkl_dilate2videoseg_canvas_mask $vdir --maxlen 9000 # check video # step2 com3d and create voxbox ls $vdir /*.segpkl | xargs -n 1 -I {} -P 4 python -m lilab.mmdet_dev.s4_segpkl_put_com3d_pro {} --calibpkl \" $ball \" # \u7ed8\u5236\u4f53\u7d20\u7a7a\u95f4\u7684\u89c6\u9891\uff08\u53ef\u9009\uff0c\u4e0d\u63a8\u8350\uff09 ls $vdir /*.segpkl | sed 's/.segpkl/.mp4/' | xargs -n 1 -P 8 -I {} python -m lilab.mmdet_dev.s4_segpkl_com3d_to_video {} --vox_size 230 # check video \u5176\u4e2d volsize \u8868\u793a\u5927\u9f20\u4f53\u7d20\u7a7a\u95f4\u7684\u8fb9\u957f\uff0c\u4f8b\u5982 xx_vol230.0.mp4 \u8868\u793a\u8fb9\u957f\u4e3a230mm\u3002\u8fb9\u957f\u6839\u636e\u5927\u9f20\u5e74\u9f84\u548c\u6027\u522b\u800c\u5b9a\uff0c\u63a8\u8350\u503c\u5982\u4e0b\uff1a Male Female DAY35 190 190 DAY50 230 220 DAY75 250 240 DAY\u6210\u5e74 260 240 \u6700\u540e\u5f97\u5230\u4e00\u7cfb\u5217\u89c6\u9891\u548c\u6587\u4ef6\uff0c\u5305\u62ec\uff1a xx_mask.mp4 - \u5206\u5272\u56fe\u50cf xx_vol230.0.mp4 - voxel \u4f53\u7d20\u7a7a\u95f4 xx.segpkl - \u5206\u5272\u7684Mask \u4e8c\u8fdb\u5236\u6570\u636e \u9a8c\u8bc1\uff1a\u6253\u5f00 xx_mask.mp4 \u89c6\u9891\uff0c\u67e5\u770b\u5206\u5272\u662f\u5426\u6b63\u786e\u3002\u6253\u5f00 xx_vol230.0.mp4 \u89c6\u9891\uff0c\u67e5\u770b voxel \u4f53\u7d20\u5c3a\u5bf8\u662f\u5426\u5339\u914d\u3002 \u63d0\u793a \u4e00\u6b21\u6027\u4e0d\u8981\u8dd1\u592a\u591a\u89c6\u9891\u3002\u5148\u8dd1\u51e0\u4e2a\u89c6\u9891\u8bd5\u8bd5\u770b\u3002\u6548\u679c\u4f73\uff0c\u5219\u53ef\u4ee5\u63a5\u7740\u8fd0\u884c\u5269\u4e0b\u7684\u89c6\u9891\u3002\u5982\u679c\u6548\u679c\u4e0d\u4f73\uff0c\u5219\u8981\u66f4\u65b0\u6a21\u578b\u540e\uff0c\u518d\u91cd\u65b0\u8dd1\u89c6\u9891\u3002 \u9519\u8bef \u5982\u679c\u5f00 xx_mask.mp4 \u89c6\u9891\u5206\u5272\u6548\u679c\u5dee\uff0c\u5219\u9700\u8981\u91cd\u4fee\u5206\u5272\u6807\u6ce8\uff0c\u66f4\u65b0\u6a21\u578b\u3002\u89c1\u6570\u636e\u4e0e\u6a21\u578b\u66f4\u65b0\u7ae0\u8282\u3002\u5982\u679c xx_vol230.0.mp4 \u4f53\u7d20\u65b9\u683c\u504f\u5dee\u8f83\u5927\uff0c\u8bf4\u660e\u5c0f\u7403\u77eb\u6b63\u7684\u6587\u4ef6\u6709\u9519\u8bef\uff0c\u9700\u8981\u4ece\u65b0\u77eb\u6b63\u3002","title":"\u5206\u5272\u591a\u52a8\u7269"},{"location":"%E7%A4%BE%E4%BA%A4%E4%B8%89%E7%BB%B4%E5%A7%BF%E6%80%81%E9%87%8D%E6%9E%84/process/#_3","text":"#!/bin/bash conda activate mmdet cd /home/liying_lab/chenxinfeng/DATA/dannce/demo/rat14_1280x800x9_mono_young # 1. \u51c6\u5907\u6570\u636e volsize_vfiles = \" 280 280 /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/zhongzhenchao/CNTNAP2_KO/cntnap2pnd75room2/a/2023-12-21_15-42-11D1bC1w.segpkl 280 280 /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/zhongzhenchao/CNTNAP2_KO/cntnap2pnd75room2/a/2023-12-21_15-16-15C1bD1w.segpkl 280 280 /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/zhongzhenchao/CNTNAP2_KO/cntnap2pnd75room2/a/2023-12-21_14-32-25A1bB1w.segpkl 280 280 /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/zhongzhenchao/CNTNAP2_KO/cntnap2pnd75room2/a/2023-12-21_14-54-14B1bA1w.segpkl 280 280 /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/zhongzhenchao/CNTNAP2_KO/cntnap2pnd75room2/a/2023-12-20_16-45-22D1bB2w.segpkl \" volsize_vfiles = $( echo \" $volsize_vfiles \" | grep -v '^[[:space:]]*$' ) #echo \"$volsize_vfiles\" vfiles = $( echo \" $volsize_vfiles \" | awk '{print $3}' ) #echo \"$vfiles\" # 2. \u7528DANNCE \u9884\u6d4b\u5f97\u52303D\u59ff\u6001, nGPU=4 echo \" $volsize_vfiles \" | sed 's/.segpkl/.mp4/' | cat -n | xargs -P 4 -l bash -c 'python -m dannce.cli_trt ../../configs/dannce_rat14_1280x800x9_max_config.yaml --vol-size-list $1 $2 --video-file $3 --gpu-id $(($0%4))' # xargs -P 2 \u8868\u793a\u4f7f\u75282\u4e2aGPU\uff0c\u914d\u5408 choosecuda 0,1,2,3 \u786e\u8ba4\u4f7f\u7528gpu\u6570\u91cf # 3. \u7ed8\u5236\u201c\u672a\u5e73\u6ed1\u201d\u7684\u59ff\u6001\u8f68\u8ff9 \uff08\u53ef\u9009\uff09 # echo \"$vfiles\" | sed 's/.segpkl/.matcalibpkl/' | xargs -P 6 -l -r bash -c 'python -m lilab.mmpose.s3_matcalibpkl_2_video2d $0 --iview 3' # 4. \u7ed8\u5236\u5e73\u6ed1\u540e\u7684\u59ff\u6001\u8f68\u8ff9 echo \" $vfiles \" | sed 's/.segpkl/.matcalibpkl/' | xargs -l -P 6 -r python -m lilab.smoothnet.s1_matcalibpkl2smooth_foot_dzy echo \" $vfiles \" | sed 's/.segpkl/.smoothed_foot.matcalibpkl/' | xargs -P 6 -l -r bash -c 'python -m lilab.mmpose.s3_matcalibpkl_2_video2d $0 --iview 3 --postfix smoothed_foot ' # 4B \u5c06\u4e24\u4e2a\u89c6\u89d2\u4e32\u8fde\u7ed8\u5236 \uff08\u53ef\u9009\uff09 # echo \"$vfiles\" | sed 's/.segpkl/.smoothed_foot.matcalibpkl/' | xargs -P 8 -l -r bash -c 'python -m lilab.mmpose.s3_matcalibpkl_2_video2d_2view $0 --postfix smoothed_foot' # 5 \u521b\u5efa400p \u7f29\u7565\u89c6\u9891\u6587\u4ef6\uff08\u53ef\u9009\uff09 # bash /home/liying_lab/chenxinfeng/ml-project/LILAB-py/lilab/openlabcluster_postprocess/create_400p.sh \\ # /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/zhongzhenchao/CNTNAP2_KO/cntnap2pnd75room2/a \u5176\u4e2d volsize_vfiles \u8868\u793a\u4e00\u4e2a\u89c6\u9891\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u5206\u522b\u662f\u9ed1\u9f20\u7684voxelsize(280), \u767d\u9f20\u7684voxelsize(280) \u548c\u89c6\u9891\u540c\u540d\u7684\u5206\u5272\u6587\u4ef6 *.segpkl \u3002\u7528\u4e24\u4e2a\u4e0d\u540c\u7684voxel\uff0c\u53ef\u4ee5\u533a\u5206\u4e0d\u540c\u4f53\u578b\u7684\u9f20\uff0c\u4f8b\u5982\u96cc\u6027\u4e0e\u96c4\u6027\u3002 \u8b66\u544a \u592a\u5c0f\u7684voxelsize \u53ef\u80fd\u91c7\u96c6\u7684\u5927\u9f20\u56fe\u50cf\u4e0d\u5b8c\u6574\uff0c\u8ba9\u5173\u952e\u70b9\u8d8a\u754c\u3002\u592a\u5927\u7684voxelsize\u53ef\u80fd\u91c7\u96c6\u7684\u5927\u9f20\u56fe\u50cf\u592a\u6a21\u7cca\uff0c\u964d\u4f4e\u7cbe\u5ea6\u3002 \u5f97\u5230\u7ed3\u679c\uff1a xx.smoothed_foot.matcalibpkl - \u4e24\u53ea\u9f20\u76843D\u5173\u952e\u70b9\u5e8f\u5217\u3002 xx_3_sktdraw_smoothed_foot.mp4 - \u4e24\u53ea\u9f20\u76843D\u5173\u952e\u70b9\u89c6\u9891\u3002 xx_400p.mp4 - smoothed_foot.mp4 \u6587\u4ef6\u7684 400x400 \u5206\u8fa8\u7387\u538b\u7f29\uff0c\u51cf\u5c11\u6587\u4ef6\u5927\u5c0f\u548c\u54cd\u5e94\u901f\u5ea6\u3002 \u9a8c\u8bc1\uff1a\u6253\u5f00 xx_3_sktdraw_smoothed_foot.mp4 \u89c6\u9891\uff0c\u67e5\u770b\u5173\u952e\u70b9\u4f4d\u7f6e\u662f\u5426\u6b63\u786e\u3002\u4fdd\u5b58\u597d xx.smoothed_foot.matcalibpkl \uff0c\u8fd9\u662f\u5305\u542b\u793e\u4ea4\u4e09\u7ef4\u59ff\u6001\u5750\u6807\u7684\u91cd\u8981\u6587\u4ef6\u3002 \u9519\u8bef \u5982\u679c\u5f00 xx_3_sktdraw_smoothed_foot.mp4 \u89c6\u9891\u5206\u5272\u6548\u679c\u5dee\uff0c\u53ef\u4ee5\u68c0\u67e5\u504f\u5dee\u5bf9\u5e94\u65f6\u523b\u7684\u5206\u5272\u89c6\u9891\uff0c\u610f\u89c1\u68c0\u67e5\u5c0f\u7403\u77eb\u6b63\u6587\u4ef6\u3002DANNCE\u6a21\u578b\u4e00\u822c\u6765\u8bf4\u975e\u5e38\u7a33\u5b9a\uff0cMASK-RCNN \u5206\u5272\u6a21\u578b\u5bb9\u6613\u6536\u5230\u73af\u5883\u5149\u548c\u80cc\u666f\u5f71\u54cd\uff0c\u9700\u8981\u7ecf\u5e38\u52a0\u8bad\u3002\u89c1\u6570\u636e\u4e0e\u6a21\u578b\u66f4\u65b0\u7ae0\u8282\u3002","title":"\u9884\u6d4b\u5173\u952e\u70b9"},{"location":"%E7%A4%BE%E4%BA%A4%E5%BA%8F%E5%88%97%E6%A0%87%E7%AD%BE/application/","text":"\u793e\u4ea4\u6807\u7b7e\u5e8f\u5217\u5316 \u793e\u4ea4\u7279\u5f81\u8bbe\u8ba1 \u83b7\u53d6\u4e24\u53ea\u52a8\u7269\u957f\u65f6\u95f4\u8eab\u4f53\u5750\u6807\u70b9\uff0c\u5b83\u4eec\u7684\u8f68\u8ff9\u53d8\u5316\u4fe1\u606f\u4e3a\u6211\u4eec\u63a2\u7d22\u52a8\u7269\u793e\u4ea4\u7c7b\u578b\u63d0\u4f9b\u4e86\u57fa\u7840\u3002\u57fa\u4e8e\u8fd9\u4e9b\u5750\u6807\u70b9\uff0c\u6211\u4eec\u8bbe\u8ba1 \u4e86\u4e00\u7cfb\u5217\u7279\u5f81\uff08\u517132\u4e2a\uff09\uff0c\u66f4\u597d\u7684\u5c55\u793a\u793e\u4ea4\u7684\u7279\u70b9\u3002 \u5305\u62ec10\u4e2a\u52a8\u7269\u81ea\u8eab\u8fd0\u52a8\u7684\u7279\u5f81\u3002\u8003\u8651\u5230\u793e\u4ea4\u884c\u4e3a\u5177\u6709\u72ec\u7279\u7684\u4e92\u52a8\u6a21\u5f0f\uff0c \u6211\u4eec\u8fd8\u8bbe\u8ba1\u4e86\u4e24\u8005\u4ea4\u4e92\u768410\u4e2a\u7279\u5f81\u3002\u5927\u9f20\u5728\u793e\u4ea4\u63a2\u7d22\u8fc7\u7a0b\u4e2d\uff0c\u4f34\u968f\u8bb8\u591a\u5934\u90e8\u548c\u751f\u6b96\u817a\u55c5\u95fb\u884c \u4e3a\u4ee5\u719f\u6089\u5f7c\u6b64\uff0c\u56e0\u6b64\u6211\u4eec\u5212\u5b9a\u4e86\u5934\u90e8\u548c\u751f\u6b96\u817a\u7684\u5706\u5f62\u55c5\u95fb\u533a\u57df\uff0c\u5e76\u6784\u9020\u4e86 3 \u4e2a\u533a\u5206\u55c5 \u95fb\u4f4d\u70b9\u7684\u7279\u5f81\u3002\u5728\u73a9\u800d\u6253\u6597\u548c\u4ea4\u914d\u722c\u8de8\u65f6\uff0c\u5927\u9f20\u4f34\u968f\u7740\u8eab\u4f53\u8eaf\u5e72\u95f4\u7684\u4e0a\u4e0b\u91cd\u53e0\uff0c\u56e0\u6b64\u6211 \u4eec\u8bbe\u8ba1\u4e86 9 \u4e2a\u8eab\u4f53\u91cd\u53e0\u7279\u5f81\u3002 \u793e\u4ea4\u7279\u5f81\u805a\u7c7b \u6211\u4eec\u5c06\u793e\u4ea4\u89c6\u9891\u4ee50.8\u79d2\u65f6\u95f4\u7a97\u5207\u5272\uff0c\u5f97\u5230\uff0832\u7279\u5f81x24\u5e27\uff09\u7684\u9ad8\u7ef4\u7279\u5f81\u3002\u518d\u91c7\u7528\u4e86\u4e00\u4e2a\u57fa\u4e8e RNN \u7684\u81ea\u7f16\u7801\u5668\u6a21\u578bSeq2Seq\uff0c\u63d0\u53d6\u884c\u4e3a\u7684\u7a7a\u95f4\u548c\u65f6\u95f4\u7279\u5f81\uff0c\u53ef\u4ee5\u533a\u5206\u5916\u89c2\u548c\u8fd0\u52a8\u6709\u5dee\u5f02\u7684\u884c\u4e3a\u7c7b\u578b\u3002\u518d\u5c06Decoder\u7f16\u7801\u7684\u6f5c\u7279\u5f81\u7528PCA\u964d\u7ef4\u523090%\u7684\u65b9\u5dee\u53ef\u89e3\u91ca\u6027\uff08\u524d12\u7ef4PC\uff09\u3002\u4f7f\u7528 K-means \u65e0\u76d1\u7763\u805a\u7c7b\uff0c\u5f97\u5230\u7ea640-50\u4e2a\u884c\u4e3a\u7c7b\u522b\u3002 \u5bf9\u4e8e\u6bcf\u4e2a\u884c\u4e3a\u7c7b\u522b\uff0c\u6211\u4eec\u89c2\u5bdf\u4e86\u5178\u578b\u7684\u89c6\u9891\u7247\u6bb5\u5e76\u8fdb\u884c\u4e86\u4eba\u5de5\u6ce8\u89e3\u3002\u901a\u8fc7\u8fd9\u4e00\u8fc7\u7a0b\uff0c\u8bb8\u591a\u719f\u6089\u7684\u793e\u4ea4\u884c\u4e3a\u7c7b\u578b\u88ab\u6210\u529f\u805a\u7c7b\uff0c\u5982\u55c5\u63a2\u3001\u8ffd\u9010\u3001\u63a5\u8fd1\u3001\u79bb\u5f00\u548c\u73a9\u800d\uff0c\u8f83\u4e3a\u5168\u9762\u5730\u8986\u76d6\u4e86\u5927\u9f20\u7684\u793e\u4ea4\u6a21\u5f0f\u3002\u901a\u8fc7\u5c06\u884c\u4e3a\u7c7b\u522b\u6295\u5f71\u5728\u4e8c\u7ef4 UMAP \u7a7a\u95f4\u4e2d\uff0c\u6784\u6210\u4e86\u66f4\u4fbf\u4e8e\u53ef\u89c6\u5316\u7684\u793e\u4ea4\u884c\u4e3a\u56fe\u8c31\u3002\u5728 UMAP \u793e\u4ea4\u56fe\u8c31 \u4e2d\uff0c\u4e0d\u540c\u5927\u7c7b\u7684\u884c\u4e3a\u88ab\u5206\u9694\u5728\u5404\u81ea\u7684\u533a\u57df\uff0c\u76f8\u90bb\u533a\u57df\u7684\u884c\u4e3a\u6bd4\u8f83\u76f8\u4f3c\u3002\u53ca\u65f6\u76f8\u4f3c\u7684\u884c\u4e3a\uff0c\u5728\u7ec6\u5fae\u7684\u7279\u5f81\u4e0a\u6709\u6240\u533a\u522b\uff0c\u6bd4\u8ba4\u4e3a\u8bbe\u5b9a\u66f4\u4e3a\u7ec6\u81f4\u3002\u56e0\u6b64\uff0c\u81ea\u52a8\u5316\u805a\u7c7b\u7684\u65b9\u6cd5\uff0c\u65e0\u9700\u4eba\u5de5\u6807\u6ce8\uff0c\u53ef\u4ee5\u90e8\u5206\u66ff\u4ee3\u4eba\u5de5\u5bf9\u884c\u4e3a\u7684\u89c2\u5bdf\u3002 \u793e\u4ea4\u4e00\u81f4\u6027\u7684\u805a\u7c7b\u4f18\u5316 \u5728\u5bf9\u884c\u4e3a\u5206\u7c7b\u7ed3\u679c\u7684\u89c6\u9891\u7247\u6bb5\u8fdb\u884c\u8be6\u5c3d\u5ba1\u67e5\u7684\u8fc7\u7a0b\u4e2d\uff0c\u672c\u7814\u7a76\u8bc6\u522b\u51fa\u90e8\u5206\u7c7b\u522b\u4e2d\u5b58\u5728\u4e0e\u4eba\u5de5\u6807\u6ce8\u9884\u671f\u884c\u4e3a\u4e0d\u4e00\u81f4\u7684\u975e\u5178\u578b\u7247\u6bb5\u3002\u793e\u4ea4\u884c\u4e3a\u7684\u56fa\u6709\u7279\u6027\u4e3a\u4f18\u5316\u7b97\u6cd5\u63d0\u4f9b\u4e86\u72ec\u7279\u6761\u4ef6\uff0c\u5b83\u5141\u8bb8\u4ece\u4e0d\u540c\u4e2a\u4f53\u7684\u89c6\u89d2\u5ba1\u89c6\u540c\u4e00\u793e\u4ea4\u4e92\u52a8\u3002\u540c\u4e00\u793e\u4ea4\u4e92\u52a8\u7247\u6bb5\u5728\u4e24\u4e2a\u4e0d\u540c\u89d2\u8272\u89c6\u89d2\u4e0b\u5206\u522b\u8ba1\u7b97\u6807\u7b7e\uff082\u4efd\u6807\u7b7e\uff09\uff0c\u6807\u7b7e\u4e00\u81f4\u65f6\u8be5\u7247\u6bb5\u7684\u5206\u7c7b\u66f4\u53ef\u9760\u3002\u672c\u7814\u7a76\u4ece\u767d\u9f20\u548c\u9ed1\u9f20\u7684\u89c6\u89d2\u5206\u522b\u5bf9\u793e\u4ea4\u884c\u4e3a\u8fdb\u884c\u5f52\u7c7b\uff0c\u5f97\u5230\u53cc\u91cd\u6807\u7b7e\uff0c\u5e76\u8bc6\u522b\u8fd9\u4e9b\u6807\u7b7e\u7684\u4e00\u81f4\u6027\u5339\u914d\u5173\u7cfb\u3002\u5728 42 \u4e2a\u884c\u4e3a\u7c7b\u522b\u4e2d\u81ea\u52a8\u7b5b\u9009\u51fa 36 \u79cd\u5177\u6709\u4e92\u8865\u6027\u7684\u884c\u4e3a\u3002\u8fd9 36 \u7c7b\u884c\u4e3a\u88ab\u79f0\u4e3a\u53ef\u9760\u7684\u805a\u7c7b\u7c7b\u522b\u3002\u518d\u8bad\u7ec3\u795e\u7ecf\u7f51\u7edc\uff0c\u91cd\u65b0\u5c06\u6240\u6709\u89c6\u9891\u7247\u6bb5\u5212\u5206\u5230 36 \u7c7b\u53ef\u9760\u805a\u7c7b\u4e2d\u3002","title":"\u5e94\u7528\u573a\u666f"},{"location":"%E7%A4%BE%E4%BA%A4%E5%BA%8F%E5%88%97%E6%A0%87%E7%AD%BE/application/#_1","text":"","title":"\u793e\u4ea4\u6807\u7b7e\u5e8f\u5217\u5316"},{"location":"%E7%A4%BE%E4%BA%A4%E5%BA%8F%E5%88%97%E6%A0%87%E7%AD%BE/application/#_2","text":"\u83b7\u53d6\u4e24\u53ea\u52a8\u7269\u957f\u65f6\u95f4\u8eab\u4f53\u5750\u6807\u70b9\uff0c\u5b83\u4eec\u7684\u8f68\u8ff9\u53d8\u5316\u4fe1\u606f\u4e3a\u6211\u4eec\u63a2\u7d22\u52a8\u7269\u793e\u4ea4\u7c7b\u578b\u63d0\u4f9b\u4e86\u57fa\u7840\u3002\u57fa\u4e8e\u8fd9\u4e9b\u5750\u6807\u70b9\uff0c\u6211\u4eec\u8bbe\u8ba1 \u4e86\u4e00\u7cfb\u5217\u7279\u5f81\uff08\u517132\u4e2a\uff09\uff0c\u66f4\u597d\u7684\u5c55\u793a\u793e\u4ea4\u7684\u7279\u70b9\u3002 \u5305\u62ec10\u4e2a\u52a8\u7269\u81ea\u8eab\u8fd0\u52a8\u7684\u7279\u5f81\u3002\u8003\u8651\u5230\u793e\u4ea4\u884c\u4e3a\u5177\u6709\u72ec\u7279\u7684\u4e92\u52a8\u6a21\u5f0f\uff0c \u6211\u4eec\u8fd8\u8bbe\u8ba1\u4e86\u4e24\u8005\u4ea4\u4e92\u768410\u4e2a\u7279\u5f81\u3002\u5927\u9f20\u5728\u793e\u4ea4\u63a2\u7d22\u8fc7\u7a0b\u4e2d\uff0c\u4f34\u968f\u8bb8\u591a\u5934\u90e8\u548c\u751f\u6b96\u817a\u55c5\u95fb\u884c \u4e3a\u4ee5\u719f\u6089\u5f7c\u6b64\uff0c\u56e0\u6b64\u6211\u4eec\u5212\u5b9a\u4e86\u5934\u90e8\u548c\u751f\u6b96\u817a\u7684\u5706\u5f62\u55c5\u95fb\u533a\u57df\uff0c\u5e76\u6784\u9020\u4e86 3 \u4e2a\u533a\u5206\u55c5 \u95fb\u4f4d\u70b9\u7684\u7279\u5f81\u3002\u5728\u73a9\u800d\u6253\u6597\u548c\u4ea4\u914d\u722c\u8de8\u65f6\uff0c\u5927\u9f20\u4f34\u968f\u7740\u8eab\u4f53\u8eaf\u5e72\u95f4\u7684\u4e0a\u4e0b\u91cd\u53e0\uff0c\u56e0\u6b64\u6211 \u4eec\u8bbe\u8ba1\u4e86 9 \u4e2a\u8eab\u4f53\u91cd\u53e0\u7279\u5f81\u3002","title":"\u793e\u4ea4\u7279\u5f81\u8bbe\u8ba1"},{"location":"%E7%A4%BE%E4%BA%A4%E5%BA%8F%E5%88%97%E6%A0%87%E7%AD%BE/application/#_3","text":"\u6211\u4eec\u5c06\u793e\u4ea4\u89c6\u9891\u4ee50.8\u79d2\u65f6\u95f4\u7a97\u5207\u5272\uff0c\u5f97\u5230\uff0832\u7279\u5f81x24\u5e27\uff09\u7684\u9ad8\u7ef4\u7279\u5f81\u3002\u518d\u91c7\u7528\u4e86\u4e00\u4e2a\u57fa\u4e8e RNN \u7684\u81ea\u7f16\u7801\u5668\u6a21\u578bSeq2Seq\uff0c\u63d0\u53d6\u884c\u4e3a\u7684\u7a7a\u95f4\u548c\u65f6\u95f4\u7279\u5f81\uff0c\u53ef\u4ee5\u533a\u5206\u5916\u89c2\u548c\u8fd0\u52a8\u6709\u5dee\u5f02\u7684\u884c\u4e3a\u7c7b\u578b\u3002\u518d\u5c06Decoder\u7f16\u7801\u7684\u6f5c\u7279\u5f81\u7528PCA\u964d\u7ef4\u523090%\u7684\u65b9\u5dee\u53ef\u89e3\u91ca\u6027\uff08\u524d12\u7ef4PC\uff09\u3002\u4f7f\u7528 K-means \u65e0\u76d1\u7763\u805a\u7c7b\uff0c\u5f97\u5230\u7ea640-50\u4e2a\u884c\u4e3a\u7c7b\u522b\u3002 \u5bf9\u4e8e\u6bcf\u4e2a\u884c\u4e3a\u7c7b\u522b\uff0c\u6211\u4eec\u89c2\u5bdf\u4e86\u5178\u578b\u7684\u89c6\u9891\u7247\u6bb5\u5e76\u8fdb\u884c\u4e86\u4eba\u5de5\u6ce8\u89e3\u3002\u901a\u8fc7\u8fd9\u4e00\u8fc7\u7a0b\uff0c\u8bb8\u591a\u719f\u6089\u7684\u793e\u4ea4\u884c\u4e3a\u7c7b\u578b\u88ab\u6210\u529f\u805a\u7c7b\uff0c\u5982\u55c5\u63a2\u3001\u8ffd\u9010\u3001\u63a5\u8fd1\u3001\u79bb\u5f00\u548c\u73a9\u800d\uff0c\u8f83\u4e3a\u5168\u9762\u5730\u8986\u76d6\u4e86\u5927\u9f20\u7684\u793e\u4ea4\u6a21\u5f0f\u3002\u901a\u8fc7\u5c06\u884c\u4e3a\u7c7b\u522b\u6295\u5f71\u5728\u4e8c\u7ef4 UMAP \u7a7a\u95f4\u4e2d\uff0c\u6784\u6210\u4e86\u66f4\u4fbf\u4e8e\u53ef\u89c6\u5316\u7684\u793e\u4ea4\u884c\u4e3a\u56fe\u8c31\u3002\u5728 UMAP \u793e\u4ea4\u56fe\u8c31 \u4e2d\uff0c\u4e0d\u540c\u5927\u7c7b\u7684\u884c\u4e3a\u88ab\u5206\u9694\u5728\u5404\u81ea\u7684\u533a\u57df\uff0c\u76f8\u90bb\u533a\u57df\u7684\u884c\u4e3a\u6bd4\u8f83\u76f8\u4f3c\u3002\u53ca\u65f6\u76f8\u4f3c\u7684\u884c\u4e3a\uff0c\u5728\u7ec6\u5fae\u7684\u7279\u5f81\u4e0a\u6709\u6240\u533a\u522b\uff0c\u6bd4\u8ba4\u4e3a\u8bbe\u5b9a\u66f4\u4e3a\u7ec6\u81f4\u3002\u56e0\u6b64\uff0c\u81ea\u52a8\u5316\u805a\u7c7b\u7684\u65b9\u6cd5\uff0c\u65e0\u9700\u4eba\u5de5\u6807\u6ce8\uff0c\u53ef\u4ee5\u90e8\u5206\u66ff\u4ee3\u4eba\u5de5\u5bf9\u884c\u4e3a\u7684\u89c2\u5bdf\u3002","title":"\u793e\u4ea4\u7279\u5f81\u805a\u7c7b"},{"location":"%E7%A4%BE%E4%BA%A4%E5%BA%8F%E5%88%97%E6%A0%87%E7%AD%BE/application/#_4","text":"\u5728\u5bf9\u884c\u4e3a\u5206\u7c7b\u7ed3\u679c\u7684\u89c6\u9891\u7247\u6bb5\u8fdb\u884c\u8be6\u5c3d\u5ba1\u67e5\u7684\u8fc7\u7a0b\u4e2d\uff0c\u672c\u7814\u7a76\u8bc6\u522b\u51fa\u90e8\u5206\u7c7b\u522b\u4e2d\u5b58\u5728\u4e0e\u4eba\u5de5\u6807\u6ce8\u9884\u671f\u884c\u4e3a\u4e0d\u4e00\u81f4\u7684\u975e\u5178\u578b\u7247\u6bb5\u3002\u793e\u4ea4\u884c\u4e3a\u7684\u56fa\u6709\u7279\u6027\u4e3a\u4f18\u5316\u7b97\u6cd5\u63d0\u4f9b\u4e86\u72ec\u7279\u6761\u4ef6\uff0c\u5b83\u5141\u8bb8\u4ece\u4e0d\u540c\u4e2a\u4f53\u7684\u89c6\u89d2\u5ba1\u89c6\u540c\u4e00\u793e\u4ea4\u4e92\u52a8\u3002\u540c\u4e00\u793e\u4ea4\u4e92\u52a8\u7247\u6bb5\u5728\u4e24\u4e2a\u4e0d\u540c\u89d2\u8272\u89c6\u89d2\u4e0b\u5206\u522b\u8ba1\u7b97\u6807\u7b7e\uff082\u4efd\u6807\u7b7e\uff09\uff0c\u6807\u7b7e\u4e00\u81f4\u65f6\u8be5\u7247\u6bb5\u7684\u5206\u7c7b\u66f4\u53ef\u9760\u3002\u672c\u7814\u7a76\u4ece\u767d\u9f20\u548c\u9ed1\u9f20\u7684\u89c6\u89d2\u5206\u522b\u5bf9\u793e\u4ea4\u884c\u4e3a\u8fdb\u884c\u5f52\u7c7b\uff0c\u5f97\u5230\u53cc\u91cd\u6807\u7b7e\uff0c\u5e76\u8bc6\u522b\u8fd9\u4e9b\u6807\u7b7e\u7684\u4e00\u81f4\u6027\u5339\u914d\u5173\u7cfb\u3002\u5728 42 \u4e2a\u884c\u4e3a\u7c7b\u522b\u4e2d\u81ea\u52a8\u7b5b\u9009\u51fa 36 \u79cd\u5177\u6709\u4e92\u8865\u6027\u7684\u884c\u4e3a\u3002\u8fd9 36 \u7c7b\u884c\u4e3a\u88ab\u79f0\u4e3a\u53ef\u9760\u7684\u805a\u7c7b\u7c7b\u522b\u3002\u518d\u8bad\u7ec3\u795e\u7ecf\u7f51\u7edc\uff0c\u91cd\u65b0\u5c06\u6240\u6709\u89c6\u9891\u7247\u6bb5\u5212\u5206\u5230 36 \u7c7b\u53ef\u9760\u805a\u7c7b\u4e2d\u3002","title":"\u793e\u4ea4\u4e00\u81f4\u6027\u7684\u805a\u7c7b\u4f18\u5316"},{"location":"%E7%A4%BE%E4%BA%A4%E5%BA%8F%E5%88%97%E6%A0%87%E7%AD%BE/dataset/","text":"\u4ece\u96f6\u5236\u4f5c\u793e\u4ea4\u805a\u7c7b\u7684\u6a21\u677f \u4ece\u5173\u952e\u70b9\u6587\u4ef6+\u89c6\u9891\u5230\u793e\u4ea4\u7279\u5f81\u548c\u884c\u4e3a\u6807\u7b7e \u5728\u8fdb\u884c\u201c\u793e\u4ea4\u4e09\u7ef4\u59ff\u6001\u91cd\u6784\u201d\u4e4b\u540e\uff0c\u5e94\u8be5\u4f1a\u6709 \u201c smoothed_foot.matcalibpkl\u201d \u5173\u952e\u70b9\u6587\u4ef6\u548c\u201c _sktdraw_smoothed_foot.mp4\u201d \u89c6\u9891\u6587\u4ef6\u3002 \u5c06\u6240\u6709\u8fd9\u4e24\u7c7b\u89c6\u9891\u548c\u6570\u636e\u6587\u4ef6\u62f7\u8d1d\u5230\u4e00\u4e2a\u6587\u4ef6\u5939\u4e2d\u3002\u6267\u884c\u4e0b\u9762\u547d\u4ee4\uff0c\u5c06\u9010\u6b21 \u8ba1\u7b97\u793e\u4ea4\u7279\u5f81 - \u5bcc\u96c6\u8fd1\u8ddd\u79bb\u793e\u4ea4\u5e76\u62c6\u5206\u7247\u6bb5 - Seq2Seq\u6a21\u578b\u62bd\u63d0\u793e\u4ea4\u7684\u65f6\u7a7a\u7279\u5f81 - \u793e\u4ea4Cluster - \u7ed8\u5236\u89c6\u9891 \u3002 \u8bf7\u5c06\u8be5\u4ee3\u7801\u9010\u884c\u8fd0\u884c\u3002 #!/bin/bash conda activate OpenLabCluster # \u4ee3\u7801\u5b58\u653e\u7684\u8def\u5f84 \uff08by\u9676\u73b0\u660e\uff09 cd /DATA/taoxianming/rat/script/openlabcluster/pc_feats41_DecSeqCluster_better_20231102 pathFeats = /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/chenxf/Shank3HETxWT_202309/MM_FF # ResPath \u4e0d\u8981\u7528\u4e91\u76d8\uff0c\u6587\u4ef6\u592a\u7410\u788e\uff0c\u4f7f\u7528\u4e91\u76d8\u6162 bhvResPath = ~/DATA/Shank3HETxWT_202309_MM_FF_openlabcluster today = 2023 -11-09 ##always date format mkdir -p $bhvResPath ## create 400p bash /home/liying_lab/chenxinfeng/ml-project/LILAB-py/lilab/openlabcluster_postprocess/create_400p.sh $pathFeats ## Calculate raw features python 01_1_feats41fromPoints-IDswitch_mp.py $pathFeats ## minmax and get close segments python 01_2_featsMM_clipsInCloseSegs_mp.py $pathFeats python 02_1_prepare_featureFiles_forOpenLabCluster.py $pathFeats $bhvResPath ## split train:test=9:1 python 02_2_makeProject_trainTest.py $bhvResPath $today ## training Seq2Seq gpuID = 0 python 02_3_seq2seq_training-decSeq.py $bhvResPath $gpuID $today ## behavior clustering python 03_1_decSeqFeats_PCA-balanceCluster.py $bhvResPath $today ## Dec features in space, colored by cluster NO python 03_2_plot_decSeqFeatsPCS-trajectoryColorByLabels.py $bhvResPath $today ## plot mp4 videos of each behavior cluster python 04_1_plot_decSeqCluster-Videos.py $pathFeats $bhvResPath $today ## get behavior cluster sequence of each video python 04_2_getBhvClusterSeqs_eachVideo.py $pathFeats $bhvResPath $today \u5f97\u5230 *_sequences.pkl \u548c *_bio_labels.npz \u4e24\u4e2a\u884c\u4e3a\u89c6\u9891\u6807\u7b7e\u6587\u4ef6; FWPCA*_blackFirst/svm_clu*_400p.mp4 \u6bcf\u7c7b\u884c\u4e3a\u5bf9\u5e94\u7684\u89c6\u9891\u6587\u4ef6\u3002 \u7ed8\u56fe & \u8ba1\u7b97\u4e3b\u88ab\u52a8\u4e00\u81f4\u6027 \u8bf7\u5c06\u8be5\u4ee3\u7801\u9010\u884c\u8fd0\u884c\u3002 #!/bin/bash conda activate mmdet cd /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/chenxf/00_BehaviorAnalysis-seq2seq/SexAge/Day55_Mix_analysis/SexAgeDay55andzzcWTinAUT_MMFF/result32/ ## 1. \u5408\u5e76\u6587\u4ef6\uff0c\u751f\u6210 clippredpkl \u6587\u4ef6 python -m lilab.openlabcluster_postprocess.s1_merge_3_file . ## 2. Embedding \u7684 UMAP \u4e0e Kmeans \u8fb9\u754c python -m lilab.openlabcluster_postprocess.s2_decisionBoundary_masaik_plot *.clippredpkl ## 3A. Kmeans \u5c42\u6b21\u805a\u7c7b # \u51c6\u5907\u5de5\u4f5c\u3002\u9996\u5148\u5148\u7ed9\u6bcf\u4e2acluster\u53d6\u540d\u5b57. \u6253\u5f00\u8be5\u811a\u672c\uff0c\u628a \u7c7b\u522b\u540d\u79f0 \u8d34\u5728\u811a\u672c\u4e2d\uff1b\u8fd0\u884c\u3002\u6700\u7ec8\uff0c\u7c7b\u522b\u540d\u79f0\u5c31\u6dfb\u52a0\u5230\u6765 *.clippredpkl\u3002 # python -m lilab.openlabcluster_postprocess.s3a_cluster_givename_mergefile *.clippredpkl ## 3B. \u6216\u8005\u6682\u65f6\u4e0d\u6807\u51c6\u7c7b\u547d python -m lilab.openlabcluster_postprocess.s3a_cluster_givename_mergefile *.clippredpkl --auto-label ## 4. \u7136\u540e\u8fd0\u884c\u5c42\u6b21\u805a\u7c7b\u7684\u753b\u56fe python -m lilab.openlabcluster_postprocess.s3b_hiecluster_plot *.clippredpkl & python -m lilab.openlabcluster_postprocess.s3b_hiecluster_plot_pro *.clippredpkl & ## 5. Mirror \u6216 Mutual \u7c7b\u522b\u7684\u754c\u5b9a python -m lilab.openlabcluster_postprocess.s3c_mirror_mutual_matrix_plot *.clippredpkl ## 6.\u53ef\u4ee5\u5408\u5e76\u6807\u7b7e\u3002\u6bd4\u5982\u4e3b\u88ab\u52a8\uff0c\u6bd4\u5982\u6811\u72b6\u56fe\u76f8\u90bb\u7684\u7c7b\u3002[\u53ef\u9009\uff0c\u4e0d\u5efa\u8bae] # \u51c6\u5907\u5de5\u4f5c\u3002\u6253\u5f00\u8be5\u811a\u672c\uff0c\u628a\u53ef\u4ee5\u5408\u5e76\u7684\u7c7b\u522b \u5199\u5728\u811a\u672c\u4e2d\uff1b\u8fd0\u884c\u3002\u6700\u7ec8\uff0c\u7c7b\u522b\u540d\u79f0\u7684\u5408\u5e76\u5c31\u6dfb\u52a0\u5230\u6765 *.clippredpkl\u3002 # python -m lilab.openlabcluster_postprocess.s3a2_cluster_nodemerge *.clippredpkl ## 7. \u53ef\u9009\u7ed8\u56fe\u3002Moseq-like Motif \u7684\u7ed8\u5236 # \u9700\u8981\u627e\u5230\u539f\u59cb\u7684\u5173\u952e\u70b9\u5750\u6807\u6587\u4ef6\uff08\u90fd\u5b58\u653e\u5728SmoothFootPkl_DIR\u6587\u4ef6\u5939\uff09\uff0c\u624d\u80fd\u7ed8\u5236\u3002\u8fd0\u884c\u4e0b\u9762\u4ee3\u7801\u3002\u5728\u540c\u7ea7\u76ee\u5f55\u4e0b\uff0c\u4f1a\u751f\u6210 motifshowmulti \u7684\u7ed3\u679c\u6587\u4ef6\u5939\u3002 SmoothFootPkl_DIR = /A/B/C python -m lilab.openlabcluster_postprocess.s4_moseq_like_motif_plot *.clippredpkl $SmoothFootPkl_DIR \u5229\u7528\u4e3b\u88ab\u52a8\u4e00\u81f4\u6027\uff0c\u91c7\u7528 Active-Learning \u4f18\u5316\u805a\u7c7b conda activate mmdet # \u66f4\u6362\u76ee\u5f55\u5230 kmeans \u805a\u7c7b\u7ed3\u679c\u8def\u5f84 cd /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/chenxf/00_BehaviorAnalysis-seq2seq/SexAge/Day55_Mix_analysis/SexAgeDay55andzzcWTinAUT_MMFF/result32/ #1. \u91cd\u65b0\u8ba1\u7b97\u955c\u50cf\uff0c\u5e76\u5bfc\u51fa\u955c\u50cf\u7c7b\u522b\u77e9\u9635\u70ed\u56fe & \u955c\u50cf\u8868 python -m lilab.OpenLabCluster_train.a0_mirror_mutual_matrix_plot *.clippredpkl #2. \u7b5b\u9009 representitives \u7247\u6bb5\uff0c\u6210\u4e3a\u65b0\u7684 clippredpkl python -m lilab.OpenLabCluster_train.a1_mirror_mutual_filt_clippredpkl *.clippredpkl cd ./representitive_*_filt_perc* #3. \u4e4b\u524d\u65e0\u76d1\u7763\u7684\u5e38\u89c4\u5206\u6790\u6d41\u7a0b -- \u753b\u56fe\u68c0\u67e5\u4e00\u904d #3-1. Embedding \u7684 UMAP \u4e0e Kmeans \u8fb9\u754c python -m lilab.openlabcluster_postprocess.s2_decisionBoundary_masaik_plot *.clippredpkl #3-2. \u7136\u540e\u8fd0\u884c\u5c42\u6b21\u805a\u7c7b\u7684\u753b\u56fe python -m lilab.openlabcluster_postprocess.s3b_hiecluster_plot_pro *.clippredpkl #3-3. Mirror \u6216 Mutual \u7c7b\u522b\u7684\u754c\u5b9a python -m lilab.openlabcluster_postprocess.s3c_mirror_mutual_matrix_plot *.clippredpkl #B1. \u521b\u5efa openlabcluster semi_seq2seq \u9879\u76ee\uff0c\u4eceseq2seq\u91cc\u9762\u62f7\u8d1d\u51fa\u6765 conda activate OpenLabCluster PROJECT_SEQ2SEQ = /DATA/taoxianming/rat/data/Mix_analysis/SexAgeDay55andzzcWTinAUT_MMFF/result32_k36/feats32-2024-04-11 PROJECT_REPR = /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/chenxf/00_BehaviorAnalysis-seq2seq/SexAge/Day55_Mix_analysis/SexAgeDay55andzzcWTinAUT_MMFF/result32_k36 PROJECT_SEMISEQ2SEQ = ` python -m lilab.OpenLabCluster_train.a2_semiseqseq_data_prepare $PROJECT_REPR $PROJECT_SEQ2SEQ ` cd $PROJECT_SEMISEQ2SEQ #B2. \u521d\u59cb\u5316 seq2seq python -m lilab.OpenLabCluster_train.a3_semiseqseq_init_train_seqseq $PROJECT_SEMISEQ2SEQ --epoch 3 #\u7b2c\u4e00\u6b21\u8fed\u4ee3\uff0c\u4eceseq2seq \u5230semiseq2seq # PROJECT_SEMISEQ2SEQ=/DATA/taoxianming/rat/data/Mix_analysis/SexAgeDay55andzzcWTinAUT_MMFF/result32/semiseq2seq_iter0 # PROJECT_REPR=/mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/chenxf/00_BehaviorAnalysis-seq2seq/SexAge/Day55_Mix_analysis/SexAgeDay55andzzcWTinAUT_MMFF/result32/representitive_*_filt_perc* PROJECT_SEMISEQ2SEQ = /DATA/taoxianming/rat/data/Mix_analysis/SexAgeDay55andzzcWTinAUT_MMFF/result32_k36/semiseq2seq_iter1 python -m lilab.OpenLabCluster_train.a5b_export_latent_repr $PROJECT_REPR $PROJECT_SEMISEQ2SEQ --modeltype SemiSeq2SeqLite #--modeltype SemiSeq2SeqLite \u9ed8\u8ba4\u4e0d\u9009 # \u4f7f\u7528 SemiSeq2Seq \u6a21\u578b\u8bad\u7ec3\u6807\u7b7e\u8bc6\u522b python -m lilab.OpenLabCluster_train.a4_semiseqseq_train $PROJECT_SEMISEQ2SEQ --epoch 5 --iter-now 0 --modeltype SemiSeq2SeqLite # \u6839\u636e SemiSeq2Seq \u6a21\u578b\u9884\u6d4b\u6240\u6709\u7247\u6bb5\u7684\u6807\u7b7e python -m lilab.OpenLabCluster_train.a5_export_latent_iter_repr $PROJECT_REPR $PROJECT_SEMISEQ2SEQ --epoch 5 --iter 0 --modeltype SemiSeq2SeqLite # \u4ece\u7247\u6bb5\u96c6\u4e2d\u7b5b\u9009\u51fa\u7684 representative \u6807\u7b7e\uff0c\u751f\u6210\u65b0\u7684\u6570\u636e\u96c6 python -m lilab.OpenLabCluster_train.a2a_clippredfile_refine $PROJECT_SEMISEQ2SEQ /output/semisupervise-decSeq-iter0-epoch5/*.clippredpkl $PROJECT_REPR /*.clippredpkl python -m lilab.OpenLabCluster_train.a2b_iter_data_prepare $PROJECT_REPR $PROJECT_SEMISEQ2SEQ --epoch 5 --iter-from 0 #create new data for iter1 #\u5f00\u59cbiter python -m lilab.OpenLabCluster_train.a4_semiseqseq_train $PROJECT_SEMISEQ2SEQ --epoch 5 --iter-now 1 --modeltype SemiSeq2SeqLite python -m lilab.OpenLabCluster_train.a5_export_latent_iter_repr $PROJECT_REPR $PROJECT_SEMISEQ2SEQ --epoch 5 --iter 1 --modeltype SemiSeq2SeqLite python -m lilab.OpenLabCluster_train.a2a_clippredfile_refine $PROJECT_SEMISEQ2SEQ /output/semisupervise-decSeq-iter1-epoch5/*.clippredpkl $PROJECT_SEMISEQ2SEQ /output/semisupervise-decSeq-iter0-epoch5/*.clippredpkl python -m lilab.OpenLabCluster_train.a2b_iter_data_prepare $PROJECT_REPR $PROJECT_SEMISEQ2SEQ --epoch 5 --iter-from 1 #create new data for iter2 python -m lilab.OpenLabCluster_train.a4_semiseqseq_train $PROJECT_SEMISEQ2SEQ --epoch 5 --iter-now 2 --modeltype SemiSeq2SeqLite python -m lilab.OpenLabCluster_train.a5_export_latent_iter_repr $PROJECT_REPR $PROJECT_SEMISEQ2SEQ --epoch 5 --iter 2 --modeltype SemiSeq2SeqLite python -m lilab.OpenLabCluster_train.a2a_clippredfile_refine $PROJECT_SEMISEQ2SEQ /output/semisupervise-decSeq-iter2-epoch5/*.clippredpkl $PROJECT_SEMISEQ2SEQ /output/semisupervise-decSeq-iter1-epoch5/*.clippredpkl python -m lilab.OpenLabCluster_train.a2b_iter_data_prepare $PROJECT_REPR $PROJECT_SEMISEQ2SEQ --epoch 5 --iter-from 2 #create new data for iter3 python -m lilab.OpenLabCluster_train.a4_semiseqseq_train $PROJECT_SEMISEQ2SEQ --epoch 5 --iter-now 3 --modeltype SemiSeq2SeqLite python -m lilab.OpenLabCluster_train.a5_export_latent_iter_repr $PROJECT_REPR $PROJECT_SEMISEQ2SEQ --epoch 5 --iter 3 --modeltype SemiSeq2SeqLite python -m lilab.OpenLabCluster_train.a2a_clippredfile_refine $PROJECT_SEMISEQ2SEQ /output/semisupervise-decSeq-iter3-epoch5/*.clippredpkl $PROJECT_SEMISEQ2SEQ /output/semisupervise-decSeq-iter2-epoch5/*.clippredpkl python -m lilab.OpenLabCluster_train.a2b_iter_data_prepare $PROJECT_REPR $PROJECT_SEMISEQ2SEQ --epoch 5 --iter-from 3 #create new data for iter3 # 4. \u8fed\u4ee3\u7ed3\u675f\uff0c\u753b\u56fe ITER = 3 EPOCH = 6 #\u753b400p conda activate mmdet DIR_400p = /DATA/taoxianming/rat/data/Mix_analysis/SexAgeDay55andzzcWTinAUT_MMFF/data python -m lilab.OpenLabCluster_train.a6b_clippredpkl_2_cluster400p $PROJECT_SEMISEQ2SEQ /output/semisupervise-decSeq-iter $ITER -epoch $EPOCH /*.clippredpkl $DIR_400p #clippredpkl \u8f6c seqencepkl python -m lilab.OpenLabCluster_train.a6_clippredpkl_2_seqencepkl $PROJECT_SEMISEQ2SEQ /output/semisupervise-decSeq-iter $ITER -epoch $EPOCH /*.clippredpkl #\u8ba1\u7b97 chi dbi \u805a\u7c7b\u5ea6\u91cf ls $PROJECT_SEMISEQ2SEQ /output/*/*.clippredpkl | xargs -n 1 -P 8 -I {} python -m lilab.OpenLabCluster_train.b1_chi_dbi {} --PCA 12 # \u53c2\u8003\u805a\u7c7b\u89c6\u9891\u548c\u4e3b\u88ab\u52a8\u4e00\u81f4\u6027\uff0c\u7ed9\u4e88\u91cd\u65b0\u547d\u4ee4\u3002\u6253\u5f00\u811a\u672c\uff0c\u4fee\u6539\u5176\u4e2d\u7c7b\u522b\u540d\u5b57 ls $PROJECT_SEMISEQ2SEQ /output/semi*/*.clippredpkl | xargs -n 1 -P 8 -I {} python -m lilab.OpenLabCluster_train.t1_cluster_name_rename {} ##\u9884\u6d4b\u6570\u636e\u96c6\uff0c\u751f\u6210\u5230 Data.H5 \u6587\u4ef6\u5373\u53ef ##\u9700\u8981\u66f4\u6539config.yaml\u6587\u4ef6\u4e2d feature_length: 32\uff08feature\u4e2a\u6570\uff09,cla_dim: - 36 num_class: - 36(\u8bad\u7ec3\u96c6\u6700\u7ec8cluster\u6570) conda activate OpenLabCluster ITER = 3 EPOCH = 5 PROJECT_SEQ2SEQ = /DATA/taoxianming/rat/data/Mix_analysis/SexAgeDay55andzzcWTinAUT_MMFF/result32_k36/semiseq2seq_iter1 PROJECT_REPR = /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/chenxf/00_BehaviorAnalysis-seq2seq/SexAge/Day55_Mix_analysis/SexAgeDay55andzzcWTinAUT_MMFF/result32/representitive_k36_filt_perc65 CLIPPREDPKL = $PROJECT_SEQ2SEQ /output/semisupervise-decSeq-iter $ITER -epoch $EPOCH /*.clippredpkl python -m lilab.OpenLabCluster_train.a5_export_latent_iter_repr $PROJECT_REPR $PROJECT_SEQ2SEQ --epoch 3 --iter 3 python -m lilab.OpenLabCluster_train.a6_clippredpkl_2_seqencepkl $CLIPPREDPKL # python -m lilab.OpenLabCluster_train.t1_cluster_name_rename $CLIPPREDPKL #3. \u4e4b\u524d\u65e0\u76d1\u7763\u7684\u5e38\u89c4\u5206\u6790\u6d41\u7a0b -- \u753b\u56fe\u68c0\u67e5\u4e00\u904d python -m lilab.openlabcluster_postprocess.s2_decisionBoundary_masaik_plot $CLIPPREDPKL python -m lilab.openlabcluster_postprocess.s3b_hiecluster_plot_pro $CLIPPREDPKL python -m lilab.openlabcluster_postprocess.s3c_mirror_mutual_matrix_plot $CLIPPREDPKL #\u5408\u5e76\u4e3b\u88ab\u52a8\uff0c\u518d\u805a\u7c7b [\u53ef\u9009] python -m lilab.OpenLabCluster_train.t2_halfmirror_hierachy $CLIPPREDPKL","title":"\u805a\u7c7b\u548c\u6a21\u677f\u5236\u4f5c"},{"location":"%E7%A4%BE%E4%BA%A4%E5%BA%8F%E5%88%97%E6%A0%87%E7%AD%BE/dataset/#_1","text":"","title":"\u4ece\u96f6\u5236\u4f5c\u793e\u4ea4\u805a\u7c7b\u7684\u6a21\u677f"},{"location":"%E7%A4%BE%E4%BA%A4%E5%BA%8F%E5%88%97%E6%A0%87%E7%AD%BE/dataset/#_2","text":"\u5728\u8fdb\u884c\u201c\u793e\u4ea4\u4e09\u7ef4\u59ff\u6001\u91cd\u6784\u201d\u4e4b\u540e\uff0c\u5e94\u8be5\u4f1a\u6709 \u201c smoothed_foot.matcalibpkl\u201d \u5173\u952e\u70b9\u6587\u4ef6\u548c\u201c _sktdraw_smoothed_foot.mp4\u201d \u89c6\u9891\u6587\u4ef6\u3002 \u5c06\u6240\u6709\u8fd9\u4e24\u7c7b\u89c6\u9891\u548c\u6570\u636e\u6587\u4ef6\u62f7\u8d1d\u5230\u4e00\u4e2a\u6587\u4ef6\u5939\u4e2d\u3002\u6267\u884c\u4e0b\u9762\u547d\u4ee4\uff0c\u5c06\u9010\u6b21 \u8ba1\u7b97\u793e\u4ea4\u7279\u5f81 - \u5bcc\u96c6\u8fd1\u8ddd\u79bb\u793e\u4ea4\u5e76\u62c6\u5206\u7247\u6bb5 - Seq2Seq\u6a21\u578b\u62bd\u63d0\u793e\u4ea4\u7684\u65f6\u7a7a\u7279\u5f81 - \u793e\u4ea4Cluster - \u7ed8\u5236\u89c6\u9891 \u3002 \u8bf7\u5c06\u8be5\u4ee3\u7801\u9010\u884c\u8fd0\u884c\u3002 #!/bin/bash conda activate OpenLabCluster # \u4ee3\u7801\u5b58\u653e\u7684\u8def\u5f84 \uff08by\u9676\u73b0\u660e\uff09 cd /DATA/taoxianming/rat/script/openlabcluster/pc_feats41_DecSeqCluster_better_20231102 pathFeats = /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/chenxf/Shank3HETxWT_202309/MM_FF # ResPath \u4e0d\u8981\u7528\u4e91\u76d8\uff0c\u6587\u4ef6\u592a\u7410\u788e\uff0c\u4f7f\u7528\u4e91\u76d8\u6162 bhvResPath = ~/DATA/Shank3HETxWT_202309_MM_FF_openlabcluster today = 2023 -11-09 ##always date format mkdir -p $bhvResPath ## create 400p bash /home/liying_lab/chenxinfeng/ml-project/LILAB-py/lilab/openlabcluster_postprocess/create_400p.sh $pathFeats ## Calculate raw features python 01_1_feats41fromPoints-IDswitch_mp.py $pathFeats ## minmax and get close segments python 01_2_featsMM_clipsInCloseSegs_mp.py $pathFeats python 02_1_prepare_featureFiles_forOpenLabCluster.py $pathFeats $bhvResPath ## split train:test=9:1 python 02_2_makeProject_trainTest.py $bhvResPath $today ## training Seq2Seq gpuID = 0 python 02_3_seq2seq_training-decSeq.py $bhvResPath $gpuID $today ## behavior clustering python 03_1_decSeqFeats_PCA-balanceCluster.py $bhvResPath $today ## Dec features in space, colored by cluster NO python 03_2_plot_decSeqFeatsPCS-trajectoryColorByLabels.py $bhvResPath $today ## plot mp4 videos of each behavior cluster python 04_1_plot_decSeqCluster-Videos.py $pathFeats $bhvResPath $today ## get behavior cluster sequence of each video python 04_2_getBhvClusterSeqs_eachVideo.py $pathFeats $bhvResPath $today \u5f97\u5230 *_sequences.pkl \u548c *_bio_labels.npz \u4e24\u4e2a\u884c\u4e3a\u89c6\u9891\u6807\u7b7e\u6587\u4ef6; FWPCA*_blackFirst/svm_clu*_400p.mp4 \u6bcf\u7c7b\u884c\u4e3a\u5bf9\u5e94\u7684\u89c6\u9891\u6587\u4ef6\u3002","title":"\u4ece\u5173\u952e\u70b9\u6587\u4ef6+\u89c6\u9891\u5230\u793e\u4ea4\u7279\u5f81\u548c\u884c\u4e3a\u6807\u7b7e"},{"location":"%E7%A4%BE%E4%BA%A4%E5%BA%8F%E5%88%97%E6%A0%87%E7%AD%BE/dataset/#_3","text":"\u8bf7\u5c06\u8be5\u4ee3\u7801\u9010\u884c\u8fd0\u884c\u3002 #!/bin/bash conda activate mmdet cd /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/chenxf/00_BehaviorAnalysis-seq2seq/SexAge/Day55_Mix_analysis/SexAgeDay55andzzcWTinAUT_MMFF/result32/ ## 1. \u5408\u5e76\u6587\u4ef6\uff0c\u751f\u6210 clippredpkl \u6587\u4ef6 python -m lilab.openlabcluster_postprocess.s1_merge_3_file . ## 2. Embedding \u7684 UMAP \u4e0e Kmeans \u8fb9\u754c python -m lilab.openlabcluster_postprocess.s2_decisionBoundary_masaik_plot *.clippredpkl ## 3A. Kmeans \u5c42\u6b21\u805a\u7c7b # \u51c6\u5907\u5de5\u4f5c\u3002\u9996\u5148\u5148\u7ed9\u6bcf\u4e2acluster\u53d6\u540d\u5b57. \u6253\u5f00\u8be5\u811a\u672c\uff0c\u628a \u7c7b\u522b\u540d\u79f0 \u8d34\u5728\u811a\u672c\u4e2d\uff1b\u8fd0\u884c\u3002\u6700\u7ec8\uff0c\u7c7b\u522b\u540d\u79f0\u5c31\u6dfb\u52a0\u5230\u6765 *.clippredpkl\u3002 # python -m lilab.openlabcluster_postprocess.s3a_cluster_givename_mergefile *.clippredpkl ## 3B. \u6216\u8005\u6682\u65f6\u4e0d\u6807\u51c6\u7c7b\u547d python -m lilab.openlabcluster_postprocess.s3a_cluster_givename_mergefile *.clippredpkl --auto-label ## 4. \u7136\u540e\u8fd0\u884c\u5c42\u6b21\u805a\u7c7b\u7684\u753b\u56fe python -m lilab.openlabcluster_postprocess.s3b_hiecluster_plot *.clippredpkl & python -m lilab.openlabcluster_postprocess.s3b_hiecluster_plot_pro *.clippredpkl & ## 5. Mirror \u6216 Mutual \u7c7b\u522b\u7684\u754c\u5b9a python -m lilab.openlabcluster_postprocess.s3c_mirror_mutual_matrix_plot *.clippredpkl ## 6.\u53ef\u4ee5\u5408\u5e76\u6807\u7b7e\u3002\u6bd4\u5982\u4e3b\u88ab\u52a8\uff0c\u6bd4\u5982\u6811\u72b6\u56fe\u76f8\u90bb\u7684\u7c7b\u3002[\u53ef\u9009\uff0c\u4e0d\u5efa\u8bae] # \u51c6\u5907\u5de5\u4f5c\u3002\u6253\u5f00\u8be5\u811a\u672c\uff0c\u628a\u53ef\u4ee5\u5408\u5e76\u7684\u7c7b\u522b \u5199\u5728\u811a\u672c\u4e2d\uff1b\u8fd0\u884c\u3002\u6700\u7ec8\uff0c\u7c7b\u522b\u540d\u79f0\u7684\u5408\u5e76\u5c31\u6dfb\u52a0\u5230\u6765 *.clippredpkl\u3002 # python -m lilab.openlabcluster_postprocess.s3a2_cluster_nodemerge *.clippredpkl ## 7. \u53ef\u9009\u7ed8\u56fe\u3002Moseq-like Motif \u7684\u7ed8\u5236 # \u9700\u8981\u627e\u5230\u539f\u59cb\u7684\u5173\u952e\u70b9\u5750\u6807\u6587\u4ef6\uff08\u90fd\u5b58\u653e\u5728SmoothFootPkl_DIR\u6587\u4ef6\u5939\uff09\uff0c\u624d\u80fd\u7ed8\u5236\u3002\u8fd0\u884c\u4e0b\u9762\u4ee3\u7801\u3002\u5728\u540c\u7ea7\u76ee\u5f55\u4e0b\uff0c\u4f1a\u751f\u6210 motifshowmulti \u7684\u7ed3\u679c\u6587\u4ef6\u5939\u3002 SmoothFootPkl_DIR = /A/B/C python -m lilab.openlabcluster_postprocess.s4_moseq_like_motif_plot *.clippredpkl $SmoothFootPkl_DIR","title":"\u7ed8\u56fe &amp; \u8ba1\u7b97\u4e3b\u88ab\u52a8\u4e00\u81f4\u6027"},{"location":"%E7%A4%BE%E4%BA%A4%E5%BA%8F%E5%88%97%E6%A0%87%E7%AD%BE/dataset/#active-learning","text":"conda activate mmdet # \u66f4\u6362\u76ee\u5f55\u5230 kmeans \u805a\u7c7b\u7ed3\u679c\u8def\u5f84 cd /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/chenxf/00_BehaviorAnalysis-seq2seq/SexAge/Day55_Mix_analysis/SexAgeDay55andzzcWTinAUT_MMFF/result32/ #1. \u91cd\u65b0\u8ba1\u7b97\u955c\u50cf\uff0c\u5e76\u5bfc\u51fa\u955c\u50cf\u7c7b\u522b\u77e9\u9635\u70ed\u56fe & \u955c\u50cf\u8868 python -m lilab.OpenLabCluster_train.a0_mirror_mutual_matrix_plot *.clippredpkl #2. \u7b5b\u9009 representitives \u7247\u6bb5\uff0c\u6210\u4e3a\u65b0\u7684 clippredpkl python -m lilab.OpenLabCluster_train.a1_mirror_mutual_filt_clippredpkl *.clippredpkl cd ./representitive_*_filt_perc* #3. \u4e4b\u524d\u65e0\u76d1\u7763\u7684\u5e38\u89c4\u5206\u6790\u6d41\u7a0b -- \u753b\u56fe\u68c0\u67e5\u4e00\u904d #3-1. Embedding \u7684 UMAP \u4e0e Kmeans \u8fb9\u754c python -m lilab.openlabcluster_postprocess.s2_decisionBoundary_masaik_plot *.clippredpkl #3-2. \u7136\u540e\u8fd0\u884c\u5c42\u6b21\u805a\u7c7b\u7684\u753b\u56fe python -m lilab.openlabcluster_postprocess.s3b_hiecluster_plot_pro *.clippredpkl #3-3. Mirror \u6216 Mutual \u7c7b\u522b\u7684\u754c\u5b9a python -m lilab.openlabcluster_postprocess.s3c_mirror_mutual_matrix_plot *.clippredpkl #B1. \u521b\u5efa openlabcluster semi_seq2seq \u9879\u76ee\uff0c\u4eceseq2seq\u91cc\u9762\u62f7\u8d1d\u51fa\u6765 conda activate OpenLabCluster PROJECT_SEQ2SEQ = /DATA/taoxianming/rat/data/Mix_analysis/SexAgeDay55andzzcWTinAUT_MMFF/result32_k36/feats32-2024-04-11 PROJECT_REPR = /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/chenxf/00_BehaviorAnalysis-seq2seq/SexAge/Day55_Mix_analysis/SexAgeDay55andzzcWTinAUT_MMFF/result32_k36 PROJECT_SEMISEQ2SEQ = ` python -m lilab.OpenLabCluster_train.a2_semiseqseq_data_prepare $PROJECT_REPR $PROJECT_SEQ2SEQ ` cd $PROJECT_SEMISEQ2SEQ #B2. \u521d\u59cb\u5316 seq2seq python -m lilab.OpenLabCluster_train.a3_semiseqseq_init_train_seqseq $PROJECT_SEMISEQ2SEQ --epoch 3 #\u7b2c\u4e00\u6b21\u8fed\u4ee3\uff0c\u4eceseq2seq \u5230semiseq2seq # PROJECT_SEMISEQ2SEQ=/DATA/taoxianming/rat/data/Mix_analysis/SexAgeDay55andzzcWTinAUT_MMFF/result32/semiseq2seq_iter0 # PROJECT_REPR=/mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/chenxf/00_BehaviorAnalysis-seq2seq/SexAge/Day55_Mix_analysis/SexAgeDay55andzzcWTinAUT_MMFF/result32/representitive_*_filt_perc* PROJECT_SEMISEQ2SEQ = /DATA/taoxianming/rat/data/Mix_analysis/SexAgeDay55andzzcWTinAUT_MMFF/result32_k36/semiseq2seq_iter1 python -m lilab.OpenLabCluster_train.a5b_export_latent_repr $PROJECT_REPR $PROJECT_SEMISEQ2SEQ --modeltype SemiSeq2SeqLite #--modeltype SemiSeq2SeqLite \u9ed8\u8ba4\u4e0d\u9009 # \u4f7f\u7528 SemiSeq2Seq \u6a21\u578b\u8bad\u7ec3\u6807\u7b7e\u8bc6\u522b python -m lilab.OpenLabCluster_train.a4_semiseqseq_train $PROJECT_SEMISEQ2SEQ --epoch 5 --iter-now 0 --modeltype SemiSeq2SeqLite # \u6839\u636e SemiSeq2Seq \u6a21\u578b\u9884\u6d4b\u6240\u6709\u7247\u6bb5\u7684\u6807\u7b7e python -m lilab.OpenLabCluster_train.a5_export_latent_iter_repr $PROJECT_REPR $PROJECT_SEMISEQ2SEQ --epoch 5 --iter 0 --modeltype SemiSeq2SeqLite # \u4ece\u7247\u6bb5\u96c6\u4e2d\u7b5b\u9009\u51fa\u7684 representative \u6807\u7b7e\uff0c\u751f\u6210\u65b0\u7684\u6570\u636e\u96c6 python -m lilab.OpenLabCluster_train.a2a_clippredfile_refine $PROJECT_SEMISEQ2SEQ /output/semisupervise-decSeq-iter0-epoch5/*.clippredpkl $PROJECT_REPR /*.clippredpkl python -m lilab.OpenLabCluster_train.a2b_iter_data_prepare $PROJECT_REPR $PROJECT_SEMISEQ2SEQ --epoch 5 --iter-from 0 #create new data for iter1 #\u5f00\u59cbiter python -m lilab.OpenLabCluster_train.a4_semiseqseq_train $PROJECT_SEMISEQ2SEQ --epoch 5 --iter-now 1 --modeltype SemiSeq2SeqLite python -m lilab.OpenLabCluster_train.a5_export_latent_iter_repr $PROJECT_REPR $PROJECT_SEMISEQ2SEQ --epoch 5 --iter 1 --modeltype SemiSeq2SeqLite python -m lilab.OpenLabCluster_train.a2a_clippredfile_refine $PROJECT_SEMISEQ2SEQ /output/semisupervise-decSeq-iter1-epoch5/*.clippredpkl $PROJECT_SEMISEQ2SEQ /output/semisupervise-decSeq-iter0-epoch5/*.clippredpkl python -m lilab.OpenLabCluster_train.a2b_iter_data_prepare $PROJECT_REPR $PROJECT_SEMISEQ2SEQ --epoch 5 --iter-from 1 #create new data for iter2 python -m lilab.OpenLabCluster_train.a4_semiseqseq_train $PROJECT_SEMISEQ2SEQ --epoch 5 --iter-now 2 --modeltype SemiSeq2SeqLite python -m lilab.OpenLabCluster_train.a5_export_latent_iter_repr $PROJECT_REPR $PROJECT_SEMISEQ2SEQ --epoch 5 --iter 2 --modeltype SemiSeq2SeqLite python -m lilab.OpenLabCluster_train.a2a_clippredfile_refine $PROJECT_SEMISEQ2SEQ /output/semisupervise-decSeq-iter2-epoch5/*.clippredpkl $PROJECT_SEMISEQ2SEQ /output/semisupervise-decSeq-iter1-epoch5/*.clippredpkl python -m lilab.OpenLabCluster_train.a2b_iter_data_prepare $PROJECT_REPR $PROJECT_SEMISEQ2SEQ --epoch 5 --iter-from 2 #create new data for iter3 python -m lilab.OpenLabCluster_train.a4_semiseqseq_train $PROJECT_SEMISEQ2SEQ --epoch 5 --iter-now 3 --modeltype SemiSeq2SeqLite python -m lilab.OpenLabCluster_train.a5_export_latent_iter_repr $PROJECT_REPR $PROJECT_SEMISEQ2SEQ --epoch 5 --iter 3 --modeltype SemiSeq2SeqLite python -m lilab.OpenLabCluster_train.a2a_clippredfile_refine $PROJECT_SEMISEQ2SEQ /output/semisupervise-decSeq-iter3-epoch5/*.clippredpkl $PROJECT_SEMISEQ2SEQ /output/semisupervise-decSeq-iter2-epoch5/*.clippredpkl python -m lilab.OpenLabCluster_train.a2b_iter_data_prepare $PROJECT_REPR $PROJECT_SEMISEQ2SEQ --epoch 5 --iter-from 3 #create new data for iter3 # 4. \u8fed\u4ee3\u7ed3\u675f\uff0c\u753b\u56fe ITER = 3 EPOCH = 6 #\u753b400p conda activate mmdet DIR_400p = /DATA/taoxianming/rat/data/Mix_analysis/SexAgeDay55andzzcWTinAUT_MMFF/data python -m lilab.OpenLabCluster_train.a6b_clippredpkl_2_cluster400p $PROJECT_SEMISEQ2SEQ /output/semisupervise-decSeq-iter $ITER -epoch $EPOCH /*.clippredpkl $DIR_400p #clippredpkl \u8f6c seqencepkl python -m lilab.OpenLabCluster_train.a6_clippredpkl_2_seqencepkl $PROJECT_SEMISEQ2SEQ /output/semisupervise-decSeq-iter $ITER -epoch $EPOCH /*.clippredpkl #\u8ba1\u7b97 chi dbi \u805a\u7c7b\u5ea6\u91cf ls $PROJECT_SEMISEQ2SEQ /output/*/*.clippredpkl | xargs -n 1 -P 8 -I {} python -m lilab.OpenLabCluster_train.b1_chi_dbi {} --PCA 12 # \u53c2\u8003\u805a\u7c7b\u89c6\u9891\u548c\u4e3b\u88ab\u52a8\u4e00\u81f4\u6027\uff0c\u7ed9\u4e88\u91cd\u65b0\u547d\u4ee4\u3002\u6253\u5f00\u811a\u672c\uff0c\u4fee\u6539\u5176\u4e2d\u7c7b\u522b\u540d\u5b57 ls $PROJECT_SEMISEQ2SEQ /output/semi*/*.clippredpkl | xargs -n 1 -P 8 -I {} python -m lilab.OpenLabCluster_train.t1_cluster_name_rename {} ##\u9884\u6d4b\u6570\u636e\u96c6\uff0c\u751f\u6210\u5230 Data.H5 \u6587\u4ef6\u5373\u53ef ##\u9700\u8981\u66f4\u6539config.yaml\u6587\u4ef6\u4e2d feature_length: 32\uff08feature\u4e2a\u6570\uff09,cla_dim: - 36 num_class: - 36(\u8bad\u7ec3\u96c6\u6700\u7ec8cluster\u6570) conda activate OpenLabCluster ITER = 3 EPOCH = 5 PROJECT_SEQ2SEQ = /DATA/taoxianming/rat/data/Mix_analysis/SexAgeDay55andzzcWTinAUT_MMFF/result32_k36/semiseq2seq_iter1 PROJECT_REPR = /mnt/liying.cibr.ac.cn_Data_Temp/multiview_9/chenxf/00_BehaviorAnalysis-seq2seq/SexAge/Day55_Mix_analysis/SexAgeDay55andzzcWTinAUT_MMFF/result32/representitive_k36_filt_perc65 CLIPPREDPKL = $PROJECT_SEQ2SEQ /output/semisupervise-decSeq-iter $ITER -epoch $EPOCH /*.clippredpkl python -m lilab.OpenLabCluster_train.a5_export_latent_iter_repr $PROJECT_REPR $PROJECT_SEQ2SEQ --epoch 3 --iter 3 python -m lilab.OpenLabCluster_train.a6_clippredpkl_2_seqencepkl $CLIPPREDPKL # python -m lilab.OpenLabCluster_train.t1_cluster_name_rename $CLIPPREDPKL #3. \u4e4b\u524d\u65e0\u76d1\u7763\u7684\u5e38\u89c4\u5206\u6790\u6d41\u7a0b -- \u753b\u56fe\u68c0\u67e5\u4e00\u904d python -m lilab.openlabcluster_postprocess.s2_decisionBoundary_masaik_plot $CLIPPREDPKL python -m lilab.openlabcluster_postprocess.s3b_hiecluster_plot_pro $CLIPPREDPKL python -m lilab.openlabcluster_postprocess.s3c_mirror_mutual_matrix_plot $CLIPPREDPKL #\u5408\u5e76\u4e3b\u88ab\u52a8\uff0c\u518d\u805a\u7c7b [\u53ef\u9009] python -m lilab.OpenLabCluster_train.t2_halfmirror_hierachy $CLIPPREDPKL","title":"\u5229\u7528\u4e3b\u88ab\u52a8\u4e00\u81f4\u6027\uff0c\u91c7\u7528 Active-Learning \u4f18\u5316\u805a\u7c7b"},{"location":"%E7%A4%BE%E4%BA%A4%E5%BA%8F%E5%88%97%E6%A0%87%E7%AD%BE/postprocess/","text":"","title":"Postprocess"},{"location":"%E7%A4%BE%E4%BA%A4%E5%BA%8F%E5%88%97%E6%A0%87%E7%AD%BE/process/","text":"conda activate OpenLabCluster PROEJECT_DIR = /mnt/liying.cibr.ac.cn_Data_Temp_ZZC/2024-ChR2rat/2410shank3/400p # \u52a8\u7269\u5728\u6bcf\u4e2avideo\u91cc\u9762\u7b97\u4f53\u957f\uff0c\u7b97sniffzone # \u5f97\u5230 'bodylength.pkl', 'rawfeat.pkl' python -m lilab.lstm_bhv_bodylennorm_classify.s0_prepare_body_length $PROEJECT_DIR #--skip-frames 1800 python -m lilab.lstm_bhv_bodylennorm_classify.s01_matcalibpkl2rawfeatpkl $PROEJECT_DIR # \u6309\u901f\u5ea6 95% \u5206\u4f4d\u6570\u5f52\u4e00\u5316 # \u5f97\u5230 rawfeat_norm.pkl python -m lilab.lstm_bhv_bodylennorm_classify.s02_rawfeatpkl_to_norm $PROEJECT_DIR #--setspeed 0.05 #--skip-frames 1800 # \u4ece3D\u5173\u952e\u70b9\u51fa\u53d1\uff0c\u52a0\u4e0a\u4f53\u957f\u4fe1\u606f\uff0c\u7b97\u51fa\u884c\u4e3a\u5206\u7c7b # --use-normed \u4f7f\u7528\u901f\u5ea6\u5f52\u4e00\u5316\u540e\u7684\u7279\u5f81 # \u5f97\u5230 out_semiseq2seq_norm/lstm_offline.clippredpkl python -m lilab.lstm_bhv_bodylennorm_classify.s1_matcalibpkl2clippredpkl_semiseq2seq $PROEJECT_DIR --use-normed # \u5bc6\u96c6\u9884\u6d4b 10Hz, stride=3 # python -m lilab.lstm_bhv_bodylennorm_classify.s1_matcalibpkl2clippredpkl_semiseq2seq $PROEJECT_DIR --use-normed --stride 3 # \u53ea\u770b\u955c\u50cf\u4e00\u81f4\u6027\u7684\u89c6\u9891\u7247\u6bb5\uff0crepresentative # \u5f97\u5230 out_semiseq2seq_norm/representitive_k36_filt_perc*/*.clippredpkl \u548c .seqencepkl conda activate mmdet python -m lilab.OpenLabCluster_train.a6_clippredpkl_2_seqencepkl $PROEJECT_DIR /out_semiseq2seq_norm/*.clippredpkl python -m lilab.OpenLabCluster_train.a1_mirror_mutual_filt_clippredpkl $PROEJECT_DIR /out_semiseq2seq_norm/lstm_offline.clippredpkl --already-mirrored python -m lilab.OpenLabCluster_train.a6_clippredpkl_2_seqencepkl $PROEJECT_DIR /out_semiseq2seq_norm/representitive_k36_filt_perc*/*.clippredpkl --autoEnd # \u753b\u51fa\u6bcf\u4e2a\u7c7b\u522b\u7684\u89c6\u9891\u7247\u6bb5 [\u53ef\u9009] # python -m lilab.OpenLabCluster_train.a6b_clippredpkl_2_cluster400p \\ # $PROEJECT_DIR/out_semiseq2seq_norm/representitive_k36_filt_perc*/Representive_K36.clippredpkl \\ # $PROEJECT_DIR","title":"\u4ee3\u7801\u6d41\u7a0b"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/OBS_%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/","text":"OBS \u8f6f\u4ef6\u5b89\u88c5 \u89c6\u9891\u6559\u7a0b\uff1axxx \u7cfb\u7edf\u91c7\u7528 OBS Studio\uff08\u7248\u672c 29.0 \uff09\u8fdb\u884c\u89c6\u9891\u5f55\u5236\u3002OBS \u4ee5\u5176\u4f18\u79c0\u7684\u53ef\u914d\u7f6e\u6027\u3001\u7a33\u5b9a\u6027\u548c\u5f00\u6e90\u7279\u6027\u5728\u89c6\u9891\u76f4\u64ad\u548c\u5f55\u5236\u9886\u57df\u5e7f\u6cdb\u5e94\u7528\u3002\u8be5\u8f6f\u4ef6\u652f\u6301\u591a\u79cd\u6765\u6e90\u8f93\u5165\uff0c\u5305\u62ec\u56fe\u50cf\u3001\u6587\u672c\u3001\u6d4f\u89c8\u5668\u7a97\u53e3\u3001\u6444\u50cf\u5934\u548c\u9ea6\u514b\u98ce\u7b49\uff0c \u6709\u6548\u7b80\u5316\u4e86\u591a\u76f8\u673a\u540c\u6b65\u5f55\u5236\u7684\u590d\u6742\u6027 \u3002\u5176\u591a\u7ebf\u7a0b\u8d1f\u8f7d\u4f18\u5316\u548c GPU \u89c6\u9891\u7f16\u89e3\u7801\u5177\u6709 \u51fa\u8272\u7684\u6027\u80fd\u8868\u73b0 \u3002\u5728\u672c\u5e73\u53f0\u4e2d\uff0cOBS \u63d0\u4f9b\u4e86\u5b9e\u65f6\u9884\u89c8\u3001\u591a\u76f8\u673a\u5e03\u5c40\u3001\u5206\u8fa8\u7387\u8c03\u6574\u548c\u7f16\u7a0b\u63a5\u53e3\u7b49\u5168\u9762\u800c\u7075\u6d3b\u7684\u89c6\u9891\u5f55\u5236\u89e3\u51b3\u65b9\u6848\u3002OBS \u7684\u5177\u4f53\u914d\u7f6e\u8be6\u89c1\u4e0b\u8868\u3002 OBS \u7248\u672c29.0, \u4e0b\u8f7d\u5730\u5740\uff1a https://obsproject.com/download \u5bf9\u8c61 \u4e3b\u8981\u529f\u80fd \u53c2\u6570 \u6765\u6e90 > \u6dfb\u52a0 > \u89c6\u9891\u91c7\u96c6\u8bbe\u5907 \u6dfb\u52a0 9 \u4e2aK1S293\u76f8\u673a \u5355\u4e2a\u76f8\u673a\u5206\u8fa8\u7387\u4e0b\u62c9\u5217\u8868\u4e2d\uff0c\u9009\u62e9 1280\u00d7800\uff0c\u5e27\u7387\u4e3a\u6700\u9ad8 (\u5373120fps)\uff0c\u5e27\u7f16\u7801\u4e3aMJPEG \u8bbe\u7f6e> \u8f93\u51fa> \u5f55\u50cf \u5f55\u50cf\u6587\u4ef6\u683c\u5f0f \u7c7b\u578b\u4e3a\u6807\u51c6\uff1b \u6587\u4ef6\u540d\u4e3a\u65e0\u7a7a\u683c\uff1b \u8f93\u51fa\u5bb9\u5668\u4e3a MP4\uff1b \u7f16\u7801\u5668\u4e3a NVIDIA NVENC HEVC; \u7801\u7387\u4e3a30 Mbps\uff1b\u9884\u8bbe\u4e3a\u9ad8\u8d28\u91cf\u3002 \u8bbe\u7f6e> \u89c6\u9891 \u753b\u5e03\u5206\u8fa8\u7387\u548c\u5e27\u7387 \u753b\u5e03\u5206\u8fa8\u7387 3840\u00d72400\uff0c\u4e3a 9 \u4e2a\u76f8\u673a\u62fc\u63a5\u540e\u7684\u50cf\u7d20\u548c\uff1b\u4e0d\u7f29\u653e\uff1b\u5e27\u7387 30 fps\u3002 \u83dc\u5355 > \u5de5\u5177 > WebSocket \u670d\u52a1\u5668 \u5916\u90e8\u4ee3\u7801\u63a7\u5236 OBS \u5f55\u5236\u5f00\u5173 \u7aef\u53e3\u53f7 4455; \u4e0d\u4f7f\u7528\u5bc6\u7801\uff08\u53d6\u6d88\u6743\u9274\u6846\uff09\uff1b\u63a8\u8350\u914d\u5408F2 \u540c\u6b65\u52a9\u624b\u4f7f\u7528 \u5728 OBS \u8f6f\u4ef6\u7684\u5177\u4f53\u914d\u7f6e\u8fc7\u7a0b\u4e2d\uff0c\u9700\u91cd\u70b9\u5173\u6ce8\u4ee5\u4e0b\u6280\u672f\u7ec6\u8282\uff1a \u5728\u5c06\u591a\u76f8\u673a\u89c6\u9891\u6d41\u6dfb\u52a0\u81f3 OBS \u753b\u5e03\u65f6\uff0c\u5e94\u907f\u514d\u5bf9\u76f8\u673a\u89c6\u89d2\u8fdb\u884c\u62c9\u4f38\u6216\u88c1\u526a\uff0c\u4ee5\u9632\u6b62\u56fe\u50cf\u6570\u636e\u4e22\u5931\u5e76\u786e\u4fdd\u540e\u7eed\u591a\u76f8\u673a\u56fe\u50cf\u8bfb\u53d6\u7684\u51c6\u786e\u5b9a\u4f4d\u3002 \u591a\u76f8\u673a\u56fe\u50cf\u5728 OBS \u753b\u5e03\u4e2d\u5e94\u7d27\u5bc6\u6392\u5217\uff0c\u76f8\u673a\u7f16\u53f7\u9700\u9075\u5faa\u4ece\u5de6\u5230\u53f3\u3001\u4ece\u4e0a\u5230\u4e0b\u7684\u987a\u5e8f\u3002 \u6709\u4e9b\u76f8\u673a\u62cd\u6444\u7684\u56fe\u50cf\u4e0a\u4e0b\u98a0\u5012\uff0c\u9700\u5728 OBS \u8f6f\u4ef6\u4e0a\u8fdb\u884c 180\u00b0\u65cb\u8f6c\u4fee\u6b63\uff0c\u4f46\u4e0d\u8981\u4f7f\u7528\u955c\u50cf\u3002 \u5b8c\u6210\u4e0a\u8ff0\u914d\u7f6e\u540e\uff0c\u5373\u53ef\u901a\u8fc7 OBS \u754c\u9762\u542f\u52a8\u5f55\u5236\uff0c\u540c\u6b65\u8bb0\u5f55 9 \u4e2a\u76f8\u673a\u7684\u884c\u4e3a\u5b9e\u9a8c\u89c6\u9891\u3002\u901a\u5e38\uff0c15\u5206\u949f\u7684\u5b9e\u9a8c\u89c6\u9891\u7ea6\u4e3a3.4GB\u3002\u4f7f\u7528 Potplayer \u6216\u8005 VLC \u7b49\u64ad\u653e\u5668\uff0c\u53ef\u4ee5\u65b9\u4fbf\u5730\u67e5\u770b\u89c6\u9891\u3002","title":"OBS\u8f6f\u4ef6\u5b89\u88c5"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/OBS_%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/#obs","text":"\u89c6\u9891\u6559\u7a0b\uff1axxx \u7cfb\u7edf\u91c7\u7528 OBS Studio\uff08\u7248\u672c 29.0 \uff09\u8fdb\u884c\u89c6\u9891\u5f55\u5236\u3002OBS \u4ee5\u5176\u4f18\u79c0\u7684\u53ef\u914d\u7f6e\u6027\u3001\u7a33\u5b9a\u6027\u548c\u5f00\u6e90\u7279\u6027\u5728\u89c6\u9891\u76f4\u64ad\u548c\u5f55\u5236\u9886\u57df\u5e7f\u6cdb\u5e94\u7528\u3002\u8be5\u8f6f\u4ef6\u652f\u6301\u591a\u79cd\u6765\u6e90\u8f93\u5165\uff0c\u5305\u62ec\u56fe\u50cf\u3001\u6587\u672c\u3001\u6d4f\u89c8\u5668\u7a97\u53e3\u3001\u6444\u50cf\u5934\u548c\u9ea6\u514b\u98ce\u7b49\uff0c \u6709\u6548\u7b80\u5316\u4e86\u591a\u76f8\u673a\u540c\u6b65\u5f55\u5236\u7684\u590d\u6742\u6027 \u3002\u5176\u591a\u7ebf\u7a0b\u8d1f\u8f7d\u4f18\u5316\u548c GPU \u89c6\u9891\u7f16\u89e3\u7801\u5177\u6709 \u51fa\u8272\u7684\u6027\u80fd\u8868\u73b0 \u3002\u5728\u672c\u5e73\u53f0\u4e2d\uff0cOBS \u63d0\u4f9b\u4e86\u5b9e\u65f6\u9884\u89c8\u3001\u591a\u76f8\u673a\u5e03\u5c40\u3001\u5206\u8fa8\u7387\u8c03\u6574\u548c\u7f16\u7a0b\u63a5\u53e3\u7b49\u5168\u9762\u800c\u7075\u6d3b\u7684\u89c6\u9891\u5f55\u5236\u89e3\u51b3\u65b9\u6848\u3002OBS \u7684\u5177\u4f53\u914d\u7f6e\u8be6\u89c1\u4e0b\u8868\u3002 OBS \u7248\u672c29.0, \u4e0b\u8f7d\u5730\u5740\uff1a https://obsproject.com/download \u5bf9\u8c61 \u4e3b\u8981\u529f\u80fd \u53c2\u6570 \u6765\u6e90 > \u6dfb\u52a0 > \u89c6\u9891\u91c7\u96c6\u8bbe\u5907 \u6dfb\u52a0 9 \u4e2aK1S293\u76f8\u673a \u5355\u4e2a\u76f8\u673a\u5206\u8fa8\u7387\u4e0b\u62c9\u5217\u8868\u4e2d\uff0c\u9009\u62e9 1280\u00d7800\uff0c\u5e27\u7387\u4e3a\u6700\u9ad8 (\u5373120fps)\uff0c\u5e27\u7f16\u7801\u4e3aMJPEG \u8bbe\u7f6e> \u8f93\u51fa> \u5f55\u50cf \u5f55\u50cf\u6587\u4ef6\u683c\u5f0f \u7c7b\u578b\u4e3a\u6807\u51c6\uff1b \u6587\u4ef6\u540d\u4e3a\u65e0\u7a7a\u683c\uff1b \u8f93\u51fa\u5bb9\u5668\u4e3a MP4\uff1b \u7f16\u7801\u5668\u4e3a NVIDIA NVENC HEVC; \u7801\u7387\u4e3a30 Mbps\uff1b\u9884\u8bbe\u4e3a\u9ad8\u8d28\u91cf\u3002 \u8bbe\u7f6e> \u89c6\u9891 \u753b\u5e03\u5206\u8fa8\u7387\u548c\u5e27\u7387 \u753b\u5e03\u5206\u8fa8\u7387 3840\u00d72400\uff0c\u4e3a 9 \u4e2a\u76f8\u673a\u62fc\u63a5\u540e\u7684\u50cf\u7d20\u548c\uff1b\u4e0d\u7f29\u653e\uff1b\u5e27\u7387 30 fps\u3002 \u83dc\u5355 > \u5de5\u5177 > WebSocket \u670d\u52a1\u5668 \u5916\u90e8\u4ee3\u7801\u63a7\u5236 OBS \u5f55\u5236\u5f00\u5173 \u7aef\u53e3\u53f7 4455; \u4e0d\u4f7f\u7528\u5bc6\u7801\uff08\u53d6\u6d88\u6743\u9274\u6846\uff09\uff1b\u63a8\u8350\u914d\u5408F2 \u540c\u6b65\u52a9\u624b\u4f7f\u7528 \u5728 OBS \u8f6f\u4ef6\u7684\u5177\u4f53\u914d\u7f6e\u8fc7\u7a0b\u4e2d\uff0c\u9700\u91cd\u70b9\u5173\u6ce8\u4ee5\u4e0b\u6280\u672f\u7ec6\u8282\uff1a \u5728\u5c06\u591a\u76f8\u673a\u89c6\u9891\u6d41\u6dfb\u52a0\u81f3 OBS \u753b\u5e03\u65f6\uff0c\u5e94\u907f\u514d\u5bf9\u76f8\u673a\u89c6\u89d2\u8fdb\u884c\u62c9\u4f38\u6216\u88c1\u526a\uff0c\u4ee5\u9632\u6b62\u56fe\u50cf\u6570\u636e\u4e22\u5931\u5e76\u786e\u4fdd\u540e\u7eed\u591a\u76f8\u673a\u56fe\u50cf\u8bfb\u53d6\u7684\u51c6\u786e\u5b9a\u4f4d\u3002 \u591a\u76f8\u673a\u56fe\u50cf\u5728 OBS \u753b\u5e03\u4e2d\u5e94\u7d27\u5bc6\u6392\u5217\uff0c\u76f8\u673a\u7f16\u53f7\u9700\u9075\u5faa\u4ece\u5de6\u5230\u53f3\u3001\u4ece\u4e0a\u5230\u4e0b\u7684\u987a\u5e8f\u3002 \u6709\u4e9b\u76f8\u673a\u62cd\u6444\u7684\u56fe\u50cf\u4e0a\u4e0b\u98a0\u5012\uff0c\u9700\u5728 OBS \u8f6f\u4ef6\u4e0a\u8fdb\u884c 180\u00b0\u65cb\u8f6c\u4fee\u6b63\uff0c\u4f46\u4e0d\u8981\u4f7f\u7528\u955c\u50cf\u3002 \u5b8c\u6210\u4e0a\u8ff0\u914d\u7f6e\u540e\uff0c\u5373\u53ef\u901a\u8fc7 OBS \u754c\u9762\u542f\u52a8\u5f55\u5236\uff0c\u540c\u6b65\u8bb0\u5f55 9 \u4e2a\u76f8\u673a\u7684\u884c\u4e3a\u5b9e\u9a8c\u89c6\u9891\u3002\u901a\u5e38\uff0c15\u5206\u949f\u7684\u5b9e\u9a8c\u89c6\u9891\u7ea6\u4e3a3.4GB\u3002\u4f7f\u7528 Potplayer \u6216\u8005 VLC \u7b49\u64ad\u653e\u5668\uff0c\u53ef\u4ee5\u65b9\u4fbf\u5730\u67e5\u770b\u89c6\u9891\u3002","title":"OBS \u8f6f\u4ef6\u5b89\u88c5"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/shopping_list/","text":"\u8bbe\u5907\u7ec4\u88c5\u548c\u6e05\u5355 \u5305\u542b\u76f8\u673a\u5b9e\u9a8c\u7bb1\uff0c\u5b9e\u9a8c\u7535\u8111\uff0c\u5206\u6790\u670d\u52a1\u5668\u3002\u89c6\u9891\u6559\u7a0b\uff1axxx \u76f8\u673a\u5b9e\u9a8c\u7bb1 \u8868\u683c\u4e2d\u5217\u51fa\u4e86\u76f8\u673a\u5b9e\u9a8c\u7bb1\u4e2d\u4f7f\u7528\u7684\u6240\u6709\u76f8\u673a\u548c\u6750\u6599\u3002 \u540d\u79f0 \u53c2\u6570 \u6570\u91cf \u8d2d\u4e70\u94fe\u63a5 K1S293 \u76f8\u673a 1280x800\u5206\u8fa8\u7387\uff0c120fps\uff0c\u9ed1\u767d 9 \u6dd8\u5b9d\u8d2d\u4e70\u94fe\u63a5 \u94dd\u578b\u6750\u652f\u67b6 \u516d\u8fb9\u5f62\uff0c\u53cc\u5c42\u652f\u67b6 1 \u81ea\u884c\u52a0\u5de5- \u4e91\u53f0\u548c\u6ed1\u8f68 9\u4e2a 9 \u6dd8\u5b9d\u8d2d\u4e70\u94fe\u63a5 \u7ea2\u5149\u7167\u660eLED \u73af\u5883\u5149\u7167\u660e 6 \u6dd8\u5b9d\u8d2d\u4e70\u94fe\u63a5 \u6c27\u5316\u94dd\u6807\u5b9a\u677f \u68cb\u76d8\uff0c\u76f8\u673a\u6807\u5b9a\uff1b\u578b\u53f7GP290 12x9 1 \u6dd8\u5b9d\u8d2d\u4e70\u94fe\u63a5 \u91d1\u5c5e\u5c0f\u7403 \u7528\u4e8e\u76f8\u673a\u5916\u53c2\u6807\u5b9a\uff0c\u76f4\u5f84 <2 cm 1 \u968f\u4fbf\u627e \u4e9a\u514b\u529b\u906e\u5149\u677f \u7528\u4e8e\u906e\u6321\u80cc\u666f\u6742\u7269\uff0c\u9632\u6b62\u56fe\u50cf\u5e72\u6270\u3002\u5c3a\u5bf8\u6839\u636e\u5b9e\u9a8c\u9700\u6c42\u3002 7 \u6dd8\u5b9d\u8d2d\u4e70\u94fe\u63a5 \u6ce8\u610f\u4e8b\u9879\uff1a - \u76f8\u673a\u7684\u955c\u5934\u5408\u9002\u7126\u8ddd\u9700\u8981\u81ea\u5df1\u6d4b\u8bd5\uff0c\u76f8\u673a\u8fdc\u8fd1\u3001\u8bd5\u9a8c\u7bb1\u5927\u5c0f\u7b49\u56e0\u7d20\u4f1a\u5f71\u54cd\u7126\u8ddd\u9009\u62e9\u3002 - \u5efa\u8bae\u8ba9\u76f8\u673a\u5382\u5bb6\u7ed9\u6bcf\u4e2a\u76f8\u673a\u4e0d\u540c\u7684\u8f6f\u4ef6\u6807\u5fd7\u7b26\uff08\u4e0d\u540c\u547d\u540d\uff09\uff0c\u65b9\u4fbf\u533a\u5206\u3002 - \u6ed1\u8f68\u4e0d\u662f\u90a3\u4e48\u5fc5\u8981\uff0c\u56e0\u4e3a\u53ef\u4ee5\u7528\u7126\u8ddd\u6765\u8c03\u6574\u76f8\u673a\u62cd\u6444\u89c6\u91ce\u3002\u4f46\u662f\u4e91\u53f0\u662f\u5fc5\u8981\u7684\uff0c\u56e0\u4e3a\u9700\u8981\u8c03\u6574\u76f8\u673a\u7684\u89d2\u5ea6\u3002 - \u7ea2\u5149\u7167\u660eLED\u653e\u5728\u652f\u67b66\u4e2a\u89d2\u843d\u4e0a\uff0c\u5747\u5300\u7167\u660e\u3002\u5426\u5219\u5355\u4e00\u5149\u6e90\u5bb9\u6613\u5bfc\u81f4\u56fe\u50cf\u9634\u5f71\uff0c\u5bfc\u81f4\u540e\u7eed\u52a8\u7269\u5206\u6790\u7cbe\u5ea6\u4e0b\u964d\u3002\u706f\u5149\u5f3a\u5ea6\u8f83\u9ad8\uff0c\u9700\u8981\u7528\u906e\u6321\u4e00\u90e8\u5206\uff0c\u4f7f\u5f97\u6700\u540e\u7684\u5149\u7167\u572820lux\u5de6\u53f3\u3002 - \u76f8\u673a\u4e0d\u8981\u76f4\u8fde\u7535\u8111\u7684USB\u53e3\uff0c\u56e0\u4e3a\u4e3b\u677f\u7684USB\u5e26\u5bbd\u4e25\u91cd\u53d7\u9650\uff0c\u4e0d\u80fd\u540c\u65f6\u8fde\u591a\u76f8\u673a\u3002\u8bf7\u4f7f\u7528\u4e13\u4e1a\u7ea7PCIE-USB\u62d3\u5c55\u5361\uff08U3412U\uff09\uff01\uff01 \u5b9e\u9a8c\u7535\u8111\u786c\u4ef6\u914d\u7f6e \u7528\u4e8e\u91c7\u96c6\u591a\u76f8\u673a\u89c6\u9891\u6570\u636e\uff0c\u5e76\u4f7f\u7528OBS Studio\u8fdb\u884c\u89c6\u9891\u5f55\u5236\u3002 \u540d\u79f0 \u578b\u53f7 \u5907\u6ce8 \u64cd\u4f5c\u7cfb\u7edf Windows 10 - CPU Intel Core i7-12700 - GPU NVIDIA RTX 3060 OBS Studio\u8c03\u7528\u5176 HEVC \u89c6\u9891\u7f16\u7801\u5668 \u5185\u5b58 32GB DDR4 3200MHz - \u5b58\u50a8 SSD 1TB; HDD 8TB - PCIE-USB \u62d3\u5c55\u5361 \u6df1\u5733\u5e02\u901f\u901f\u4f18\u79d1\u6280 U3412U \uff0c 6\u53e3USB \u5f3a\u70c8\u63a8\u8350\uff0c\u6570\u91cfx2 \u4e91\u8ba1\u7b97\u5e73\u53f0\u786c\u4ef6\u914d\u7f6e \u7528\u4e8e\u8bad\u7ec3\u6a21\u578b\uff0c\u63a8\u7406\u6a21\u578b\uff1b\u6570\u636e\u5206\u6790\uff0c\u53ef\u89c6\u5316\uff1b\u95ed\u73af\u884c\u4e3a\u5e72\u9884\u7684\u4e91\u8ba1\u7b97\u5e73\u53f0\u3002 \u540d\u79f0 \u578b\u53f7 \u5907\u6ce8 \u5382\u5bb6 \u6d6a\u6f6e - \u64cd\u4f5c\u7cfb\u7edf Ubuntu 18.04 - CPU Intel Xeon 4314 dual \u53cc\u8defCPU GPU NVIDIA RTX 3090 \u6570\u91cfx4 \u5185\u5b58 256GB DDR4 3200MHz - \u5b58\u50a8 SSD 1TB; HDD 8TB - \uff08\u53ef\u9009\uff09\u4e91\u5b58\u50a8\u786c\u4ef6\uff08NAS\uff09\u914d\u7f6e \u7528\u4e8e\u5b58\u50a8\u5927\u91cf\u5b9e\u9a8c\u89c6\u9891\u6570\u636e\u548c\u5206\u6790\u7ed3\u679c\uff0c\u5e76\u652f\u6301\u591a\u7528\u6237\u540c\u65f6\u8bbf\u95ee\u3002 \u540d\u79f0 \u578b\u53f7 \u5907\u6ce8 \u7fa4\u8f891 DS2419+\uff0c 96 TB - \u7fa4\u8f892 RS2821RP+\uff0c 200 TB -","title":"\u786c\u4ef6\u6e05\u5355"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/shopping_list/#_1","text":"\u5305\u542b\u76f8\u673a\u5b9e\u9a8c\u7bb1\uff0c\u5b9e\u9a8c\u7535\u8111\uff0c\u5206\u6790\u670d\u52a1\u5668\u3002\u89c6\u9891\u6559\u7a0b\uff1axxx","title":"\u8bbe\u5907\u7ec4\u88c5\u548c\u6e05\u5355"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/shopping_list/#_2","text":"\u8868\u683c\u4e2d\u5217\u51fa\u4e86\u76f8\u673a\u5b9e\u9a8c\u7bb1\u4e2d\u4f7f\u7528\u7684\u6240\u6709\u76f8\u673a\u548c\u6750\u6599\u3002 \u540d\u79f0 \u53c2\u6570 \u6570\u91cf \u8d2d\u4e70\u94fe\u63a5 K1S293 \u76f8\u673a 1280x800\u5206\u8fa8\u7387\uff0c120fps\uff0c\u9ed1\u767d 9 \u6dd8\u5b9d\u8d2d\u4e70\u94fe\u63a5 \u94dd\u578b\u6750\u652f\u67b6 \u516d\u8fb9\u5f62\uff0c\u53cc\u5c42\u652f\u67b6 1 \u81ea\u884c\u52a0\u5de5- \u4e91\u53f0\u548c\u6ed1\u8f68 9\u4e2a 9 \u6dd8\u5b9d\u8d2d\u4e70\u94fe\u63a5 \u7ea2\u5149\u7167\u660eLED \u73af\u5883\u5149\u7167\u660e 6 \u6dd8\u5b9d\u8d2d\u4e70\u94fe\u63a5 \u6c27\u5316\u94dd\u6807\u5b9a\u677f \u68cb\u76d8\uff0c\u76f8\u673a\u6807\u5b9a\uff1b\u578b\u53f7GP290 12x9 1 \u6dd8\u5b9d\u8d2d\u4e70\u94fe\u63a5 \u91d1\u5c5e\u5c0f\u7403 \u7528\u4e8e\u76f8\u673a\u5916\u53c2\u6807\u5b9a\uff0c\u76f4\u5f84 <2 cm 1 \u968f\u4fbf\u627e \u4e9a\u514b\u529b\u906e\u5149\u677f \u7528\u4e8e\u906e\u6321\u80cc\u666f\u6742\u7269\uff0c\u9632\u6b62\u56fe\u50cf\u5e72\u6270\u3002\u5c3a\u5bf8\u6839\u636e\u5b9e\u9a8c\u9700\u6c42\u3002 7 \u6dd8\u5b9d\u8d2d\u4e70\u94fe\u63a5 \u6ce8\u610f\u4e8b\u9879\uff1a - \u76f8\u673a\u7684\u955c\u5934\u5408\u9002\u7126\u8ddd\u9700\u8981\u81ea\u5df1\u6d4b\u8bd5\uff0c\u76f8\u673a\u8fdc\u8fd1\u3001\u8bd5\u9a8c\u7bb1\u5927\u5c0f\u7b49\u56e0\u7d20\u4f1a\u5f71\u54cd\u7126\u8ddd\u9009\u62e9\u3002 - \u5efa\u8bae\u8ba9\u76f8\u673a\u5382\u5bb6\u7ed9\u6bcf\u4e2a\u76f8\u673a\u4e0d\u540c\u7684\u8f6f\u4ef6\u6807\u5fd7\u7b26\uff08\u4e0d\u540c\u547d\u540d\uff09\uff0c\u65b9\u4fbf\u533a\u5206\u3002 - \u6ed1\u8f68\u4e0d\u662f\u90a3\u4e48\u5fc5\u8981\uff0c\u56e0\u4e3a\u53ef\u4ee5\u7528\u7126\u8ddd\u6765\u8c03\u6574\u76f8\u673a\u62cd\u6444\u89c6\u91ce\u3002\u4f46\u662f\u4e91\u53f0\u662f\u5fc5\u8981\u7684\uff0c\u56e0\u4e3a\u9700\u8981\u8c03\u6574\u76f8\u673a\u7684\u89d2\u5ea6\u3002 - \u7ea2\u5149\u7167\u660eLED\u653e\u5728\u652f\u67b66\u4e2a\u89d2\u843d\u4e0a\uff0c\u5747\u5300\u7167\u660e\u3002\u5426\u5219\u5355\u4e00\u5149\u6e90\u5bb9\u6613\u5bfc\u81f4\u56fe\u50cf\u9634\u5f71\uff0c\u5bfc\u81f4\u540e\u7eed\u52a8\u7269\u5206\u6790\u7cbe\u5ea6\u4e0b\u964d\u3002\u706f\u5149\u5f3a\u5ea6\u8f83\u9ad8\uff0c\u9700\u8981\u7528\u906e\u6321\u4e00\u90e8\u5206\uff0c\u4f7f\u5f97\u6700\u540e\u7684\u5149\u7167\u572820lux\u5de6\u53f3\u3002 - \u76f8\u673a\u4e0d\u8981\u76f4\u8fde\u7535\u8111\u7684USB\u53e3\uff0c\u56e0\u4e3a\u4e3b\u677f\u7684USB\u5e26\u5bbd\u4e25\u91cd\u53d7\u9650\uff0c\u4e0d\u80fd\u540c\u65f6\u8fde\u591a\u76f8\u673a\u3002\u8bf7\u4f7f\u7528\u4e13\u4e1a\u7ea7PCIE-USB\u62d3\u5c55\u5361\uff08U3412U\uff09\uff01\uff01","title":"\u76f8\u673a\u5b9e\u9a8c\u7bb1"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/shopping_list/#_3","text":"\u7528\u4e8e\u91c7\u96c6\u591a\u76f8\u673a\u89c6\u9891\u6570\u636e\uff0c\u5e76\u4f7f\u7528OBS Studio\u8fdb\u884c\u89c6\u9891\u5f55\u5236\u3002 \u540d\u79f0 \u578b\u53f7 \u5907\u6ce8 \u64cd\u4f5c\u7cfb\u7edf Windows 10 - CPU Intel Core i7-12700 - GPU NVIDIA RTX 3060 OBS Studio\u8c03\u7528\u5176 HEVC \u89c6\u9891\u7f16\u7801\u5668 \u5185\u5b58 32GB DDR4 3200MHz - \u5b58\u50a8 SSD 1TB; HDD 8TB - PCIE-USB \u62d3\u5c55\u5361 \u6df1\u5733\u5e02\u901f\u901f\u4f18\u79d1\u6280 U3412U \uff0c 6\u53e3USB \u5f3a\u70c8\u63a8\u8350\uff0c\u6570\u91cfx2","title":"\u5b9e\u9a8c\u7535\u8111\u786c\u4ef6\u914d\u7f6e"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/shopping_list/#_4","text":"\u7528\u4e8e\u8bad\u7ec3\u6a21\u578b\uff0c\u63a8\u7406\u6a21\u578b\uff1b\u6570\u636e\u5206\u6790\uff0c\u53ef\u89c6\u5316\uff1b\u95ed\u73af\u884c\u4e3a\u5e72\u9884\u7684\u4e91\u8ba1\u7b97\u5e73\u53f0\u3002 \u540d\u79f0 \u578b\u53f7 \u5907\u6ce8 \u5382\u5bb6 \u6d6a\u6f6e - \u64cd\u4f5c\u7cfb\u7edf Ubuntu 18.04 - CPU Intel Xeon 4314 dual \u53cc\u8defCPU GPU NVIDIA RTX 3090 \u6570\u91cfx4 \u5185\u5b58 256GB DDR4 3200MHz - \u5b58\u50a8 SSD 1TB; HDD 8TB -","title":"\u4e91\u8ba1\u7b97\u5e73\u53f0\u786c\u4ef6\u914d\u7f6e"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/shopping_list/#nas","text":"\u7528\u4e8e\u5b58\u50a8\u5927\u91cf\u5b9e\u9a8c\u89c6\u9891\u6570\u636e\u548c\u5206\u6790\u7ed3\u679c\uff0c\u5e76\u652f\u6301\u591a\u7528\u6237\u540c\u65f6\u8bbf\u95ee\u3002 \u540d\u79f0 \u578b\u53f7 \u5907\u6ce8 \u7fa4\u8f891 DS2419+\uff0c 96 TB - \u7fa4\u8f892 RS2821RP+\uff0c 200 TB -","title":"\uff08\u53ef\u9009\uff09\u4e91\u5b58\u50a8\u786c\u4ef6\uff08NAS\uff09\u914d\u7f6e"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/","text":"\u670d\u52a1\u5668\u73af\u5883\u914d\u7f6e \u53ea\u6709\u914d\u7f6e\u597d\u670d\u52a1\u5668\u73af\u5883\uff0c\u624d\u80fd\u987a\u5229\u8fd0\u884c\u672c\u9879\u76ee\uff0c\u5305\u62ec\u6a21\u578b\u8bad\u7ec3\u3001\u63a8\u7406\uff0c\u52a8\u7269\u884c\u4e3a\u5206\u6790\u6d41\u7a0b\u3002 \u8bba\u6587\u56fe\u8868\u590d\u73b0\ud83d\udd17 \u4e0d\u9700\u8981\u914d\u7f6e\u670d\u52a1\u5668\u73af\u5883\uff0c\u53ea\u9700\u8981\u914d\u7f6e\u672c\u5730\u73af\u5883\u5373\u53ef\u3002 \u670d\u52a1\u5668\u73af\u5883\u914d\u7f6e\u6ce8\u610f \u6df1\u5ea6\u5b66\u4e60\u73af\u5883\u662f\u672c\u9879\u76ee\u7684\u6838\u5fc3\u57fa\u7840\u3002\u6211\u4eec\u7406\u89e3\u73af\u5883\u642d\u5efa\u53ef\u80fd\u662f\u4e00\u4e2a\u590d\u6742\u4e14\u5177\u6709\u6311\u6218\u6027\u7684\u8fc7\u7a0b\uff0c\u8fd9\u4e5f\u662f\u6574\u4e2aAI\u9886\u57df\u666e\u904d\u9762\u4e34\u7684\u96be\u9898\u3002 \u867d\u7136\u6211\u4eec\u5728\u6301\u7eed\u4f18\u5316\u90e8\u7f72\u6d41\u7a0b\uff0c\u4f46\u5f53\u524d\u9879\u76ee\u4ecd\u5b58\u5728\u4e00\u4e9b\u7248\u672c\u517c\u5bb9\u6027\u95ee\u9898\u3002\u6211\u4eec\u5efa\u8bae\u60a8\u5728\u914d\u7f6e\u73af\u5883\u65f6\u4fdd\u6301\u8010\u5fc3\uff0c\u5e76\u5177\u5907\u4e00\u5b9a\u7684\u6280\u672f\u94bb\u7814\u7cbe\u795e\uff0c\u4ee5\u5e94\u5bf9\u53ef\u80fd\u51fa\u73b0\u7684\u6311\u6218\u3002 \u786c\u4ef6\u914d\u7f6e \u670d\u52a1\u5668\u786c\u4ef6\u914d\u7f6e\u5305\u62ec\uff1a CPU : Intel Xeon 4314 \u5185\u5b58 : 256 GB GPU : 4 \u5757 NVIDIA GeForce RTX 3090 \u5b58\u50a8 : 1 TB \u56fa\u6001\u786c\u76d8 + 8 TB \u673a\u68b0\u786c\u76d8 \u8f6f\u4ef6\u73af\u5883 \u8f6f\u4ef6\u73af\u5883\u5305\u62ec\uff1a \u64cd\u4f5c\u7cfb\u7edf : Ubuntu 18.04 \u6df1\u5ea6\u5b66\u4e60\u6846\u67b6 : CUDA 11.4\u3001cuDNN 8.8\u3001TensorRT 8.6 \u5f00\u53d1\u5de5\u5177 : Python 3.7.16\u3001OpenCV-Python 4.8.0\u3001TensorFlow 2.7.0\u3001PyTorch 1.11.0 \u7528\u4e8e\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b\u8bad\u7ec3\u548c\u6570\u636e\u5206\u6790\u3002 \u91cd\u8981\u8b66\u544a \u76ee\u524d\u4ec5\u652f\u6301 Ubuntu \u7cfb\u7edf\u548c NVIDIA \u663e\u5361\uff0c\u5176\u4ed6\u7cfb\u7edf\u8bf7\u81ea\u884c\u67e5\u9605\u76f8\u5173\u8d44\u6599\u3002 \u91cd\u8981\u8b66\u544a \u7531\u4e8e\u8f6f\u4ef6\u662f\u57282019\u5e74\u914d\u7f6e\u7684\uff0c\u56e0\u6b64\u90e8\u5206\u8f6f\u4ef6\u7248\u672c\u53ef\u80fd\u5df2\u7ecf\u8fc7\u65f6\uff0c\u5efa\u8bae\u6839\u636e\u5b9e\u9645\u9700\u6c42\u9009\u62e9\u6700\u65b0\u7248\u672c\u3002\u5927\u90e8\u5206 Python \u5e93\u53ef\u4ee5\u5728 pip \u548c conda \u4e2d\u627e\u5230\uff0c\u4f46\u662f\u90e8\u5206\u5e93\u53ef\u80fd\u96be\u4ee5\u517c\u5bb9\u5b89\u88c5\u3002\u672c\u6587\u6863\u96be\u4ee5\u517c\u987e\u6240\u6709\u8f6f\u4ef6\u7684\u6700\u65b0\u7248\u672c\uff0c\u8bf7\u81ea\u884c\u67e5\u9605\u76f8\u5173\u8d44\u6599\u3002 \u5f3a\u70c8\u5efa\u8bae\u5b89\u88c5\u8f6f\u4ef6\u5217\u8868 \u8f6f\u4ef6\u540d\u79f0 \u672c\u673a\u6d4b\u8bd5\u7248\u672c\u53f7\uff082022\u5e74\uff09 2025\u5e74\u7248\u672c\uff0c\u672a\u6d4b\u8bd5 \u5907\u6ce8 Ubuntu 18.04 24.04 \u64cd\u4f5c\u7cfb\u7edf\uff0c\u63a8\u8350 Python 3.7.16 3.12 \u5f00\u53d1\u8bed\u8a00\uff0c\u5fc5\u987b CUDA 11.4 12.9 \u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\uff0c\u5fc5\u987b cuDNN 8.8 8.9 \u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\uff0c\u5fc5\u987b TensorRT 8.6 10.13 \u63a8\u7406\u52a0\u901f\uff0c\u5fc5\u987b OpenCV-Python 4.8.0 4.12.0 \u56fe\u50cf\u5904\u7406\uff0c\u5fc5\u987b TensorFlow 2.7.0 2.16.0 DANNCE \u6a21\u578b\uff0c\u5fc5\u987b PyTorch 1.11.0 2.7.1 \u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\uff0c\u5fc5\u987b Docker 24.0.6 28.3.0 \u5bb9\u5668\u5316\uff0c\u7528\u4e8e Mediamtx FFmpeg 4.x 6.x \u89c6\u9891\u8bfb\u5199 Mediamtx - - \u89c6\u9891\u6d41\u670d\u52a1\u5668\uff0c\u7528\u4e8e\u95ed\u73af\u884c\u4e3a\u5e72\u9884 \u6d4b\u8bd5\u5b89\u88c5\u73af\u5883 \u6240\u6709\u8f6f\u4ef6\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u9700\u8981\u8fdb\u884c\u6d4b\u8bd5\uff0c\u4ee5\u786e\u4fdd\u5b89\u88c5\u6210\u529f\u3002\u6d4b\u8bd5\u65b9\u6cd5\u5982\u4e0b\uff1a \u6d4b\u8bd5 nvidia cuda driver $ nvidia-smi \u6d4b\u8bd5 Nvidia Cuda Compiler $ nvcc --version \u6d4b\u8bd5 TensorRT \u547d\u4ee4\u884c\u5de5\u5177 $ trtexec --onnx = /path/to/model.onnx --saveEngine = /path/to/model.engine \u6d4b\u8bd5 polygraphy (NVIDIA \u5b98\u65b9\u5de5\u5177) \u547d\u4ee4\u884c\u5de5\u5177 $ polygraphy inspect model --onnx = /path/to/model.onnx \u6d4b\u8bd5 FFmpeg \u547d\u4ee4\u884c\u5de5\u5177 # ffmpeg generate a 640x480 video, 30 fps, 1 minute $ ffmpeg -f lavfi -i testsrc = duration = 60 :size = 640x480:rate = 30 -c:v libx264 -pix_fmt yuv420p -f mp4 /path/to/test.mp4 # convert it to hevc by NVIDIA HEVC encoder $ ffmpeg -i /path/to/test.mp4 -c:v hevc_nvenc -pix_fmt yuv420p -f mp4 /path/to/test_hevc.mp4 \u6d4b\u8bd5 Docker \u547d\u4ee4\u884c\u5de5\u5177 $ docker run hello-world $ docker run --rm -it -e MTX_PROTOCOLS = tcp -p 8554 :8554 -p 1935 :1935 bluenviron/mediamtx \u4e09\u65b9\u6df1\u5ea6\u5b66\u4e60\u5de5\u5177\u5305 1. OPEN-MMLAB/MMDETECTION \u6a21\u578b \u8fd9\u662f\u4e00\u4e2a\u63d0\u4f9b\u4e86 MaskRCNN \u7684\u5f00\u6e90\u9879\u76ee\uff0c\u7528\u4e8e\u76ee\u6807\u68c0\u6d4b\u548c\u5206\u5272\u3002\u6211\u4eec\u8fdb\u884c\u4e86 fork (2022\u5e74\uff09\uff0c\u5e76\u6dfb\u52a0\u4e86\u81ea\u5b9a\u4e49\u7684\u6a21\u578b\u548c\u914d\u7f6e\u6587\u4ef6\uff0c\u4ee5\u5b9e\u73b0\u591a\u5927\u9f20\u5206\u5272\u3002 \u5b89\u88c5\u65b9\u6cd5\u8bf7\u53c2\u8003 MMdetection \u7684 \u5b98\u65b9\u6587\u6863 \u3002 \u4ee3\u7801\u5730\u5740: https://github.com/chenxinfeng4/mmdetection.git \u91cd\u8981\u8b66\u544a \u6211\u4eec fork \u7684\u662f MMDET 1.x \u7248\u672c\uff0c\u76ee\u524d\u652f\u6301 python3.7\uff1b\u5b98\u7f51\u6700\u65b0\u7684 MMDET \u662f 3.x \u7248\u672c\uff0c\u53ef\u80fd\u5b58\u5728\u4e25\u91cd\u7684\u517c\u5bb9\u6027\u95ee\u9898\u3002\u8bf7\u6839\u636e\u5b9e\u9645\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u7248\u672c\u3002 2. OPEN-MMLAB/MMPOSE \u6a21\u578b \u8fd9\u662f\u4e00\u4e2a\u63d0\u4f9b\u4e86 MaskRCNN \u7684\u5f00\u6e90\u9879\u76ee\uff0c\u7528\u4e8e\u4eba\u4f53\u59ff\u6001\u5173\u952e\u70b9\u68c0\u6d4b\u3002\u6211\u4eec\u8fdb\u884c\u4e86 fork\uff082022\u5e74\uff09\uff0c\u5e76\u6dfb\u52a0\u4e86\u81ea\u5b9a\u4e49\u7684\u6a21\u578b\u548c\u914d\u7f6e\u6587\u4ef6\uff0c\u4ee5\u5b9e\u73b0\u5c0f\u7403\u68c0\u6d4b\u3002 \u5b89\u88c5\u65b9\u6cd5\u8bf7\u53c2\u8003 MMpose \u7684 \u5b98\u65b9\u6587\u6863 \u3002 \u4ee3\u7801\u5730\u5740: https://github.com/chenxinfeng4/mmpose.git \u91cd\u8981\u8b66\u544a \u6211\u4eec fork \u7684\u662f MMPOSE 0.x \u7248\u672c\u3002\u65b0\u7248\u672c\u548c\u73af\u5883\u53ef\u80fd\u5b58\u5728\u517c\u5bb9\u6027\u95ee\u9898\u3002\u8bf7\u6839\u636e\u5b9e\u9645\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u7248\u672c\u3002 3. YOLO-v8 \u6a21\u578b \u8fd9\u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u76ee\u6807\u68c0\u6d4b\uff0c\u5b9e\u4f8b\u5206\u5272\u7684\u5f00\u6e90\u9879\u76ee\u3002\u6211\u4eec\u8fdb\u884c\u4e86 fork\uff082024\u5e74\uff09\uff0c\u5e76\u6dfb\u52a0\u4e86\u81ea\u5b9a\u4e49\u7684\u6a21\u578b\u548c\u914d\u7f6e\u6587\u4ef6\uff0c\u4ee5\u5b9e\u73b0\u5b9e\u65f6\u591a\u5927\u9f20\u5206\u5272\u3002 \u4ee3\u7801\u5730\u5740: https://github.com/chenxinfeng4/ultralytics.git \u91cd\u8981\u8b66\u544a \u6211\u4eec fork \u7684\u7248\u672c\uff0c\u4e0e\u6700\u65b0\u7248\u672c\u53ef\u80fd\u5b58\u5728\u517c\u5bb9\u6027\u95ee\u9898\u3002\u8bf7\u6839\u636e\u5b9e\u9645\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u7248\u672c\u3002 4. DANNCE \u6a21\u578b \u8fd9\u662f\u4e00\u4e2a\u591a\u89c6\u89d2\u52a8\u7269\u59ff\u6001\u4f30\u8ba1\u7684\u5e93\u3002\u6211\u4eec\u8fdb\u884c\u4e86 fork\uff082022\u5e74\uff09\uff0c\u5e76\u6dfb\u52a0\u4e86\u81ea\u5b9a\u4e49\u7684\u6a21\u578b\u548c\u914d\u7f6e\u6587\u4ef6\uff0c\u4ee5\u5b9e\u73b0\u5b9e\u65f6\u591a\u5927\u9f203D\u5173\u952e\u70b9\u8bc6\u522b\u3002 \u4ee3\u7801\u5730\u5740: https://github.com/chenxinfeng4/dannce.git \u91cd\u8981\u8b66\u544a \u6211\u4eec fork \u7684\u7248\u672c\uff0c\u4e0e\u6700\u65b0\u7248\u672c\u53ef\u80fd\u5b58\u5728\u517c\u5bb9\u6027\u95ee\u9898\u3002\u800c\u4e14\uff0c\u8be5\u5e93\u7684\u9884\u6d4b\u7cbe\u5ea6\u9ad8\uff0c\u4f46\u901f\u5ea6\u6162\u3002\u6211\u4eec\u8fdb\u884c\u4e86\u901f\u5ea6\u4f18\u5316\uff0c\u5bfc\u81f4\u4e0e\u539f\u59cb\u4ee3\u7801\u5b58\u5728\u4e00\u4e9b\u5dee\u5f02\uff0c\u4ee5\u53ca\u66f4\u591a\u7684\u517c\u5bb9\u6027\u95ee\u9898\u3002\u5b89\u88c5\u8d77\u6765\u6bd4\u8f83\u9ebb\u70e6\uff0c\u6211\u4eec\u6b63\u5728\u4f18\u5316\u5b89\u88c5\u6587\u6863\u3002 5. SmoothNet \u6a21\u578b \u8fd9\u662f\u4e00\u4e2a\u59ff\u6001\u65f6\u95f4\u5e73\u6ed1\u7684\u5e93\u3002\u6211\u4eec\u8fdb\u884c\u4e86 fork\uff082022\u5e74\uff09\uff0c\u5e76\u6dfb\u52a0\u4e86\u81ea\u5b9a\u4e49\u7684\u6a21\u578b\u548c\u914d\u7f6e\u6587\u4ef6\uff0c\u4ee5\u5b9e\u73b0\u5b9e\u65f6\u591a\u5927\u9f203D\u5173\u952e\u70b9\u5e73\u6ed1\u3002 \u4ee3\u7801\u5730\u5740: https://github.com/chenxinfeng4/SmoothNet.git \u91cd\u8981\u8b66\u544a \u6211\u4eec fork \u7684\u7248\u672c\uff0c\u4e0e\u6700\u65b0\u7248\u672c\u53ef\u80fd\u5b58\u5728\u517c\u5bb9\u6027\u95ee\u9898\u3002\u8bf7\u6839\u636e\u5b9e\u9645\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u7248\u672c\u3002 \u5b89\u88c5\u672c\u9879\u76ee\u521b\u5efa\u548c\u6539\u9020\u7684 python \u5305 1. LILAB \u5206\u6790\u5de5\u5177\u5305 \u5305\u542b\u4e86\u5e38\u89c1\u7684\u5206\u6790\u5de5\u5177\uff0c\u5982\u76f8\u673a\u6807\u5b9a\u6d41\u7a0b\uff0c\u5927\u9f20\u5206\u5272\u3001\u59ff\u6001\u4f30\u8ba1\u6d41\u7a0b\uff0c\u884c\u4e3a\u8bc6\u522b\u6d41\u7a0b\uff0c\u5927\u6570\u636e\u6316\u6398\u76f8\u5173\u5de5\u5177\u7b49\u3002 \u4ee3\u7801\u5730\u5740: https://github.com/chenxinfeng4/LILAB-py.git \u5b89\u88c5\u65b9\u6cd5\uff1a git clone https://github.com/chenxinfeng4/LILAB-py.git cd LILAB-py pip install -e . \u91cd\u8981\u8b66\u544a \u5305\u542b\u8bb8\u591a\u6d41\u7a0b\u5de5\u5177\uff0c\u4f9d\u8d56\u8fc7\u4e8e\u5e9e\u5927\uff0c\u56e0\u6b64\u4e0d\u8fdb\u884c\u81ea\u52a8\u4f9d\u8d56\u5b89\u88c5\u3002\u5982\u679c import \u62a5\u9519\uff0c\u5219\u9700\u8981\u624b\u52a8\u5b89\u88c5\u4f9d\u8d56\u3002 2. FFMPEGCV \u5de5\u5177\u5305 GPU \u52a0\u901f\u7684\u89c6\u9891\u5904\u7406\u5de5\u5177\u5305\uff0c\u65b9\u4fbf\u591a\u76f8\u673a\u89c6\u9891\u8bfb\u5199\uff0c\u67d0\u4e9b\u573a\u666f\u4e0b\u6bd4 OpenCV \u5feb 9 \u500d\u3002\u6211\u5f00\u6e90\u4e4b\u540e\uff0c\u5e74\u4e0b\u8f7d\u91cf 7 \u4e07\u6b21 \u3002\u67e5\u770b\u5bf9\u5e94 \u6587\u6863 \u3002 \u4ee3\u7801\u5730\u5740: https://github.com/chenxinfeng4/ffmpegcv.git \u5b89\u88c5\u65b9\u6cd5\uff1a pip install ffmpegcv \u91cd\u8981\u8b66\u544a \u4f7f\u7528 GPU \u52a0\u901f\uff0c\u9700\u8981\u6709 NVIDIA-driver\u3002 3. multiview_calib \u5de5\u5177\u5305 \u76f8\u673a\u5916\u53c2\u6807\u5b9a\uff08\u5c0f\u7403\u6807\u5b9a\uff09\u7684\u5de5\u5177\u5305\u3002\u5728\u4e09\u65b9\u5e93\u57fa\u7840\u4e0a\uff0c\u8fdb\u884c\u4e86\u4f18\u5316\uff0c\u5e76\u6dfb\u52a0\u4e86\u81ea\u5b9a\u4e49\u7684\u6807\u5b9a\u6d41\u7a0b\u3002\u67e5\u770b\u5bf9\u5e94 \u6587\u6863 \u3002 \u4ee3\u7801\u5730\u5740: https://github.com/chenxinfeng4/multiview_calib.git \u5b89\u88c5\u65b9\u6cd5\uff1a pip install git+https://github.com/chenxinfeng4/multiview_calib.git # \u5c0f\u7403\u6807\u5b9a\u7b80\u6613\u6559\u7a0b git clone https://github.com/chenxinfeng4/multiview_ball_calib 4. \u5176\u5b83\u6539\u9020\u5de5\u5177\u5305 torch2trt : torch2trt \u6539\u9020\uff0c\u652f\u6301 engine \u6587\u4ef6\u76f4\u63a5\u8f7d\u5165\u3002 pip install git+https://github.com/chenxinfeng4/torch2trt cocoapi : \u5c06 cocoapi \u8fdb\u884c\u591a\u7ebf\u7a0b\u6539\u9020\uff0c\u63d0\u5347\u901f\u5ea6\u3002 pip install git+https://github.com/chenxinfeng4/cocoapi mmdetection-to-tensorrt : Mask-RCNN \u6a21\u578b\u8f6c\u6362\u4e3a tensorrt \u6a21\u578b\u3002 pip install git+https://github.com/chenxinfeng4/mmdetection-to-tensorrt","title":"\u670d\u52a1\u5668\u73af\u5883\u914d\u7f6e"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#_1","text":"\u53ea\u6709\u914d\u7f6e\u597d\u670d\u52a1\u5668\u73af\u5883\uff0c\u624d\u80fd\u987a\u5229\u8fd0\u884c\u672c\u9879\u76ee\uff0c\u5305\u62ec\u6a21\u578b\u8bad\u7ec3\u3001\u63a8\u7406\uff0c\u52a8\u7269\u884c\u4e3a\u5206\u6790\u6d41\u7a0b\u3002 \u8bba\u6587\u56fe\u8868\u590d\u73b0\ud83d\udd17 \u4e0d\u9700\u8981\u914d\u7f6e\u670d\u52a1\u5668\u73af\u5883\uff0c\u53ea\u9700\u8981\u914d\u7f6e\u672c\u5730\u73af\u5883\u5373\u53ef\u3002 \u670d\u52a1\u5668\u73af\u5883\u914d\u7f6e\u6ce8\u610f \u6df1\u5ea6\u5b66\u4e60\u73af\u5883\u662f\u672c\u9879\u76ee\u7684\u6838\u5fc3\u57fa\u7840\u3002\u6211\u4eec\u7406\u89e3\u73af\u5883\u642d\u5efa\u53ef\u80fd\u662f\u4e00\u4e2a\u590d\u6742\u4e14\u5177\u6709\u6311\u6218\u6027\u7684\u8fc7\u7a0b\uff0c\u8fd9\u4e5f\u662f\u6574\u4e2aAI\u9886\u57df\u666e\u904d\u9762\u4e34\u7684\u96be\u9898\u3002 \u867d\u7136\u6211\u4eec\u5728\u6301\u7eed\u4f18\u5316\u90e8\u7f72\u6d41\u7a0b\uff0c\u4f46\u5f53\u524d\u9879\u76ee\u4ecd\u5b58\u5728\u4e00\u4e9b\u7248\u672c\u517c\u5bb9\u6027\u95ee\u9898\u3002\u6211\u4eec\u5efa\u8bae\u60a8\u5728\u914d\u7f6e\u73af\u5883\u65f6\u4fdd\u6301\u8010\u5fc3\uff0c\u5e76\u5177\u5907\u4e00\u5b9a\u7684\u6280\u672f\u94bb\u7814\u7cbe\u795e\uff0c\u4ee5\u5e94\u5bf9\u53ef\u80fd\u51fa\u73b0\u7684\u6311\u6218\u3002","title":"\u670d\u52a1\u5668\u73af\u5883\u914d\u7f6e"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#_2","text":"\u670d\u52a1\u5668\u786c\u4ef6\u914d\u7f6e\u5305\u62ec\uff1a CPU : Intel Xeon 4314 \u5185\u5b58 : 256 GB GPU : 4 \u5757 NVIDIA GeForce RTX 3090 \u5b58\u50a8 : 1 TB \u56fa\u6001\u786c\u76d8 + 8 TB \u673a\u68b0\u786c\u76d8","title":"\u786c\u4ef6\u914d\u7f6e"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#_3","text":"\u8f6f\u4ef6\u73af\u5883\u5305\u62ec\uff1a \u64cd\u4f5c\u7cfb\u7edf : Ubuntu 18.04 \u6df1\u5ea6\u5b66\u4e60\u6846\u67b6 : CUDA 11.4\u3001cuDNN 8.8\u3001TensorRT 8.6 \u5f00\u53d1\u5de5\u5177 : Python 3.7.16\u3001OpenCV-Python 4.8.0\u3001TensorFlow 2.7.0\u3001PyTorch 1.11.0 \u7528\u4e8e\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b\u8bad\u7ec3\u548c\u6570\u636e\u5206\u6790\u3002 \u91cd\u8981\u8b66\u544a \u76ee\u524d\u4ec5\u652f\u6301 Ubuntu \u7cfb\u7edf\u548c NVIDIA \u663e\u5361\uff0c\u5176\u4ed6\u7cfb\u7edf\u8bf7\u81ea\u884c\u67e5\u9605\u76f8\u5173\u8d44\u6599\u3002 \u91cd\u8981\u8b66\u544a \u7531\u4e8e\u8f6f\u4ef6\u662f\u57282019\u5e74\u914d\u7f6e\u7684\uff0c\u56e0\u6b64\u90e8\u5206\u8f6f\u4ef6\u7248\u672c\u53ef\u80fd\u5df2\u7ecf\u8fc7\u65f6\uff0c\u5efa\u8bae\u6839\u636e\u5b9e\u9645\u9700\u6c42\u9009\u62e9\u6700\u65b0\u7248\u672c\u3002\u5927\u90e8\u5206 Python \u5e93\u53ef\u4ee5\u5728 pip \u548c conda \u4e2d\u627e\u5230\uff0c\u4f46\u662f\u90e8\u5206\u5e93\u53ef\u80fd\u96be\u4ee5\u517c\u5bb9\u5b89\u88c5\u3002\u672c\u6587\u6863\u96be\u4ee5\u517c\u987e\u6240\u6709\u8f6f\u4ef6\u7684\u6700\u65b0\u7248\u672c\uff0c\u8bf7\u81ea\u884c\u67e5\u9605\u76f8\u5173\u8d44\u6599\u3002","title":"\u8f6f\u4ef6\u73af\u5883"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#_4","text":"\u8f6f\u4ef6\u540d\u79f0 \u672c\u673a\u6d4b\u8bd5\u7248\u672c\u53f7\uff082022\u5e74\uff09 2025\u5e74\u7248\u672c\uff0c\u672a\u6d4b\u8bd5 \u5907\u6ce8 Ubuntu 18.04 24.04 \u64cd\u4f5c\u7cfb\u7edf\uff0c\u63a8\u8350 Python 3.7.16 3.12 \u5f00\u53d1\u8bed\u8a00\uff0c\u5fc5\u987b CUDA 11.4 12.9 \u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\uff0c\u5fc5\u987b cuDNN 8.8 8.9 \u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\uff0c\u5fc5\u987b TensorRT 8.6 10.13 \u63a8\u7406\u52a0\u901f\uff0c\u5fc5\u987b OpenCV-Python 4.8.0 4.12.0 \u56fe\u50cf\u5904\u7406\uff0c\u5fc5\u987b TensorFlow 2.7.0 2.16.0 DANNCE \u6a21\u578b\uff0c\u5fc5\u987b PyTorch 1.11.0 2.7.1 \u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\uff0c\u5fc5\u987b Docker 24.0.6 28.3.0 \u5bb9\u5668\u5316\uff0c\u7528\u4e8e Mediamtx FFmpeg 4.x 6.x \u89c6\u9891\u8bfb\u5199 Mediamtx - - \u89c6\u9891\u6d41\u670d\u52a1\u5668\uff0c\u7528\u4e8e\u95ed\u73af\u884c\u4e3a\u5e72\u9884","title":"\u5f3a\u70c8\u5efa\u8bae\u5b89\u88c5\u8f6f\u4ef6\u5217\u8868"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#_5","text":"\u6240\u6709\u8f6f\u4ef6\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u9700\u8981\u8fdb\u884c\u6d4b\u8bd5\uff0c\u4ee5\u786e\u4fdd\u5b89\u88c5\u6210\u529f\u3002\u6d4b\u8bd5\u65b9\u6cd5\u5982\u4e0b\uff1a","title":"\u6d4b\u8bd5\u5b89\u88c5\u73af\u5883"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#nvidia-cuda-driver","text":"$ nvidia-smi","title":"\u6d4b\u8bd5 nvidia cuda driver"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#nvidia-cuda-compiler","text":"$ nvcc --version","title":"\u6d4b\u8bd5 Nvidia Cuda Compiler"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#tensorrt","text":"$ trtexec --onnx = /path/to/model.onnx --saveEngine = /path/to/model.engine","title":"\u6d4b\u8bd5 TensorRT \u547d\u4ee4\u884c\u5de5\u5177"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#polygraphy-nvidia","text":"$ polygraphy inspect model --onnx = /path/to/model.onnx","title":"\u6d4b\u8bd5 polygraphy (NVIDIA \u5b98\u65b9\u5de5\u5177) \u547d\u4ee4\u884c\u5de5\u5177"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#ffmpeg","text":"# ffmpeg generate a 640x480 video, 30 fps, 1 minute $ ffmpeg -f lavfi -i testsrc = duration = 60 :size = 640x480:rate = 30 -c:v libx264 -pix_fmt yuv420p -f mp4 /path/to/test.mp4 # convert it to hevc by NVIDIA HEVC encoder $ ffmpeg -i /path/to/test.mp4 -c:v hevc_nvenc -pix_fmt yuv420p -f mp4 /path/to/test_hevc.mp4","title":"\u6d4b\u8bd5 FFmpeg \u547d\u4ee4\u884c\u5de5\u5177"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#docker","text":"$ docker run hello-world $ docker run --rm -it -e MTX_PROTOCOLS = tcp -p 8554 :8554 -p 1935 :1935 bluenviron/mediamtx","title":"\u6d4b\u8bd5 Docker \u547d\u4ee4\u884c\u5de5\u5177"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#_6","text":"","title":"\u4e09\u65b9\u6df1\u5ea6\u5b66\u4e60\u5de5\u5177\u5305"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#1-open-mmlabmmdetection","text":"\u8fd9\u662f\u4e00\u4e2a\u63d0\u4f9b\u4e86 MaskRCNN \u7684\u5f00\u6e90\u9879\u76ee\uff0c\u7528\u4e8e\u76ee\u6807\u68c0\u6d4b\u548c\u5206\u5272\u3002\u6211\u4eec\u8fdb\u884c\u4e86 fork (2022\u5e74\uff09\uff0c\u5e76\u6dfb\u52a0\u4e86\u81ea\u5b9a\u4e49\u7684\u6a21\u578b\u548c\u914d\u7f6e\u6587\u4ef6\uff0c\u4ee5\u5b9e\u73b0\u591a\u5927\u9f20\u5206\u5272\u3002 \u5b89\u88c5\u65b9\u6cd5\u8bf7\u53c2\u8003 MMdetection \u7684 \u5b98\u65b9\u6587\u6863 \u3002 \u4ee3\u7801\u5730\u5740: https://github.com/chenxinfeng4/mmdetection.git \u91cd\u8981\u8b66\u544a \u6211\u4eec fork \u7684\u662f MMDET 1.x \u7248\u672c\uff0c\u76ee\u524d\u652f\u6301 python3.7\uff1b\u5b98\u7f51\u6700\u65b0\u7684 MMDET \u662f 3.x \u7248\u672c\uff0c\u53ef\u80fd\u5b58\u5728\u4e25\u91cd\u7684\u517c\u5bb9\u6027\u95ee\u9898\u3002\u8bf7\u6839\u636e\u5b9e\u9645\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u7248\u672c\u3002","title":"1. OPEN-MMLAB/MMDETECTION \u6a21\u578b"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#2-open-mmlabmmpose","text":"\u8fd9\u662f\u4e00\u4e2a\u63d0\u4f9b\u4e86 MaskRCNN \u7684\u5f00\u6e90\u9879\u76ee\uff0c\u7528\u4e8e\u4eba\u4f53\u59ff\u6001\u5173\u952e\u70b9\u68c0\u6d4b\u3002\u6211\u4eec\u8fdb\u884c\u4e86 fork\uff082022\u5e74\uff09\uff0c\u5e76\u6dfb\u52a0\u4e86\u81ea\u5b9a\u4e49\u7684\u6a21\u578b\u548c\u914d\u7f6e\u6587\u4ef6\uff0c\u4ee5\u5b9e\u73b0\u5c0f\u7403\u68c0\u6d4b\u3002 \u5b89\u88c5\u65b9\u6cd5\u8bf7\u53c2\u8003 MMpose \u7684 \u5b98\u65b9\u6587\u6863 \u3002 \u4ee3\u7801\u5730\u5740: https://github.com/chenxinfeng4/mmpose.git \u91cd\u8981\u8b66\u544a \u6211\u4eec fork \u7684\u662f MMPOSE 0.x \u7248\u672c\u3002\u65b0\u7248\u672c\u548c\u73af\u5883\u53ef\u80fd\u5b58\u5728\u517c\u5bb9\u6027\u95ee\u9898\u3002\u8bf7\u6839\u636e\u5b9e\u9645\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u7248\u672c\u3002","title":"2. OPEN-MMLAB/MMPOSE \u6a21\u578b"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#3-yolo-v8","text":"\u8fd9\u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u76ee\u6807\u68c0\u6d4b\uff0c\u5b9e\u4f8b\u5206\u5272\u7684\u5f00\u6e90\u9879\u76ee\u3002\u6211\u4eec\u8fdb\u884c\u4e86 fork\uff082024\u5e74\uff09\uff0c\u5e76\u6dfb\u52a0\u4e86\u81ea\u5b9a\u4e49\u7684\u6a21\u578b\u548c\u914d\u7f6e\u6587\u4ef6\uff0c\u4ee5\u5b9e\u73b0\u5b9e\u65f6\u591a\u5927\u9f20\u5206\u5272\u3002 \u4ee3\u7801\u5730\u5740: https://github.com/chenxinfeng4/ultralytics.git \u91cd\u8981\u8b66\u544a \u6211\u4eec fork \u7684\u7248\u672c\uff0c\u4e0e\u6700\u65b0\u7248\u672c\u53ef\u80fd\u5b58\u5728\u517c\u5bb9\u6027\u95ee\u9898\u3002\u8bf7\u6839\u636e\u5b9e\u9645\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u7248\u672c\u3002","title":"3. YOLO-v8 \u6a21\u578b"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#4-dannce","text":"\u8fd9\u662f\u4e00\u4e2a\u591a\u89c6\u89d2\u52a8\u7269\u59ff\u6001\u4f30\u8ba1\u7684\u5e93\u3002\u6211\u4eec\u8fdb\u884c\u4e86 fork\uff082022\u5e74\uff09\uff0c\u5e76\u6dfb\u52a0\u4e86\u81ea\u5b9a\u4e49\u7684\u6a21\u578b\u548c\u914d\u7f6e\u6587\u4ef6\uff0c\u4ee5\u5b9e\u73b0\u5b9e\u65f6\u591a\u5927\u9f203D\u5173\u952e\u70b9\u8bc6\u522b\u3002 \u4ee3\u7801\u5730\u5740: https://github.com/chenxinfeng4/dannce.git \u91cd\u8981\u8b66\u544a \u6211\u4eec fork \u7684\u7248\u672c\uff0c\u4e0e\u6700\u65b0\u7248\u672c\u53ef\u80fd\u5b58\u5728\u517c\u5bb9\u6027\u95ee\u9898\u3002\u800c\u4e14\uff0c\u8be5\u5e93\u7684\u9884\u6d4b\u7cbe\u5ea6\u9ad8\uff0c\u4f46\u901f\u5ea6\u6162\u3002\u6211\u4eec\u8fdb\u884c\u4e86\u901f\u5ea6\u4f18\u5316\uff0c\u5bfc\u81f4\u4e0e\u539f\u59cb\u4ee3\u7801\u5b58\u5728\u4e00\u4e9b\u5dee\u5f02\uff0c\u4ee5\u53ca\u66f4\u591a\u7684\u517c\u5bb9\u6027\u95ee\u9898\u3002\u5b89\u88c5\u8d77\u6765\u6bd4\u8f83\u9ebb\u70e6\uff0c\u6211\u4eec\u6b63\u5728\u4f18\u5316\u5b89\u88c5\u6587\u6863\u3002","title":"4. DANNCE \u6a21\u578b"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#5-smoothnet","text":"\u8fd9\u662f\u4e00\u4e2a\u59ff\u6001\u65f6\u95f4\u5e73\u6ed1\u7684\u5e93\u3002\u6211\u4eec\u8fdb\u884c\u4e86 fork\uff082022\u5e74\uff09\uff0c\u5e76\u6dfb\u52a0\u4e86\u81ea\u5b9a\u4e49\u7684\u6a21\u578b\u548c\u914d\u7f6e\u6587\u4ef6\uff0c\u4ee5\u5b9e\u73b0\u5b9e\u65f6\u591a\u5927\u9f203D\u5173\u952e\u70b9\u5e73\u6ed1\u3002 \u4ee3\u7801\u5730\u5740: https://github.com/chenxinfeng4/SmoothNet.git \u91cd\u8981\u8b66\u544a \u6211\u4eec fork \u7684\u7248\u672c\uff0c\u4e0e\u6700\u65b0\u7248\u672c\u53ef\u80fd\u5b58\u5728\u517c\u5bb9\u6027\u95ee\u9898\u3002\u8bf7\u6839\u636e\u5b9e\u9645\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u7248\u672c\u3002","title":"5. SmoothNet \u6a21\u578b"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#python","text":"","title":"\u5b89\u88c5\u672c\u9879\u76ee\u521b\u5efa\u548c\u6539\u9020\u7684 python \u5305"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#1-lilab","text":"\u5305\u542b\u4e86\u5e38\u89c1\u7684\u5206\u6790\u5de5\u5177\uff0c\u5982\u76f8\u673a\u6807\u5b9a\u6d41\u7a0b\uff0c\u5927\u9f20\u5206\u5272\u3001\u59ff\u6001\u4f30\u8ba1\u6d41\u7a0b\uff0c\u884c\u4e3a\u8bc6\u522b\u6d41\u7a0b\uff0c\u5927\u6570\u636e\u6316\u6398\u76f8\u5173\u5de5\u5177\u7b49\u3002 \u4ee3\u7801\u5730\u5740: https://github.com/chenxinfeng4/LILAB-py.git \u5b89\u88c5\u65b9\u6cd5\uff1a git clone https://github.com/chenxinfeng4/LILAB-py.git cd LILAB-py pip install -e . \u91cd\u8981\u8b66\u544a \u5305\u542b\u8bb8\u591a\u6d41\u7a0b\u5de5\u5177\uff0c\u4f9d\u8d56\u8fc7\u4e8e\u5e9e\u5927\uff0c\u56e0\u6b64\u4e0d\u8fdb\u884c\u81ea\u52a8\u4f9d\u8d56\u5b89\u88c5\u3002\u5982\u679c import \u62a5\u9519\uff0c\u5219\u9700\u8981\u624b\u52a8\u5b89\u88c5\u4f9d\u8d56\u3002","title":"1. LILAB \u5206\u6790\u5de5\u5177\u5305"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#2-ffmpegcv","text":"GPU \u52a0\u901f\u7684\u89c6\u9891\u5904\u7406\u5de5\u5177\u5305\uff0c\u65b9\u4fbf\u591a\u76f8\u673a\u89c6\u9891\u8bfb\u5199\uff0c\u67d0\u4e9b\u573a\u666f\u4e0b\u6bd4 OpenCV \u5feb 9 \u500d\u3002\u6211\u5f00\u6e90\u4e4b\u540e\uff0c\u5e74\u4e0b\u8f7d\u91cf 7 \u4e07\u6b21 \u3002\u67e5\u770b\u5bf9\u5e94 \u6587\u6863 \u3002 \u4ee3\u7801\u5730\u5740: https://github.com/chenxinfeng4/ffmpegcv.git \u5b89\u88c5\u65b9\u6cd5\uff1a pip install ffmpegcv \u91cd\u8981\u8b66\u544a \u4f7f\u7528 GPU \u52a0\u901f\uff0c\u9700\u8981\u6709 NVIDIA-driver\u3002","title":"2. FFMPEGCV \u5de5\u5177\u5305"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#3-multiview_calib","text":"\u76f8\u673a\u5916\u53c2\u6807\u5b9a\uff08\u5c0f\u7403\u6807\u5b9a\uff09\u7684\u5de5\u5177\u5305\u3002\u5728\u4e09\u65b9\u5e93\u57fa\u7840\u4e0a\uff0c\u8fdb\u884c\u4e86\u4f18\u5316\uff0c\u5e76\u6dfb\u52a0\u4e86\u81ea\u5b9a\u4e49\u7684\u6807\u5b9a\u6d41\u7a0b\u3002\u67e5\u770b\u5bf9\u5e94 \u6587\u6863 \u3002 \u4ee3\u7801\u5730\u5740: https://github.com/chenxinfeng4/multiview_calib.git \u5b89\u88c5\u65b9\u6cd5\uff1a pip install git+https://github.com/chenxinfeng4/multiview_calib.git # \u5c0f\u7403\u6807\u5b9a\u7b80\u6613\u6559\u7a0b git clone https://github.com/chenxinfeng4/multiview_ball_calib","title":"3. multiview_calib \u5de5\u5177\u5305"},{"location":"%E8%AE%BE%E5%A4%87%E7%BB%84%E8%A3%85%E5%92%8C%E6%B8%85%E5%8D%95/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#4","text":"torch2trt : torch2trt \u6539\u9020\uff0c\u652f\u6301 engine \u6587\u4ef6\u76f4\u63a5\u8f7d\u5165\u3002 pip install git+https://github.com/chenxinfeng4/torch2trt cocoapi : \u5c06 cocoapi \u8fdb\u884c\u591a\u7ebf\u7a0b\u6539\u9020\uff0c\u63d0\u5347\u901f\u5ea6\u3002 pip install git+https://github.com/chenxinfeng4/cocoapi mmdetection-to-tensorrt : Mask-RCNN \u6a21\u578b\u8f6c\u6362\u4e3a tensorrt \u6a21\u578b\u3002 pip install git+https://github.com/chenxinfeng4/mmdetection-to-tensorrt","title":"4. \u5176\u5b83\u6539\u9020\u5de5\u5177\u5305"}]}